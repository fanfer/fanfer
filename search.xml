<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Fine Turn BLIP2</title>
      <link href="/2023/08/22/Fine-Turn-BLIP2/"/>
      <url>/2023/08/22/Fine-Turn-BLIP2/</url>
      
        <content type="html"><![CDATA[<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!pip install -q datasets</span><br></pre></td></tr></table></figure><pre><code>[1m[[0m[34;49mnotice[0m[1;39;49m][0m[39;49m A new release of pip is available: [0m[31;49m23.1.1[0m[39;49m -&gt; [0m[32;49m23.2.1[0m[1m[[0m[34;49mnotice[0m[1;39;49m][0m[39;49m To update, run: [0m[32;49mpip install --upgrade pip[0m</code></pre><p>æ•™ç¨‹ç½‘å€ï¼š<br>Fine-tune BLIP using Hugging Face transformers and datasets ğŸ¤—<br><a href="https://colab.research.google.com/drive/1lbqiSiA0sDF7JDWPeS0tccrM85LloVha?usp=sharing">https://colab.research.google.com/drive/1lbqiSiA0sDF7JDWPeS0tccrM85LloVha?usp=sharing</a></p><p>è®¨è®ºåŒºï¼š<br><a href="https://github.com/salesforce/BLIP/issues/37">https://github.com/salesforce/BLIP/issues/37</a></p><p>æ•°æ®é›†åˆ¶ä½œæ–¹æ³•ï¼š<br><a href="https://colab.research.google.com/drive/1HLxgrG7xZJ9FvXckNG61J72FkyrbqKAA?usp=sharing">https://colab.research.google.com/drive/1HLxgrG7xZJ9FvXckNG61J72FkyrbqKAA?usp=sharing</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">root = <span class="string">&quot;image_in_rainly_river/&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> datasets <span class="keyword">import</span> load_dataset </span><br></pre></td></tr></table></figure><pre><code>/home/huyifan/anaconda3/envs/yolov5/lib/python3.8/site-packages/tqdm/auto.py:21: TqdmWarning: IProgress not found. Please update jupyter and ipywidgets. See https://ipywidgets.readthedocs.io/en/stable/user_install.html  from .autonotebook import tqdm as notebook_tqdm</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dataset = load_dataset(<span class="string">&quot;imagefolder&quot;</span>,data_dir=root,split=<span class="string">&quot;train&quot;</span>)</span><br></pre></td></tr></table></figure><pre><code>Resolving data files: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 171/171 [00:00&lt;00:00, 201524.58it/s]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dataset</span><br></pre></td></tr></table></figure><pre><code>Dataset(&#123;    features: ['image', 'caption'],    num_rows: 170&#125;)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">example = dataset[<span class="number">0</span>]</span><br><span class="line">image = example[<span class="string">&quot;image&quot;</span>]</span><br><span class="line">width, height = image.size</span><br><span class="line">display(image.resize((<span class="built_in">int</span>(<span class="number">0.3</span>*width), <span class="built_in">int</span>(<span class="number">0.3</span>*height))))</span><br></pre></td></tr></table></figure><p><img src="https://picture.fanfer.fun/Test_pics/IMG_5022.JPG" alt="png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">example[<span class="string">&quot;caption&quot;</span>]</span><br></pre></td></tr></table></figure><pre><code>'a narrow river in the city with buildings on both sides'</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> Dataset</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ImageCaptioningDataset</span>(<span class="title class_ inherited__">Dataset</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, dataset, processor</span>):</span><br><span class="line">        self.dataset = dataset</span><br><span class="line">        self.processor = processor</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__len__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(self.dataset)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self, idx</span>):</span><br><span class="line">        item = self.dataset[idx]</span><br><span class="line"></span><br><span class="line">        encoding = self.processor(images=item[<span class="string">&quot;image&quot;</span>], text=item[<span class="string">&quot;caption&quot;</span>], padding=<span class="string">&quot;max_length&quot;</span>,return_tensors=<span class="string">&quot;pt&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># remove batch dimension</span></span><br><span class="line">        encoding = &#123;k:v.squeeze() <span class="keyword">for</span> k,v <span class="keyword">in</span> encoding.items()&#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> encoding</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> transformers <span class="keyword">import</span> Blip2Processor, Blip2ForConditionalGeneration</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">processor = Blip2Processor.from_pretrained(<span class="string">&quot;Salesforce/blip2-opt-2.7b&quot;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model = Blip2ForConditionalGeneration.from_pretrained(<span class="string">&quot;Salesforce/blip2-opt-2.7b&quot;</span>)</span><br></pre></td></tr></table></figure><pre><code>Loading checkpoint shards: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 2/2 [00:14&lt;00:00,  7.09s/it]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">train_dataset = ImageCaptioningDataset(dataset, processor)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"></span><br><span class="line">train_dataloader = DataLoader(train_dataset, shuffle=<span class="literal">True</span>, batch_size=<span class="number">1</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"></span><br><span class="line">optimizer = torch.optim.AdamW(model.parameters(), lr=<span class="number">5e-5</span>)</span><br><span class="line">device = <span class="string">&quot;cuda&quot;</span> <span class="keyword">if</span> torch.cuda.is_available() <span class="keyword">else</span> <span class="string">&quot;cpu&quot;</span></span><br><span class="line">model.to(device)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">model.train()</span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">50</span>):</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Epoch:&quot;</span>, epoch)</span><br><span class="line">  <span class="keyword">for</span> idx, batch <span class="keyword">in</span> <span class="built_in">enumerate</span>(train_dataloader):</span><br><span class="line">    input_ids = batch.pop(<span class="string">&quot;input_ids&quot;</span>).to(device)</span><br><span class="line">    pixel_values = batch.pop(<span class="string">&quot;pixel_values&quot;</span>).to(device)</span><br><span class="line"></span><br><span class="line">    outputs = model(input_ids=input_ids,</span><br><span class="line">                    pixel_values=pixel_values,</span><br><span class="line">                    labels=input_ids)</span><br><span class="line">    </span><br><span class="line">    loss = outputs.loss</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Loss:&quot;</span>, loss.item())</span><br><span class="line"></span><br><span class="line">    loss.backward()</span><br><span class="line"></span><br><span class="line">    optimizer.step()</span><br><span class="line">    optimizer.zero_grad()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•™ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mac è¿æ¥é…ç½®å¤šä¸ªGithubè´¦å·</title>
      <link href="/2023/08/21/mac-%E8%BF%9E%E6%8E%A5%E9%85%8D%E7%BD%AE%E5%A4%9A%E4%B8%AAGithub%E8%B4%A6%E5%8F%B7/"/>
      <url>/2023/08/21/mac-%E8%BF%9E%E6%8E%A5%E9%85%8D%E7%BD%AE%E5%A4%9A%E4%B8%AAGithub%E8%B4%A6%E5%8F%B7/</url>
      
        <content type="html"><![CDATA[<h3 id="1-ç”Ÿæˆå¤šä¸ªsshå¯†é’¥">1. ç”Ÿæˆå¤šä¸ªSSHå¯†é’¥:</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#bash# å°†emailä¿®æ”¹ä¸ºä½ çš„ç¬¬ä¸€è´¦æˆ·çš„emailï¼Œå»ºè®®ä¸ºå¸¸ç”¨çš„è´¦å·</span></span><br><span class="line">ssh-keygen -q -t rsa -C <span class="string">&quot;your_email_1@example.com&quot;</span> -f ~/.ssh/id_rsa_github_1 --N <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="comment"># å°†emailä¿®æ”¹ä¸ºä½ çš„ç¬¬äºŒè´¦æˆ·çš„email</span></span><br><span class="line">ssh-keygen -q -t rsa -C <span class="string">&quot;your_email_2@example.com&quot;</span> -f ~/.ssh/id_rsa_github_2 -N <span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure><p>ä¸Šè¿°å‘½ä»¤å°†å°†ä¼šç”Ÿæˆä¸¤ä¸ªSSHå¯†é’¥å¯¹<code>id_rsa_github_1</code>å’Œ<code>id_rsa_github_2</code>,åˆ†åˆ«å¯¹åº”ä¸¤ä¸ªGitHubè´¦å·ã€‚</p><h3 id="2-æ·»åŠ sshå¯†é’¥åˆ°githubè´¦å·">2. æ·»åŠ SSHå¯†é’¥åˆ°GitHubè´¦å·:</h3><p>åˆ†åˆ«å°†<code>id_rsa_github_1.pub</code>å’Œ<code>id_rsa_github_2.pub</code>æ–‡ä»¶çš„å†…å®¹æ·»åŠ åˆ°å¯¹åº”çš„GitHubè´¦å·çš„SSH Keysè®¾ç½®é¡µé¢ï¼Œæ³¨æ„åˆ«æåäº†å“¦ï¼</p><p>å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤å°†æ–‡ä»¶å†…å®¹è¯»å–åˆ°å‰ªè´´æ¿ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#bash</span></span><br><span class="line">pbcopy &lt; id_rsa_github_1.pub</span><br><span class="line">pbcopy &lt; id_rsa_github_2.pub</span><br></pre></td></tr></table></figure><h3 id="3-é…ç½®ssh-configæ–‡ä»¶">3. é…ç½®SSH configæ–‡ä»¶:</h3><p>åœ¨<code>~/.ssh/</code>ç›®å½•ä¸‹åˆ›å»º<code>config</code>æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> ~/.ssh/config</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨æ–‡ä»¶ä¸­è¾“å…¥ä»¥ä¸‹å†…å®¹å¹¶ä¿å­˜ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">HostName github.com</span><br><span class="line">IdentityFile ~/.ssh/id_rsa_github_1</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line"></span><br><span class="line">Host github_2.com </span><br><span class="line">HostName github.com</span><br><span class="line">IdentityFile ~/.ssh/id_rsa_github_2</span><br><span class="line">PreferredAuthentications publickey</span><br></pre></td></tr></table></figure><p>è¿™ä¼šå°†github.comå¯¹åº”åˆ°ç¬¬ä¸€ä¸ªGitHubè´¦å·,github_2.comå¯¹åº”åˆ°ç¬¬äºŒä¸ªGitHubè´¦å·ã€‚</p><p><strong>macå¿«æ·é”®comman+shift+.å¯ä»¥æŸ¥çœ‹éšè—æ–‡ä»¶ï¼Œå½“ç”¨æˆ·ä¸å¯¹æ—¶å¯ä»¥ä¿®æ”¹.sshæ–‡ä»¶å¤¹ä¸‹çš„configæ›´æ”¹git@githubçš„å†…å®¹æ¥é‡æ–°é€‰æ‹©è´¦å·</strong></p><h3 id="4-æŠŠä¸“ç”¨å¯†é’¥æ·»åŠ åˆ°é«˜é€Ÿç¼“å­˜ä¸­">4. æŠŠä¸“ç”¨å¯†é’¥æ·»åŠ åˆ°é«˜é€Ÿç¼“å­˜ä¸­</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#bash</span></span><br><span class="line">ssh-add --apple-use-keychain ~/.ssh/id_rsa_github_1</span><br><span class="line">ssh-add --apple-use-keychain ~/.ssh/id_rsa_github_2</span><br></pre></td></tr></table></figure><h3 id="5-æµ‹è¯•sshè¿æ¥">5. æµ‹è¯•SSHè¿æ¥:</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">*<span class="comment">#bash*</span></span><br><span class="line">ssh -T git@github.com</span><br><span class="line">ssh -T git@github_2.com</span><br></pre></td></tr></table></figure><p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œä½ ä¼šå¾—åˆ°å¦‚ä¸‹æ¶ˆæ¯:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hi xxx! You<span class="string">&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span></span><br></pre></td></tr></table></figure><p>å¦‚æœéƒ½å¯ä»¥æˆåŠŸç™»å½•,åˆ™SSHè¿æ¥é…ç½®æˆåŠŸã€‚</p><h3 id="6-æ¸…é™¤global-configé…ç½®">6. æ¸…é™¤global configé…ç½®</h3><p>å¯ä»¥ç”¨<code>git config -l</code>Â æŸ¥çœ‹æ˜¯å¦é…ç½®è¿‡<code>user.name</code>,Â <code>user.email</code>ï¼Œå¦‚æœé…ç½®è¿‡ï¼Œåˆ™ç”¨ä»¥ä¸‹å‘½ä»¤unset:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global --<span class="built_in">unset</span> user.name </span><br><span class="line">git config --global --<span class="built_in">unset</span> user.email</span><br></pre></td></tr></table></figure><h3 id="7-æ­å–œ">7.æ­å–œï¼ï¼ï¼ï¼</h3><blockquote><p>ä½¿ç”¨æ–¹æ³•ï¼šæ³¨æ„ï¼Œåœ¨å…‹éš†ä»“åº“æ—¶ç”¨ä¸ç”¨è´¦æˆ·è¦ä½¿ç”¨å¯¹åº”çš„Host.</p></blockquote><p>å½“å…‹éš†ç¬¬ä¸€ä¸ªGitHubè´¦å·çš„ä»“åº“æ—¶,ä½¿ç”¨git@github.com:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">*<span class="comment">#bash*</span></span><br><span class="line">git <span class="built_in">clone</span> git@github.com:username/repo.git</span><br></pre></td></tr></table></figure><p>å½“å…‹éš†ç¬¬äºŒä¸ªGitHubè´¦å·çš„ä»“åº“æ—¶,ä½¿ç”¨git@github_2.com:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">*<span class="comment">#bash* </span></span><br><span class="line">git <span class="built_in">clone</span> git@github_2.com:username/repo.git</span><br></pre></td></tr></table></figure><p>è¿™ä¼šè‡ªåŠ¨ä½¿ç”¨å¯¹åº”çš„SSHå¯†é’¥ä¸GitHubè´¦å·è¿æ¥ã€‚</p><p>æ‹‰å–æˆåŠŸåï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œä½ å¯ä»¥åœ¨<code>cd</code>åˆ°å¯¹åº”çš„ä»“åº“ç›®å½•ä¸‹ï¼Œç”¨ä¸‹è¿°å‘½ä»¤é…ç½®<code>user.name</code>å’Œ<code>user.email</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --<span class="built_in">local</span> user.name <span class="string">&quot;youname&quot;</span></span><br><span class="line">git config --<span class="built_in">local</span> user.email <span class="string">&quot;youemail@xx.com&quot;</span></span><br></pre></td></tr></table></figure><p>æŒ‰ç…§è¿™äº›æ­¥éª¤,å¯ä»¥åœ¨ä¸€å°Macä¸Šé…ç½®ä»»æ„å¤šä¸ªGitHubè´¦å·,å¹¶å¯ä»¥æ–¹ä¾¿åœ°ä¸ä¹‹äº¤äº’ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•™ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HuggingFace Accelerate</title>
      <link href="/2023/08/21/HuggingFace-Accelerate/"/>
      <url>/2023/08/21/HuggingFace-Accelerate/</url>
      
        <content type="html"><![CDATA[<h2 id="ä½¿ç”¨-ğŸ¤—-accelerate-è¿›è¡Œåˆ†å¸ƒå¼è®­ç»ƒ"><strong><strong>ä½¿ç”¨ ğŸ¤— Accelerate è¿›è¡Œåˆ†å¸ƒå¼è®­ç»ƒ</strong></strong></h2><p>éšç€æ¨¡å‹å˜å¾—è¶Šæ¥è¶Šå¤§ï¼Œå¹¶è¡Œè®­ç»ƒå·²ç»æˆä¸ºåœ¨æœ‰é™çš„ç¡¬ä»¶ä¸Šè®­ç»ƒæ›´å¤§æ¨¡å‹ï¼Œå¹¶å°†è®­ç»ƒé€Ÿåº¦æé«˜å‡ ä¸ªæ•°é‡çº§çš„å¿…å¤‡ç­–ç•¥ã€‚Hugging Face åˆ›å»ºäº†**<a href="https://huggingface.co/docs/accelerate">ğŸ¤— Accelerate</a>**åº“ï¼Œåœ¨ä»»ä½•ç±»å‹çš„åˆ†å¸ƒå¼è®¾ç½®ä¸Šè½»æ¾è®­ç»ƒ ğŸ¤— Transformers æ¨¡å‹ï¼Œæ— è®ºæ˜¯ä¸€å°æœºå™¨ä¸Šçš„å¤šä¸ª GPU è¿˜æ˜¯è·¨å¤šå°æœºå™¨çš„å¤šä¸ª GPUã€‚</p><p>æœ¬æ–‡å…³äºå¦‚ä½•è‡ªå®šä¹‰ PyTorch è®­ç»ƒå¾ªç¯ä»¥åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸­å¯ç”¨è®­ç»ƒã€‚</p><h2 id="setup"><strong>Setup</strong></h2><p>é¦–å…ˆå®‰è£…ä¸‹è½½åˆ†å¸ƒå¼è®­ç»ƒåº“ <strong>ğŸ¤— Accelerate</strong> å¹¶å¯¼å…¥</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">!pip install accelerate</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> accelerate <span class="keyword">import</span> Accelerator</span><br><span class="line"></span><br><span class="line">accelerator = Accelerator()</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ éœ€è¦è‡ªå·±æ‰‹åŠ¨çš„åˆ†é…æ¯å—GPUçš„å†…å­˜ï¼Œé‚£ä¹ˆåœ¨åˆå§‹åŒ–çš„æ—¶å€™éœ€è¦ä¼ é€’å‚æ•°<code>device_placement=False</code></p><p>ç„¶åå°†æ‰€æœ‰çš„è®­ç»ƒç›¸å…³çš„å¯¹è±¡ä¼ é€’ç»™prepareå‡½æ•°ï¼ŒåŒ…æ‹¬ç”¨äºè®­ç»ƒå’Œç”¨äºæ¨¡å‹è¯„ä¼°çš„Dataloaderã€modelå’Œoptimizer</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">train_dataloader, eval_dataloader, model, optimizer = accelerator.prepare(</span><br><span class="line">    train_dataloader, eval_dataloader, model, optimizer</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>è®­ç»ƒçš„å®é™…æ‰¹é‡å¤§å°å°†æ˜¯æ‰€ä½¿ç”¨çš„è®¾å¤‡æ•°é‡ä¹˜ä»¥æ‚¨åœ¨è„šæœ¬ä¸­è®¾ç½®çš„æ‰¹é‡å¤§å°:ä¾‹å¦‚ï¼Œåœ¨åˆ›å»ºtrain_dataloaderæ—¶è®¾ç½®çš„æ‰¹é‡å¤§å°ä¸º16çš„4ä¸ªGPUä¸Šçš„è®­ç»ƒå°†åœ¨å®é™…æ‰¹é‡å¤§å°ä¸º64æ—¶è¿›è¡Œè®­ç»ƒã€‚</p><p>æˆ–è€…ï¼Œå¯ä»¥åœ¨åˆ›å»ºå’Œåˆå§‹åŒ–åŠ é€Ÿå™¨æ—¶ä½¿ç”¨<code>split_batches=True</code>é€‰é¡¹ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ— è®ºæ‚¨åœ¨1ã€2ã€4æˆ–64ä¸ªGPUä¸Šè¿è¡Œè„šæœ¬ï¼Œæ‰¹å¤„ç†å¤§å°éƒ½å°†ä¿æŒä¸å˜ã€‚</p><p>åœ¨æ‰§è¡Œæ­¤æ–¹æ³•æ—¶ï¼Œæ‚¨çš„è®­ç»ƒæ•°æ®åŠ è½½å™¨å¯èƒ½ä¼šæ›´æ”¹é•¿åº¦:å¦‚æœæ‚¨åœ¨Xä¸ªGPUä¸Šè¿è¡Œï¼Œå®ƒçš„é•¿åº¦å°†é™¤ä»¥X(å› ä¸ºæ‚¨çš„å®é™…æ‰¹å¤„ç†å¤§å°å°†ä¹˜ä»¥X)ï¼Œé™¤éè®¾ç½®<code>split_batches=True</code>ã€‚</p><h2 id="åå‘ä¼ é€’">åå‘ä¼ é€’</h2><p>å°†loss.backward()æ›¿æ¢æˆaccelerateçš„backwardæ–¹æ³•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(num_epochs):</span><br><span class="line">    <span class="keyword">for</span> batch <span class="keyword">in</span> train_dataloader:</span><br><span class="line">        outputs = model(**batch)</span><br><span class="line">        loss = outputs.loss</span><br><span class="line">        accelerator.backward(loss)</span><br><span class="line"></span><br><span class="line">        optimizer.step()</span><br><span class="line">        lr_scheduler.step()</span><br><span class="line">        optimizer.zero_grad()</span><br><span class="line">        progress_bar.update(<span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>åªéœ€è¦åšä»¥ä¸‹ä¿®æ”¹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">+ <span class="keyword">from</span> accelerate <span class="keyword">import</span> Accelerator</span><br><span class="line">  <span class="keyword">from</span> transformers <span class="keyword">import</span> AdamW, AutoModelForSequenceClassification, get_scheduler</span><br><span class="line"></span><br><span class="line">+ accelerator = Accelerator()</span><br><span class="line"></span><br><span class="line">  model = AutoModelForSequenceClassification.from_pretrained(checkpoint, num_labels=<span class="number">2</span>)</span><br><span class="line">  optimizer = AdamW(model.parameters(), lr=<span class="number">3e-5</span>)</span><br><span class="line"></span><br><span class="line">- device = torch.device(<span class="string">&quot;cuda&quot;</span>) <span class="keyword">if</span> torch.cuda.is_available() <span class="keyword">else</span> torch.device(<span class="string">&quot;cpu&quot;</span>)</span><br><span class="line">- model.to(device)</span><br><span class="line"></span><br><span class="line">+ train_dataloader, eval_dataloader, model, optimizer = accelerator.prepare(</span><br><span class="line">+     train_dataloader, eval_dataloader, model, optimizer</span><br><span class="line">+ )</span><br><span class="line"></span><br><span class="line">  num_epochs = <span class="number">3</span></span><br><span class="line">  num_training_steps = num_epochs * <span class="built_in">len</span>(train_dataloader)</span><br><span class="line">  lr_scheduler = get_scheduler(</span><br><span class="line">      <span class="string">&quot;linear&quot;</span>,</span><br><span class="line">      optimizer=optimizer,</span><br><span class="line">      num_warmup_steps=<span class="number">0</span>,</span><br><span class="line">      num_training_steps=num_training_steps</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  progress_bar = tqdm(<span class="built_in">range</span>(num_training_steps))</span><br><span class="line"></span><br><span class="line">  model.train()</span><br><span class="line">  <span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(num_epochs):</span><br><span class="line">      <span class="keyword">for</span> batch <span class="keyword">in</span> train_dataloader:</span><br><span class="line">-         batch = &#123;k: v.to(device) <span class="keyword">for</span> k, v <span class="keyword">in</span> batch.items()&#125;</span><br><span class="line">          outputs = model(**batch)</span><br><span class="line">          loss = outputs.loss</span><br><span class="line">-         loss.backward()</span><br><span class="line">+         accelerator.backward(loss)</span><br><span class="line"></span><br><span class="line">          optimizer.step()</span><br><span class="line">          lr_scheduler.step()</span><br><span class="line">          optimizer.zero_grad()</span><br><span class="line">          progress_bar.update(<span class="number">1</span>)</span><br></pre></td></tr></table></figure><h2 id="æ¨¡å‹è®­ç»ƒ">æ¨¡å‹è®­ç»ƒ</h2><h3 id="train-with-a-script"><strong>Train with a script</strong></h3><p>é¦–å…ˆåˆ›å»ºå¹¶ä¿å­˜accelerate configï¼Œè¯¥é…ç½®è¢«ä¿å­˜åœ¨/home/username/.cache/huggingface/accelerate/default_config.yamlè·¯å¾„ä¸‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">accelerate config</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸éœ€è¦ä½¿ç”¨ä¸€äº›å…¶ä»–é…ç½®ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è¿è¡Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -c <span class="string">&quot;from accelerate.utils import write_basic_config; write_basic_config(mixed_precision=&#x27;fp16&#x27;)&quot;</span></span><br></pre></td></tr></table></figure><p>ç„¶åä½¿ç”¨ä¸‹é¢çš„æŒ‡ä»¤è¿›è¡Œè®­ç»ƒ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">accelerate launch train.py</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ä¸‹é¢çš„æŒ‡ä»¤å¯ä»¥æŸ¥çœ‹accelerateçš„é…ç½®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">accelerate env</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚æˆ‘çš„è®­ç»ƒç¯å¢ƒä¸ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">- `Accelerate` version: <span class="number">0.21</span><span class="number">.0</span></span><br><span class="line">- Platform: Linux-<span class="number">5.4</span><span class="number">.0</span>-<span class="number">92</span>-generic-x86_64-<span class="keyword">with</span>-glibc2<span class="number">.10</span></span><br><span class="line">- Python version: <span class="number">3.8</span><span class="number">.16</span></span><br><span class="line">- Numpy version: <span class="number">1.24</span><span class="number">.3</span></span><br><span class="line">- PyTorch version (GPU?): <span class="number">2.0</span><span class="number">.0</span>+cu117 (<span class="literal">True</span>)</span><br><span class="line">- PyTorch XPU available: <span class="literal">False</span></span><br><span class="line">- PyTorch NPU available: <span class="literal">False</span></span><br><span class="line">- System RAM: <span class="number">125.56</span> GB</span><br><span class="line">- GPU <span class="built_in">type</span>: NVIDIA GeForce RTX <span class="number">3090</span></span><br><span class="line">- `Accelerate` default config:</span><br><span class="line">        - compute_environment: LOCAL_MACHINE</span><br><span class="line">        - distributed_type: MULTI_GPU</span><br><span class="line">        - mixed_precision: fp16</span><br><span class="line">        - use_cpu: <span class="literal">False</span></span><br><span class="line">        - num_processes: <span class="number">3</span></span><br><span class="line">        - machine_rank: <span class="number">0</span></span><br><span class="line">        - num_machines: <span class="number">1</span></span><br><span class="line">        - rdzv_backend: static</span><br><span class="line">        - same_network: <span class="literal">False</span></span><br><span class="line">        - main_training_function: main</span><br><span class="line">        - downcast_bf16: <span class="literal">False</span></span><br><span class="line">        - tpu_use_cluster: <span class="literal">False</span></span><br><span class="line">        - tpu_use_sudo: <span class="literal">False</span></span><br></pre></td></tr></table></figure><h3 id="train-with-a-notebook"><strong>Train with a notebook</strong></h3><p>ğŸ¤— Accelerate ä¹Ÿå¯ä»¥ä½¿ç”¨notebookè¿›è¡Œè®­ç»ƒÂ <strong><a href="https://huggingface.co/docs/accelerate/v0.21.0/en/package_reference/launchers#accelerate.notebook_launcher">notebook_launcher</a></strong>:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> accelerate <span class="keyword">import</span> notebook_launcher</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>notebook_launcher(training_function)</span><br></pre></td></tr></table></figure><h2 id="æ¨¡å‹è¯„ä¼°">æ¨¡å‹è¯„ä¼°</h2><p>è‡³äºæ‚¨çš„è®­ç»ƒæ•°æ®åŠ è½½å™¨ï¼Œè¿™å°†æ„å‘³ç€(å¦‚æœæ‚¨åœ¨å¤šä¸ªè®¾å¤‡ä¸Šè¿è¡Œæ‚¨çš„è„šæœ¬)ï¼Œæ¯ä¸ªè®¾å¤‡å°†åªèƒ½çœ‹åˆ°éƒ¨åˆ†è¯„ä¼°æ•°æ®ã€‚è¿™æ„å‘³ç€ä½ éœ€è¦å°†ä½ çš„é¢„æµ‹ç»„åˆåœ¨ä¸€èµ·ã€‚ä½¿ç”¨gather_for_metrics()æ–¹æ³•å¾ˆå®¹æ˜“åšåˆ°è¿™ä¸€ç‚¹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> inputs, targets <span class="keyword">in</span> validation_dataloader:</span><br><span class="line">    predictions = model(inputs)</span><br><span class="line">    <span class="comment"># Gather all predictions and targets</span></span><br><span class="line">    all_predictions, all_targets = accelerator.gather_for_metrics((predictions, targets))</span><br><span class="line">    <span class="comment"># Example of use with a *Datasets.Metric*</span></span><br><span class="line">    metric.add_batch(all_predictions, all_targets)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> HuggingFace </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¬”è®° </tag>
            
            <tag> HuggingFace </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HuggingFace Pipeline</title>
      <link href="/2023/08/18/HuggingFace-Pipeline/"/>
      <url>/2023/08/18/HuggingFace-Pipeline/</url>
      
        <content type="html"><![CDATA[<h2 id="huggingface-ä¸­çš„pipeline">HuggingFace ä¸­çš„pipeline</h2><p>piplineæ˜¯ä½¿ç”¨æ¨¡å‹è¿›è¡Œæ¨ç†çš„ä¸€ç§å¾ˆå¥½ä¸”ç®€å•çš„æ–¹æ³•ã€‚ä½¿ç”¨pipline()å¯ä»¥ä½¿ç”¨**<a href="https://huggingface.co/models">Hub</a>**ä¸­çš„ä»»ä½•æ¨¡å‹æ¥æ¨ç†ä»»ä½•è¯­è¨€ã€è®¡ç®—æœºè§†è§‰ã€è¯­éŸ³å’Œå¤šæ¨¡å¼ä»»åŠ¡ã€‚è€Œä¸ç”¨è€ƒè™‘æ¨¡å‹åº•å±‚ä»£ç ã€‚</p><p>è¿™äº›piplineæ˜¯ä»åº“ä¸­æŠ½è±¡å‡ºå¤§éƒ¨åˆ†å¤æ‚ä»£ç çš„å¯¹è±¡ï¼Œæä¾›ä¸“ç”¨äºå¤šä¸ªä»»åŠ¡çš„ç®€å• API</p><h3 id="ç®€å•ä½¿ç”¨">ç®€å•ä½¿ç”¨</h3><p>æ¯ä¸ªä»»åŠ¡éƒ½æœ‰å…¶å…³è”çš„piplineï¼Œä½¿ç”¨åº”ç”¨äºç‰¹å®šä»»åŠ¡çš„pipelineçš„æ—¶å€™ï¼Œèƒ½å¤Ÿè‡ªåŠ¨åŠ è½½é»˜è®¤æ¨¡å‹å’Œèƒ½å¤Ÿå¤„ç†è¯¥ä»»åŠ¡çš„é¢„å¤„ç†ç±»</p><ol><li>é¦–å…ˆåˆ›å»º**<a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.pipeline">pipeline()</a>**å¹¶æŒ‡å®šæ¨ç†ä»»åŠ¡ï¼š</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> transformers <span class="keyword">import</span> pipeline</span><br><span class="line"></span><br><span class="line">generator = pipeline(task=<span class="string">&quot;automatic-speech-recognition&quot;</span>)</span><br></pre></td></tr></table></figure><ol start="2"><li>å°†è¾“å…¥æ–‡æœ¬ä¼ é€’ç»™**<a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.pipeline">pipeline()</a>**ï¼š</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">generator(<span class="string">&quot;https://huggingface.co/datasets/Narsil/asr_dummy/resolve/main/mlk.flac&quot;</span>)</span><br></pre></td></tr></table></figure><p>3.ä¹Ÿå¯ä»¥æ›´æ¢å‚æ•°é‡æ›´å¤§çš„æ¨¡å‹è¿›è¡Œæ¨ç†</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">generator = pipeline(model=<span class="string">&quot;openai/whisper-large&quot;</span>)</span><br><span class="line">generator(<span class="string">&quot;https://huggingface.co/datasets/Narsil/asr_dummy/resolve/main/mlk.flac&quot;</span>)</span><br></pre></td></tr></table></figure><p>4.å¯ä»¥å°†piplineç”¨åœ¨æ‰¹é‡æ•°æ®æˆ–è€…æ•°æ®é›†ä¸Š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">generator(</span><br><span class="line">    [</span><br><span class="line">        <span class="string">&quot;https://huggingface.co/datasets/Narsil/asr_dummy/resolve/main/mlk.flac&quot;</span>,</span><br><span class="line">        <span class="string">&quot;https://huggingface.co/datasets/Narsil/asr_dummy/resolve/main/1.flac&quot;</span>,</span><br><span class="line">    ]</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h2 id="parameters">Parameters</h2><p>å‚æ•°åˆ—è¡¨å¦‚ä¸‹ï¼š</p><ul><li><p><strong>task</strong>Â (<code>str</code>) â€” The task defining which pipeline will be returned. Currently accepted tasks are:</p><ul><li><code>&quot;audio-classification&quot;</code>: will return aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.AudioClassificationPipeline">AudioClassificationPipeline</a></strong>.</li><li><code>&quot;automatic-speech-recognition&quot;</code>: will return aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.AutomaticSpeechRecognitionPipeline">AutomaticSpeechRecognitionPipeline</a></strong>.</li><li><code>&quot;conversational&quot;</code>: will return aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.ConversationalPipeline">ConversationalPipeline</a></strong>.</li><li><code>&quot;depth-estimation&quot;</code>: will return aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.DepthEstimationPipeline">DepthEstimationPipeline</a></strong>.</li><li><code>&quot;document-question-answering&quot;</code>: will return aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.DocumentQuestionAnsweringPipeline">DocumentQuestionAnsweringPipeline</a></strong>.</li><li><code>&quot;feature-extraction&quot;</code>: will return aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.FeatureExtractionPipeline">FeatureExtractionPipeline</a></strong>.</li><li><code>&quot;fill-mask&quot;</code>: will return aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.FillMaskPipeline">FillMaskPipeline</a></strong>:.</li><li><code>&quot;image-classification&quot;</code>: will return aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.ImageClassificationPipeline">ImageClassificationPipeline</a></strong>.</li><li><code>&quot;image-segmentation&quot;</code>: will return aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.ImageSegmentationPipeline">ImageSegmentationPipeline</a></strong>.</li><li><code>&quot;image-to-text&quot;</code>: will return aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.ImageToTextPipeline">ImageToTextPipeline</a></strong>.</li><li><code>&quot;mask-generation&quot;</code>: will return aÂ <code>MaskGenerationPipeline</code>.</li><li><code>&quot;object-detection&quot;</code>: will return aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.ObjectDetectionPipeline">ObjectDetectionPipeline</a></strong>.</li><li><code>&quot;question-answering&quot;</code>: will return aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.QuestionAnsweringPipeline">QuestionAnsweringPipeline</a></strong>.</li><li><code>&quot;summarization&quot;</code>: will return aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.SummarizationPipeline">SummarizationPipeline</a></strong>.</li><li><code>&quot;table-question-answering&quot;</code>: will return aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.TableQuestionAnsweringPipeline">TableQuestionAnsweringPipeline</a></strong>.</li><li><code>&quot;text2text-generation&quot;</code>: will return aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.Text2TextGenerationPipeline">Text2TextGenerationPipeline</a></strong>.</li><li><code>&quot;text-classification&quot;</code>Â (aliasÂ <code>&quot;sentiment-analysis&quot;</code>Â available): will return aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.TextClassificationPipeline">TextClassificationPipeline</a></strong>.</li><li><code>&quot;text-generation&quot;</code>: will return aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.TextGenerationPipeline">TextGenerationPipeline</a></strong>:.</li><li><code>&quot;token-classification&quot;</code>Â (aliasÂ <code>&quot;ner&quot;</code>Â available): will return aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.TokenClassificationPipeline">TokenClassificationPipeline</a></strong>.</li><li><code>&quot;translation&quot;</code>: will return aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.TranslationPipeline">TranslationPipeline</a></strong>.</li><li><code>&quot;translation_xx_to_yy&quot;</code>: will return aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.TranslationPipeline">TranslationPipeline</a></strong>.</li><li><code>&quot;video-classification&quot;</code>: will return aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.VideoClassificationPipeline">VideoClassificationPipeline</a></strong>.</li><li><code>&quot;visual-question-answering&quot;</code>: will return aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.VisualQuestionAnsweringPipeline">VisualQuestionAnsweringPipeline</a></strong>.</li><li><code>&quot;zero-shot-classification&quot;</code>: will return aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.ZeroShotClassificationPipeline">ZeroShotClassificationPipeline</a></strong>.</li><li><code>&quot;zero-shot-image-classification&quot;</code>: will return aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.ZeroShotImageClassificationPipeline">ZeroShotImageClassificationPipeline</a></strong>.</li><li><code>&quot;zero-shot-audio-classification&quot;</code>: will return aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.ZeroShotAudioClassificationPipeline">ZeroShotAudioClassificationPipeline</a></strong>.</li><li><code>&quot;zero-shot-object-detection&quot;</code>: will return aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/pipelines#transformers.ZeroShotObjectDetectionPipeline">ZeroShotObjectDetectionPipeline</a></strong>.</li></ul></li><li><p><strong>model</strong>Â (<code>str</code>Â orÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/model#transformers.PreTrainedModel">PreTrainedModel</a></strong>Â orÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/model#transformers.TFPreTrainedModel">TFPreTrainedModel</a></strong>,Â <em>optional</em>) â€” The model that will be used by the pipeline to make predictions. This can be a model identifier or an actual instance of a pretrained model inheriting fromÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/model#transformers.PreTrainedModel">PreTrainedModel</a></strong>Â (for PyTorch) orÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/model#transformers.TFPreTrainedModel">TFPreTrainedModel</a></strong>Â (for TensorFlow).</p><p>If not provided, the default for theÂ <code>task</code>Â will be loaded.</p></li><li><p><strong>config</strong>Â (<code>str</code>Â orÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/configuration#transformers.PretrainedConfig">PretrainedConfig</a></strong>,Â <em>optional</em>) â€” The configuration that will be used by the pipeline to instantiate the model. This can be a model identifier or an actual pretrained model configuration inheriting fromÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/configuration#transformers.PretrainedConfig">PretrainedConfig</a></strong>.</p><p>If not provided, the default configuration file for the requested model will be used. That means that ifÂ <code>model</code>Â is given, its default configuration will be used. However, ifÂ <code>model</code>Â is not supplied, thisÂ <code>task</code>â€™s default modelâ€™s config is used instead.</p></li><li><p><strong>tokenizer</strong>Â (<code>str</code>Â orÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/tokenizer#transformers.PreTrainedTokenizer">PreTrainedTokenizer</a></strong>,Â <em>optional</em>) â€” The tokenizer that will be used by the pipeline to encode data for the model. This can be a model identifier or an actual pretrained tokenizer inheriting fromÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/tokenizer#transformers.PreTrainedTokenizer">PreTrainedTokenizer</a></strong>.</p><p>If not provided, the default tokenizer for the givenÂ <code>model</code>Â will be loaded (if it is a string). IfÂ <code>model</code>Â is not specified or not a string, then the default tokenizer forÂ <code>config</code>Â is loaded (if it is a string). However, ifÂ <code>config</code>Â is also not given or not a string, then the default tokenizer for the givenÂ <code>task</code>Â will be loaded.</p></li><li><p><strong>feature_extractor</strong>Â (<code>str</code>Â orÂ <code>PreTrainedFeatureExtractor</code>,Â <em>optional</em>) â€” The feature extractor that will be used by the pipeline to encode data for the model. This can be a model identifier or an actual pretrained feature extractor inheriting fromÂ <code>PreTrainedFeatureExtractor</code>.</p><p>Feature extractors are used for non-NLP models, such as Speech or Vision models as well as multi-modal models. Multi-modal models will also require a tokenizer to be passed.</p><p>If not provided, the default feature extractor for the givenÂ <code>model</code>Â will be loaded (if it is a string). IfÂ <code>model</code>Â is not specified or not a string, then the default feature extractor forÂ <code>config</code>Â is loaded (if it is a string). However, ifÂ <code>config</code>Â is also not given or not a string, then the default feature extractor for the givenÂ <code>task</code>Â will be loaded.</p></li><li><p><strong>framework</strong>Â (<code>str</code>,Â <em>optional</em>) â€” The framework to use, eitherÂ <code>&quot;pt&quot;</code>Â for PyTorch orÂ <code>&quot;tf&quot;</code>Â for TensorFlow. The specified framework must be installed.</p><p>If no framework is specified, will default to the one currently installed. If no framework is specified and both frameworks are installed, will default to the framework of theÂ <code>model</code>, or to PyTorch if no model is provided.</p></li><li><p><strong>revision</strong>Â (<code>str</code>,Â <em>optional</em>, defaults toÂ <code>&quot;main&quot;</code>) â€” When passing a task name or a string model identifier: The specific model version to use. It can be a branch name, a tag name, or a commit id, since we use a git-based system for storing models and other artifacts on <a href="http://huggingface.co">huggingface.co</a>, soÂ <code>revision</code>Â can be any identifier allowed by git.</p></li><li><p><strong>use_fast</strong>Â (<code>bool</code>,Â <em>optional</em>, defaults toÂ <code>True</code>) â€” Whether or not to use a Fast tokenizer if possible (aÂ <strong><a href="https://huggingface.co/docs/transformers/v4.31.0/en/main_classes/tokenizer#transformers.PreTrainedTokenizerFast">PreTrainedTokenizerFast</a></strong>).</p></li><li><p><strong>use_auth_token</strong>Â (<code>str</code>Â orÂ <em>bool</em>,Â <em>optional</em>) â€” The token to use as HTTP bearer authorization for remote files. IfÂ <code>True</code>, will use the token generated when runningÂ <code>huggingface-cli login</code>Â (stored inÂ <code>~/.huggingface</code>).</p></li><li><p><strong>device</strong>Â (<code>int</code>Â orÂ <code>str</code>Â orÂ <code>torch.device</code>) â€” Defines the device (<em>e.g.</em>,Â <code>&quot;cpu&quot;</code>,Â <code>&quot;cuda:1&quot;</code>,Â <code>&quot;mps&quot;</code>, or a GPU ordinal rank likeÂ <code>1</code>) on which this pipeline will be allocated.</p></li><li><p><strong>device_map</strong>Â (<code>str</code>Â orÂ <code>Dict[str, Union[int, str, torch.device]</code>,Â <em>optional</em>) â€” Sent directly asÂ <code>model_kwargs</code>Â (just a simpler shortcut). WhenÂ <code>accelerate</code>Â library is present, setÂ <code>device_map=&quot;auto&quot;</code>Â to compute the most optimizedÂ <code>device_map</code>Â automatically (seeÂ <strong><a href="https://huggingface.co/docs/accelerate/main/en/package_reference/big_modeling#accelerate.cpu_offload">here</a></strong>Â for more information).</p><p>Do not useÂ <code>device_map</code>Â ANDÂ <code>device</code>Â at the same time as they will conflict</p></li><li><p><strong>torch_dtype</strong>Â (<code>str</code>Â orÂ <code>torch.dtype</code>,Â <em>optional</em>) â€” Sent directly asÂ <code>model_kwargs</code>Â (just a simpler shortcut) to use the available precision for this model (<code>torch.float16</code>,Â <code>torch.bfloat16</code>, â€¦ orÂ <code>&quot;auto&quot;</code>).</p></li><li><p><strong>trust_remote_code</strong>Â (<code>bool</code>,Â <em>optional</em>, defaults toÂ <code>False</code>) â€” Whether or not to allow for custom code defined on the Hub in their own modeling, configuration, tokenization or even pipeline files. This option should only be set toÂ <code>True</code>Â for repositories you trust and in which you have read the code, as it will execute code present on the Hub on your local machine.</p></li><li><p><strong>model_kwargs</strong>Â (<code>Dict[str, Any]</code>,Â <em>optional</em>) â€” Additional dictionary of keyword arguments passed along to the modelâ€™sÂ <code>from_pretrained(..., **model_kwargs)</code>Â function.</p></li><li><p><strong>kwargs</strong>Â (<code>Dict[str, Any]</code>,Â <em>optional</em>) â€” Additional keyword arguments passed along to the specific pipeline init (see the documentation for the corresponding pipeline class for possible values).</p></li></ul><h3 id="device">Device</h3><ul><li><strong>device</strong>Â (<code>int</code>Â orÂ <code>str</code>Â orÂ <code>torch.device</code>) â€” Defines the device (<em>e.g.</em>,Â <code>&quot;cpu&quot;</code>,Â <code>&quot;cuda:1&quot;</code>,Â <code>&quot;mps&quot;</code>, or a GPU ordinal rank likeÂ <code>1</code>) on which this pipeline will be allocated.</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">generator = pipeline(model=<span class="string">&quot;openai/whisper-large&quot;</span>, device=<span class="number">0</span>)</span><br></pre></td></tr></table></figure><p>å¦‚æœæ¨¡å‹å¤ªå¤§ï¼Œä½¿ç”¨å•å¼ GPUä¸å¤Ÿï¼Œå¯ä»¥é€šè¿‡è®¾ç½® device_map = â€œautoâ€ä½¿ç”¨ ğŸ¤—Â <strong><a href="https://huggingface.co/docs/accelerate">Accelerate</a></strong>Â è‡ªåŠ¨åˆ†é…æ˜¾å­˜ï¼ŒåŠ è½½æ¨¡å‹å‚æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!pip install accelerate</span></span><br><span class="line">generator = pipeline(model=<span class="string">&quot;openai/whisper-large&quot;</span>, device_map=<span class="string">&quot;auto&quot;</span>)</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ ä½¿ç”¨äº†device_map = â€œautoâ€ï¼Œé‚£ä¹ˆåœ¨å®ä¾‹åŒ–piplineçš„æ—¶å€™å°±ä¸éœ€è¦è®¾ç½®deviceå‚æ•°çš„å€¼</p><ul><li><strong>device_map</strong>Â (<code>str</code>Â orÂ <code>Dict[str, Union[int, str, torch.device]</code>,Â <em>optional</em>) â€” Sent directly asÂ <code>model_kwargs</code>Â (just a simpler shortcut). WhenÂ <code>accelerate</code>Â library is present, setÂ <code>device_map=&quot;auto&quot;</code>Â to compute the most optimizedÂ <code>device_map</code>Â automatically (seeÂ <strong><a href="https://huggingface.co/docs/accelerate/main/en/package_reference/big_modeling#accelerate.cpu_offload">here</a></strong>Â for more information).</li></ul><h3 id="batch-size">Batch Size</h3><p>é»˜è®¤æƒ…å†µä¸‹piplineä¸ä¼šè¿›è¡Œæ‰¹å¤„ç†ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼ä½¿ç”¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">generator = pipeline(model=<span class="string">&quot;openai/whisper-large&quot;</span>, device=<span class="number">0</span>, batch_size=<span class="number">2</span>)</span><br><span class="line">audio_filenames = [<span class="string">f&quot;audio_<span class="subst">&#123;i&#125;</span>.flac&quot;</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line">texts = generator(audio_filenames)</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°çš„ä»£ç ä½¿ç”¨piplineå¯¹10ä¸ªéŸ³é¢‘æ–‡ä»¶è¿›è¡Œæ¨ç†ï¼Œä½†æ˜¯ä¼šæŒ‰ç…§ä¸¤ä¸ªæ‰¹æ¬¡ä¼ é€’ç»™ä½äºGPUä¸Šæ¨¡å‹ã€‚</p><p>å¯¹äºlistæˆ–è€…datasetæˆ–è€…generatoréƒ½å¯ä»¥ä½¿ç”¨æ‰¹å¤„ç†</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> transformers <span class="keyword">import</span> pipeline</span><br><span class="line"><span class="keyword">from</span> transformers.pipelines.pt_utils <span class="keyword">import</span> KeyDataset</span><br><span class="line"><span class="keyword">import</span> datasets</span><br><span class="line"></span><br><span class="line">dataset = datasets.load_dataset(<span class="string">&quot;imdb&quot;</span>, name=<span class="string">&quot;plain_text&quot;</span>, split=<span class="string">&quot;unsupervised&quot;</span>)</span><br><span class="line">pipe = pipeline(<span class="string">&quot;text-classification&quot;</span>, device=<span class="number">0</span>)</span><br><span class="line"><span class="keyword">for</span> out <span class="keyword">in</span> pipe(KeyDataset(dataset, <span class="string">&quot;text&quot;</span>), batch_size=<span class="number">8</span>, truncation=<span class="string">&quot;only_first&quot;</span>):</span><br><span class="line">    <span class="built_in">print</span>(out)</span><br><span class="line">    <span class="comment"># [&#123;&#x27;label&#x27;: &#x27;POSITIVE&#x27;, &#x27;score&#x27;: 0.9998743534088135&#125;]</span></span><br><span class="line">    <span class="comment"># Exactly the same output as before, but the content are passed</span></span><br><span class="line">    <span class="comment"># as batches to the model</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯æ‰¹å¤„ç†ä¹Ÿä¸æ˜¯éƒ½ä¼šç»™æ¨¡å‹åŠ é€Ÿï¼Œå¯èƒ½ä¼šå˜æ…¢ï¼Œç”šè‡³å¯¼è‡´å†…å­˜æ³„æ¼</p><p><strong>Dataset1</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> transformers <span class="keyword">import</span> pipeline</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> Dataset</span><br><span class="line"><span class="keyword">from</span> tqdm.auto <span class="keyword">import</span> tqdm</span><br><span class="line"></span><br><span class="line">pipe = pipeline(<span class="string">&quot;text-classification&quot;</span>, device=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyDataset</span>(<span class="title class_ inherited__">Dataset</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__len__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="number">5000</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self, i</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;This is a test&quot;</span></span><br><span class="line"></span><br><span class="line">dataset = MyDataset()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> batch_size <span class="keyword">in</span> [<span class="number">1</span>, <span class="number">8</span>, <span class="number">64</span>, <span class="number">256</span>]:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;-&quot;</span> * <span class="number">30</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Streaming batch_size=<span class="subst">&#123;batch_size&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> out <span class="keyword">in</span> tqdm(pipe(dataset, batch_size=batch_size), total=<span class="built_in">len</span>(dataset)):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># On GTX 970</span></span><br><span class="line">------------------------------</span><br><span class="line">Streaming no batching</span><br><span class="line"><span class="number">100</span>%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| <span class="number">5000</span>/<span class="number">5000</span> [<span class="number">00</span>:<span class="number">26</span>&lt;<span class="number">00</span>:<span class="number">00</span>, <span class="number">187.52</span>it/s]</span><br><span class="line">------------------------------</span><br><span class="line">Streaming batch_size=<span class="number">8</span></span><br><span class="line"><span class="number">100</span>%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| <span class="number">5000</span>/<span class="number">5000</span> [<span class="number">00</span>:04&lt;<span class="number">00</span>:<span class="number">00</span>, <span class="number">1205.95</span>it/s]</span><br><span class="line">------------------------------</span><br><span class="line">Streaming batch_size=<span class="number">64</span></span><br><span class="line"><span class="number">100</span>%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| <span class="number">5000</span>/<span class="number">5000</span> [<span class="number">00</span>:02&lt;<span class="number">00</span>:<span class="number">00</span>, <span class="number">2478.24</span>it/s]</span><br><span class="line">------------------------------</span><br><span class="line">Streaming batch_size=<span class="number">256</span></span><br><span class="line"><span class="number">100</span>%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| <span class="number">5000</span>/<span class="number">5000</span> [<span class="number">00</span>:01&lt;<span class="number">00</span>:<span class="number">00</span>, <span class="number">2554.43</span>it/s]</span><br><span class="line">(diminishing returns, saturated the GPU)</span><br></pre></td></tr></table></figure><p><strong>Dataset2</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyDataset</span>(<span class="title class_ inherited__">Dataset</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__len__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="number">5000</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self, i</span>):</span><br><span class="line">        <span class="keyword">if</span> i % <span class="number">64</span> == <span class="number">0</span>:</span><br><span class="line">            n = <span class="number">100</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            n = <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;This is a test&quot;</span> * n</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">------------------------------</span><br><span class="line">Streaming no batching</span><br><span class="line"><span class="number">100</span>%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| <span class="number">1000</span>/<span class="number">1000</span> [<span class="number">00</span>:05&lt;<span class="number">00</span>:<span class="number">00</span>, <span class="number">183.69</span>it/s]</span><br><span class="line">------------------------------</span><br><span class="line">Streaming batch_size=<span class="number">8</span></span><br><span class="line"><span class="number">100</span>%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| <span class="number">1000</span>/<span class="number">1000</span> [<span class="number">00</span>:03&lt;<span class="number">00</span>:<span class="number">00</span>, <span class="number">265.74</span>it/s]</span><br><span class="line">------------------------------</span><br><span class="line">Streaming batch_size=<span class="number">64</span></span><br><span class="line"><span class="number">100</span>%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| <span class="number">1000</span>/<span class="number">1000</span> [<span class="number">00</span>:<span class="number">26</span>&lt;<span class="number">00</span>:<span class="number">00</span>, <span class="number">37.80</span>it/s]</span><br><span class="line">------------------------------</span><br><span class="line">Streaming batch_size=<span class="number">256</span></span><br><span class="line">  <span class="number">0</span>%|                                                                                 | <span class="number">0</span>/<span class="number">1000</span> [<span class="number">00</span>:<span class="number">00</span>&lt;?, ?it/s]</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;/home/nicolas/src/transformers/test.py&quot;</span>, line <span class="number">42</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    <span class="keyword">for</span> out <span class="keyword">in</span> tqdm(pipe(dataset, batch_size=<span class="number">256</span>), total=<span class="built_in">len</span>(dataset)):</span><br><span class="line">....</span><br><span class="line">    q = q / math.sqrt(dim_per_head)  <span class="comment"># (bs, n_heads, q_length, dim_per_head)</span></span><br><span class="line">RuntimeError: CUDA out of memory. Tried to allocate <span class="number">376.00</span> MiB (GPU <span class="number">0</span>; <span class="number">3.95</span> GiB total capacity; <span class="number">1.72</span> GiB already allocated; <span class="number">354.88</span> MiB free; <span class="number">2.46</span> GiB reserved <span class="keyword">in</span> total by PyTorch)</span><br></pre></td></tr></table></figure><p>ç”±äºç¬¬äºŒä¸ªæ•°æ®é›†ä¸­ï¼Œå­˜åœ¨ä¸ªåˆ«ç‰¹åˆ«é•¿çš„æ•°æ®ï¼Œå°±å¯¼è‡´åŒä¸€æ‰¹æ¬¡çš„æ‰€æœ‰æ•°æ®éƒ½è¦paddingåˆ°400ä¸ªtokené•¿ï¼Œé‚£ä¸ªä¸€ä¸ªbatchå°±ä¼šä»ä¹‹å‰çš„ã€64ï¼Œ4ã€‘å˜æˆã€64ï¼Œ400ã€‘ï¼Œå½“æ‰¹æ¬¡å†å¢å¤§åˆ°256çš„æ—¶å€™ï¼Œç¨‹åºå°±ä¼šå´©æºƒã€‚</p><p>ä½†æ˜¯å¯¹äºè¿™æ ·çš„é—®é¢˜ï¼Œæ²¡æœ‰é€šç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œåªèƒ½æ ¹æ®ç»éªŒå’Œå®é™…çš„æ•°æ®è¿›è¡Œæµ‹è¯•</p><p>ä¸‹é¢è¿™äº›æƒ…å†µä¸è¦ä½¿ç”¨Batch</p><p>å¯¹äºæ¨¡å‹æ¨ç†çš„å®æ—¶æ€§è¦æ±‚è¾ƒé«˜ã€å¦‚æœä½¿ç”¨CPUã€å¦‚æœå¯¹äºå¯èƒ½çš„è¾“å…¥çš„sequence_lengthæœªçŸ¥</p><p>å¦‚æœä½¿ç”¨äº†batchingï¼Œé‚£ä¹ˆéœ€è¦æ³¨æ„OOMs(out of memory)</p><h3 id="pipeline-chunk-batching">Pipeline chunk batching</h3><p>åƒzero-shot- classificationå’ŒQAé—®é¢˜è¿™æ ·çš„ï¼Œä¸€ä¸ªè¾“å…¥å¯èƒ½éœ€è¦å¯¹ä¸€ä¸ªæ¨¡å‹åšå¤šä¸ªå‰å‘ä¼ æ’­ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨ChunkPipelineè€Œä¸æ˜¯æ™®é€šçš„Pipeline</p><p>æ™®é€šæ¨¡å‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">preprocessed = pipe.preprocess(inputs)</span><br><span class="line">model_outputs = pipe.forward(preprocessed)</span><br><span class="line">outputs = pipe.postprocess(model_outputs)</span><br></pre></td></tr></table></figure><p>chunk pipeline:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">all_model_outputs = []</span><br><span class="line"><span class="keyword">for</span> preprocessed <span class="keyword">in</span> pipe.preprocess(inputs):</span><br><span class="line">    model_outputs = pipe.forward(preprocessed)</span><br><span class="line">    all_model_outputs.append(model_outputs)</span><br><span class="line">outputs = pipe.postprocess(all_model_outputs)</span><br></pre></td></tr></table></figure><h2 id="åœ¨datasetä¸Šä½¿ç”¨pipeline">åœ¨datasetä¸Šä½¿ç”¨pipeline</h2><p>ä»ğŸ¤—Â <strong><a href="https://github.com/huggingface/datasets/">Datasets</a>åŠ è½½å¹¶è¿­ä»£æ•°æ®é›†</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># KeyDataset is a util that will just output the item we&#x27;re interested in.</span></span><br><span class="line"><span class="keyword">from</span> transformers.pipelines.pt_utils <span class="keyword">import</span> KeyDataset</span><br><span class="line"><span class="keyword">from</span> datasets <span class="keyword">import</span> load_dataset</span><br><span class="line"></span><br><span class="line">pipe = pipeline(model=<span class="string">&quot;hf-internal-testing/tiny-random-wav2vec2&quot;</span>, device=<span class="number">0</span>)</span><br><span class="line">dataset = load_dataset(<span class="string">&quot;hf-internal-testing/librispeech_asr_dummy&quot;</span>, <span class="string">&quot;clean&quot;</span>, split=<span class="string">&quot;validation[:10]&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> out <span class="keyword">in</span> pipe(KeyDataset(dataset, <span class="string">&quot;audio&quot;</span>)):</span><br><span class="line">    <span class="built_in">print</span>(out)</span><br></pre></td></tr></table></figure><h2 id="åœ¨å¤§æ¨¡å‹ä¸Šé€šè¿‡accelerateä½¿ç”¨pipeline">åœ¨å¤§æ¨¡å‹ä¸Šé€šè¿‡accelerateä½¿ç”¨pipeline</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pip install accelerate</span></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> transformers <span class="keyword">import</span> pipeline</span><br><span class="line"></span><br><span class="line">pipe = pipeline(model=<span class="string">&quot;facebook/opt-1.3b&quot;</span>, torch_dtype=torch.bfloat16, device_map=<span class="string">&quot;auto&quot;</span>)</span><br><span class="line">output = pipe(<span class="string">&quot;This is a cool example!&quot;</span>, do_sample=<span class="literal">True</span>, top_p=<span class="number">0.95</span>)</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ä¼ é€’ 8 ä½åŠ è½½æ¨¡å‹<code>load_in_8bit=True</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pip install accelerate bitsandbytes</span></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> transformers <span class="keyword">import</span> pipeline</span><br><span class="line"></span><br><span class="line">pipe = pipeline(model=<span class="string">&quot;facebook/opt-1.3b&quot;</span>, device_map=<span class="string">&quot;auto&quot;</span>, model_kwargs=&#123;<span class="string">&quot;load_in_8bit&quot;</span>: <span class="literal">True</span>&#125;)</span><br><span class="line">output = pipe(<span class="string">&quot;This is a cool example!&quot;</span>, do_sample=<span class="literal">True</span>, top_p=<span class="number">0.95</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> HuggingFace </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¬”è®° </tag>
            
            <tag> HuggingFace </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Transformers Quick Start</title>
      <link href="/2023/08/17/transformer-quick-start/"/>
      <url>/2023/08/17/transformer-quick-start/</url>
      
        <content type="html"><![CDATA[<h1 id="huggingfaceå…¥é—¨æ•™ç¨‹">HuggingFaceå…¥é—¨æ•™ç¨‹</h1><h2 id="å¿«é€Ÿå…¥é—¨">å¿«é€Ÿå…¥é—¨</h2><p>åœ¨å¼€å§‹ä¹‹å‰, ç¡®ä¿ä½ å·²ç»å®‰è£…äº†æ‰€æœ‰å¿…è¦çš„åº“:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!pip install transformers datasets</span><br></pre></td></tr></table></figure><p>ä½ è¿˜éœ€è¦å®‰è£…å–œæ¬¢çš„æœºå™¨å­¦ä¹ æ¡†æ¶: pytorch</p><p>ä½¿ç”¨<code>pipeline()</code>æ˜¯åˆ©ç”¨é¢„è®­ç»ƒæ¨¡å‹è¿›è¡Œæ¨ç†çš„æœ€ç®€å•çš„æ–¹å¼. ä½ èƒ½å¤Ÿå°†<code>pipeline()</code>å¼€ç®±å³ç”¨åœ°ç”¨äºè·¨ä¸åŒæ¨¡æ€çš„å¤šç§ä»»åŠ¡. å®ƒæ”¯æŒçš„ä»»åŠ¡åˆ—è¡¨:</p><p><img src="https://picture.fanfer.fun/img/huggingface1.png" alt="Untitled"></p><h2 id="ä½¿ç”¨å®˜æ–¹æ¨¡å‹åº“ä¸­çš„æ¨¡å‹">ä½¿ç”¨å®˜æ–¹æ¨¡å‹åº“ä¸­çš„æ¨¡å‹</h2><p>ä½¿ç”¨BLIP2ä½œä¸ºä¾‹å­ï¼Œè¿™æ˜¯ä¸€ä¸ªimage-captioningçš„Image2Languageæ¨¡å‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> transformers <span class="keyword">import</span> Blip2Processor, Blip2ForConditionalGeneration</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨GPUåŠ é€Ÿæ¨¡å‹ï¼Œé€šè¿‡processorå°†å›¾ç‰‡è½¬åŒ–ä¸ºæ¨¡å‹è¾“å…¥ï¼Œé€šè¿‡modelå®ç°è¾“</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">processor = Blip2Processor.from_pretrained(<span class="string">&quot;Salesforce/blip2-opt-2.7b&quot;</span>)</span><br><span class="line">model = Blip2ForConditionalGeneration.from_pretrained(<span class="string">&quot;Salesforce/blip2-opt-2.7b&quot;</span>, device_map=<span class="string">&quot;auto&quot;</span>)</span><br><span class="line">device = <span class="string">&quot;cuda&quot;</span> <span class="keyword">if</span> torch.cuda.is_available() <span class="keyword">else</span> <span class="string">&quot;cpu&quot;</span></span><br></pre></td></tr></table></figure><p>è¯»å–ä¸€å¼ ç…§ç‰‡å®Œæˆæ¨ç†</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">image = Image.<span class="built_in">open</span>(requests.get(<span class="string">&quot;https://picture.fanfer.fun/Test_pics/1681699301.322593.jpg&quot;</span>, stream=<span class="literal">True</span>).raw).convert(<span class="string">&#x27;RGB&#x27;</span>)</span><br><span class="line">inputs = processor(images=image, return_tensors=<span class="string">&quot;pt&quot;</span>).to(device, torch.float16)</span><br><span class="line">generated_ids = model.generate(**inputs)</span><br><span class="line">generated_text = processor.batch_decode(generated_ids, skip_special_tokens=<span class="literal">True</span>)[<span class="number">0</span>].strip()</span><br><span class="line"><span class="built_in">print</span>(generated_text)</span><br></pre></td></tr></table></figure><p>ä¿å­˜æ¨¡å‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pt_save_directory = <span class="string">&quot;./pt_save_pretrained&quot;</span></span><br><span class="line">processor.save_pretrained(pt_save_directory)</span><br><span class="line">model.save_pretrained(pt_save_directory)</span><br></pre></td></tr></table></figure><p>é‡æ–°ä»ä¿å­˜çš„æ¨¡å‹å¤„åŠ åœ¨æ¨¡å‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">processor = Blip2Processor.from_pretrained(tf_save_directory)</span><br><span class="line">pt_model = Blip2ForConditionalGeneration.from_pretrained(tf_save_directory, from_tf=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><h2 id="æ ¹æ®configè‡ªå®šä¹‰æ¨¡å‹">æ ¹æ®Configè‡ªå®šä¹‰æ¨¡å‹</h2><p>å¯ä»¥ä¿®æ”¹æ¨¡å‹çš„é…ç½®ç±»æ¥æ›´æ”¹æ¨¡å‹çš„æ„å»ºæ–¹å¼ã€‚é…ç½®æŒ‡å®šæ¨¡å‹çš„å±æ€§ï¼Œä¾‹å¦‚éšè—å±‚æˆ–æ³¨æ„åŠ›å¤´çš„æ•°é‡ã€‚ä»è‡ªå®šä¹‰é…ç½®ç±»åˆå§‹åŒ–æ¨¡å‹æ—¶ï¼Œæ¨¡å‹å‚æ•°æ˜¯éšæœºåˆå§‹åŒ–çš„ï¼Œéœ€è¦å…ˆè®­ç»ƒæ¨¡å‹ï¼Œç„¶åæ‰èƒ½ä½¿ç”¨å®ƒæ¥è·å¾—æœ‰æ„ä¹‰çš„ç»“æœã€‚</p><p><a href="https://huggingface.co/docs/transformers/main/en/create_a_model">Create a custom architecture</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> transformers <span class="keyword">import</span> AutoConfig</span><br><span class="line">my_config = AutoConfig.from_pretrained(<span class="string">&quot;distilbert-base-uncased&quot;</span>, n_heads=<span class="number">12</span>)</span><br><span class="line"><span class="keyword">from</span> transformers <span class="keyword">import</span> AutoModel</span><br><span class="line">my_model = AutoModel.from_config(my_config)</span><br></pre></td></tr></table></figure><h2 id="è®­ç»ƒæ¨¡å‹">è®­ç»ƒæ¨¡å‹</h2><p>æ‰€æœ‰çš„æ¨¡å‹éƒ½æ˜¯Â <strong><code>[torch.nn.Module](https://pytorch.org/docs/stable/nn.html#torch.nn.Module)</code></strong>Â æ‰€ä»¥å¯ä»¥å®Œæˆtrain loop. ğŸ¤— Transformers ä¸ºPyTorchæä¾›äº†Â <strong><a href="https://huggingface.co/docs/transformers/main/en/main_classes/trainer#transformers.Trainer">Trainer</a></strong>Â ç±»ï¼Œå¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æ–¹æ³•è¿›è¡Œè®­ç»ƒ</p><p>1.å¯¼å…¥é¢„è®­ç»ƒæ¨¡å‹æˆ–è€…è‡ªå®šä¹‰æ¨¡å‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> transformers <span class="keyword">import</span> AutoModelForSequenceClassification</span><br><span class="line">model = AutoModelForSequenceClassification.from_pretrained(<span class="string">&quot;distilbert-base-uncased&quot;</span>)</span><br></pre></td></tr></table></figure><p>2.**<a href="https://huggingface.co/docs/transformers/main/en/main_classes/trainer#transformers.TrainingArguments">TrainingArguments</a>**åŒ…å«å¯ä»¥æ›´æ”¹çš„æ¨¡å‹è¶…å‚æ•°ï¼Œä¾‹å¦‚å­¦ä¹ ç‡ã€æ‰¹é‡å¤§å°å’Œè®­ç»ƒå‘¨æœŸæ•°ã€‚å¦‚æœä¸æŒ‡å®šä»»ä½•è®­ç»ƒå‚æ•°ï¼Œåˆ™ä½¿ç”¨é»˜è®¤å€¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> transformers <span class="keyword">import</span> TrainingArguments</span><br><span class="line"></span><br><span class="line">training_args = TrainingArguments(</span><br><span class="line">    output_dir=<span class="string">&quot;path/to/save/folder/&quot;</span>,</span><br><span class="line">    learning_rate=<span class="number">2e-5</span>,</span><br><span class="line">    per_device_train_batch_size=<span class="number">8</span>,</span><br><span class="line">    per_device_eval_batch_size=<span class="number">8</span>,</span><br><span class="line">    num_train_epochs=<span class="number">2</span>,</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>3.åŠ è½½é¢„å¤„ç†ç±»ï¼Œä¾‹å¦‚tokenizer, image processor, feature extractor, processor</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> transformers <span class="keyword">import</span> AutoTokenizer</span><br><span class="line">tokenizer = AutoTokenizer.from_pretrained(<span class="string">&quot;distilbert-base-uncased&quot;</span>)</span><br></pre></td></tr></table></figure><p>4.åŠ è½½æ•°æ®é›†</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datasets <span class="keyword">import</span> load_dataset</span><br><span class="line">dataset = load_dataset(<span class="string">&quot;rotten_tomatoes&quot;</span>)  <span class="comment"># doctest: +IGNORE_RESULT</span></span><br></pre></td></tr></table></figure><p>5.å¯¹æ•°æ®è¿›è¡Œé¢„å¤„ç†</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">tokenize_dataset</span>(<span class="params">dataset</span>):</span><br><span class="line">...</span><br><span class="line">    <span class="keyword">return</span> tokenizer(dataset[<span class="string">&quot;text&quot;</span>])</span><br><span class="line"></span><br><span class="line">dataset = dataset.<span class="built_in">map</span>(tokenize_dataset, batched=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><p>6.Â <strong><a href="https://huggingface.co/docs/transformers/main/en/main_classes/data_collator#transformers.DataCollatorWithPadding">DataCollatorWithPadding</a></strong>Â ä»datasetä¸­åˆ›å»ºbatch</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> transformers <span class="keyword">import</span> DataCollatorWithPadding</span><br><span class="line">data_collator = DataCollatorWithPadding(tokenizer=tokenizer)</span><br></pre></td></tr></table></figure><p>7.åˆ›å»ºTrainerå¯¹è±¡å¹¶è®­ç»ƒ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> transformers <span class="keyword">import</span> Trainer</span><br><span class="line"></span><br><span class="line">trainer = Trainer(</span><br><span class="line">    model=model,</span><br><span class="line">    args=training_args,</span><br><span class="line">    train_dataset=dataset[<span class="string">&quot;train&quot;</span>],</span><br><span class="line">    eval_dataset=dataset[<span class="string">&quot;test&quot;</span>],</span><br><span class="line">    tokenizer=tokenizer,</span><br><span class="line">    data_collator=data_collator,</span><br><span class="line">)  <span class="comment"># doctest: +SKIP</span></span><br><span class="line"></span><br><span class="line">trainer.train()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
          <category> HuggingFace </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¬”è®° </tag>
            
            <tag> HuggingFace </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GameFormer</title>
      <link href="/2023/08/12/GameFormer/"/>
      <url>/2023/08/12/GameFormer/</url>
      
        <content type="html"><![CDATA[<p>Author: Zhiyu Huang, Haochen Liu, Chen Lv<br>Code: <a href="https://mczhi.github.io/GameFormer/">https://mczhi.github.io/GameFormer/</a><br>Comment: level-k game theory for planning<br>Key Words: Fusion, Object Detection<br>Score: â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸<br>Source: ICCV2023</p><p>â€œhierarchical game theoryâ€ çš„ä¸­æ–‡ç¿»è¯‘æ˜¯ â€œåˆ†å±‚åšå¼ˆè®ºâ€ã€‚</p><p>trajectoriesç¿»è¯‘æˆä¸­æ–‡æ˜¯â€œè½¨è¿¹â€ã€‚</p><p>motion prediction è¿åŠ¨é¢„æµ‹</p><p>level-k ç†è®ºæ˜¯ä¸€ä¸ªåœ¨è¡Œä¸ºç»æµå­¦å’Œæ¸¸æˆç†è®ºä¸­ä½¿ç”¨çš„äººç±»è¡Œä¸ºæ¨¡å‹ã€‚å®ƒå‡è®¾å‚ä¸æˆ˜ç•¥æ¸¸æˆçš„ç©å®¶æ ¹æ®å…¶ä»–ç©å®¶çš„è¡ŒåŠ¨é¢„æµ‹æ¥å†³å®šè‡ªå·±çš„ä¸¾åŠ¨ã€‚ç©å®¶å› æ­¤å¯ä»¥æŒ‰ç…§ç†è§£å…¶ä»–ç©å®¶ä¸¾åŠ¨çš„æ·±åº¦æ¥åˆ†ç±»ã€‚çº§åˆ«-kç†è®ºå‡è®¾æ¯ä¸ªç©å®¶éƒ½è®¤ä¸ºè‡ªå·±æ˜¯æ¸¸æˆä¸­æœ€ç²¾æ˜çš„äººã€‚è¿™è¢«å½’å› äºè®¸å¤šå› ç´ ,å¦‚â€œç»´æŠ¤æˆæœ¬â€æˆ–å•çº¯çš„è¿‡åˆ†è‡ªä¿¡ã€‚ç©å®¶å› æ­¤æ ¹æ®ç©å®¶è®¤ä¸ºå…¶ä»–ç«äº‰è€…æ‰€å¤„çš„å¤æ‚ç¨‹åº¦è€Œè¢«å½’ç±»ä¸ºkçº§åˆ«ã€‚ä½ è®¤ä¸ºä»–äººæ„ˆå¹¼ç¨š,ä½ çš„åˆ†ç±»å°±æ„ˆä½ã€‚è¿™ç§æ¨¡å¼å»¶ç»­è‡³æ›´é«˜çº§åˆ«çš„ç©å®¶,ä½†æ¯ä¸ªç©å®¶åªæœ‰æœ‰é™çš„æ¨ç†æ·±åº¦,æ„å‘³ç€ä¸ªä½“ç©å®¶åœ¨æˆ˜ç•¥æ€è€ƒçš„æ·±åº¦ä¸Šæœ‰æ‰€é™åˆ¶ã€‚</p><h2 id="abstract">Abstract</h2><p>1.æœ¬æ–‡é€šè¿‡é‡‡ç”¨åˆ†å±‚åšå¼ˆè®ºæ¥é˜è¿°äº¤äº’é¢„æµ‹é—®é¢˜</p><p>2.æå‡ºäº†GameFormeræ¡†æ¶ï¼šä½¿ç”¨Transformerè§£ç å™¨ç»“æ„ï¼Œä½¿ç”¨ä¸Šä¸€çº§çš„é¢„æµ‹ç»“æœå’Œç¯å¢ƒèƒŒæ™¯æ¥è¿­ä»£åœ°æ”¹è¿›äº¤äº’è¿‡ç¨‹</p><p>3.æå‡ºä¸€ä¸ªå­¦ä¹ è¿‡ç¨‹ï¼Œä»¥è°ƒèŠ‚agentåœ¨å½“å‰çº§åˆ«çš„è¡Œä¸ºï¼Œä»¥å“åº”ä¸Šä¸€çº§åˆ«å…¶ä»–agentçš„è¡Œä¸º</p><h2 id="conclusion">Conclusion</h2><p>æœ¬è®ºæ–‡ä»‹ç»äº† GameFormerï¼Œè¿™æ˜¯ä¸€ç§åŸºäº Transformer çš„æ¨¡å‹ï¼Œåˆ©ç”¨åˆ†å±‚åšå¼ˆè®ºè¿›è¡Œäº¤äº’å¼é¢„æµ‹å’Œè§„åˆ’ã€‚æˆ‘ä»¬æå‡ºçš„æ–¹æ³•åœ¨é¢„æµ‹æ¨¡å‹ä¸­åŠ å…¥äº†æ–°é¢–çš„level-kè§£ç å™¨ï¼Œç”¨äºè¿­ä»£åœ°æ”¹å–„äº¤äº’ä»£ç†çš„æœªæ¥è½¨è¿¹ï¼ŒåŒæ—¶è¿˜æœ‰ä¸€ä¸ªå­¦ä¹ è¿‡ç¨‹ï¼Œæ ¹æ®ä¸Šä¸€çº§çš„é¢„æµ‹ç»“æœæ¥è°ƒèŠ‚ä»£ç†çš„é¢„æµ‹è¡Œä¸ºã€‚åœ¨ Waymo å¼€æ”¾æ•°æ®é›†ä¸Šçš„å®éªŒç»“æœè¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ¨¡å‹åœ¨äº¤äº’é¢„æµ‹æ–¹é¢è¾¾åˆ°äº†æœ€å…ˆè¿›çš„ç²¾åº¦ï¼Œå¹¶åœ¨å¼€ç¯å’Œé—­ç¯è§„åˆ’æµ‹è¯•ä¸­ä¼˜äºåŸºçº¿æ–¹æ³•ã€‚</p><h2 id="introduction">Introduction</h2><p>é—®é¢˜ï¼šå‡†ç¡®é¢„æµ‹å‘¨å›´äº¤é€šå‚ä¸è€…çš„æœªæ¥è¡Œä¸ºå¹¶åšå‡ºå®‰å…¨çš„ç¬¦åˆè§„èŒƒçš„å†³ç­–ï¼ˆMotion Prediction and planningï¼‰</p><p>æŒ‘æˆ˜ï¼šäº¤é€šå‚ä¸è€…çš„è¡Œä¸ºä¾èµ–äºé“è·¯ç»“æ„ï¼Œäº¤é€šè§„èŒƒå’Œäº¤é€šå‚ä¸è€…ä¹‹é—´çš„ç›¸äº’ä½œç”¨</p><p>Transformeræ¨¡å‹ï¼šflexibility and effectiveness æ“…é•¿å¤„ç†å¤šç§ç±»åˆ«çš„æ··åˆä¿¡æ¯ï¼Œä»¥åŠå¤„ç†è¿™äº›ä¸åŒç±»åˆ«å…ƒç´ ä¹‹é—´çš„å…³ç³»ã€‚æ‰€ä»¥åœ¨è¿åŠ¨æ¨¡å‹é¢„æµ‹ä¸­åº”ç”¨å¹¿æ³›</p><p>å½“å‰æ–¹æ³•çš„é—®é¢˜ï¼šå¯¹äºé©¾é©¶åœºæ™¯ç¼–ç ï¼Œåˆ©ç”¨agentè¿‡å»çš„è½¨è¿¹è¡¨ç¤ºäº¤äº’ï¼Œç¼ºå°‘å¯¹æœªæ¥äº¤äº’çš„æ˜ç¡®å»ºæ¨¡ã€‚ç¼ºå°‘äº†è‡ªåŠ¨é©¾é©¶è½¦è¾†ä¹‹é—´çš„äº¤äº’ã€‚</p><p>æ¡ä»¶é¢„æµ‹æ¨¡å‹ï¼šä½¿ç”¨è‡ªåŠ¨é©¾é©¶è½¦è¾†çš„å†…éƒ¨è®¡åˆ’æ¥é¢„æµ‹å…¶ä»–ä»£ç†å¯¹è‡ªåŠ¨é©¾é©¶è½¦è¾†çš„ååº”ã€‚è¿™ç§å•å‘äº¤äº’æ–¹æ¡ˆä»ç„¶å¿½ç•¥äº†è‡ªåŠ¨é©¾é©¶è½¦è¾†å’Œå…¶ä»–é“è·¯ç”¨æˆ·ä¹‹é—´çš„åŠ¨æ€ç›¸äº’å½±å“ã€‚ä»åšå¼ˆè®ºçš„è§’åº¦æ¥çœ‹ï¼Œå½“å‰çš„é¢„æµ‹/è§„åˆ’æ¨¡å‹å¯ä»¥è¢«çœ‹ä½œæ˜¯å…·æœ‰æœ‰é™äº¤äº’å±‚çº§çš„é¢†å¯¼è€…-è¿½éšè€…åšå¼ˆã€‚</p><p><img src="https://picture.fanfer.fun/img/gameformer1.png" alt="Gameformer1"></p><p>å›¾ä¸€ï¼š</p><p>æˆ‘ä»¬é‡‡ç”¨åˆ†å±‚æ¨ç†åšå¼ˆä»¥è¿­ä»£çš„æ–¹å¼æ¥å»ºæ¨¡ä»£ç†ä¹‹é—´çš„æœªæ¥äº¤äº’ï¼Œä»¥æ›´å¥½åœ°åæ˜ è®¤çŸ¥æ¨ç†è¿‡ç¨‹ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨Transformerç¼–ç å™¨å°†é©¾é©¶åœºæ™¯ç¼–ç ä¸ºèƒŒæ™¯ä¿¡æ¯ï¼ŒåŒ…æ‹¬å‘é‡åŒ–åœ°å›¾å’Œè§‚å¯Ÿåˆ°çš„ä»£ç†çŠ¶æ€ã€‚åœ¨æœªæ¥çš„è§£ç é˜¶æ®µï¼Œæˆ‘ä»¬éµå¾ªk-levelåšå¼ˆè®ºï¼Œå‡è®¾ä»£ç†è¿›è¡Œæœ‰é™æ¬¡çš„ç­–ç•¥æ¨ç†ã€‚</p><p>0å±‚agentç‹¬ç«‹è¡ŒåŠ¨è€Œä¸è€ƒè™‘å…¶ä»–ä»£ç†ï¼Œè€Œkå±‚agentåˆ™å‡å®šå…¶ä»–agentå¤„äºk-1å±‚ï¼Œå¹¶åšå‡ºååº”ã€‚å…·ä½“è€Œè¨€ï¼Œæˆ‘ä»¬è®¾ç½®äº†ä¸€ç³»åˆ—Transformerè§£ç å™¨æ¥å®ç°k-levelæ¨ç†ã€‚</p><p>level-0è§£ç å™¨ä»…ä½¿ç”¨åˆå§‹çš„æ¨¡æ€æŸ¥è¯¢å’Œç¼–ç çš„åœºæ™¯ä¸Šä¸‹æ–‡ä½œä¸ºé”®å’Œå€¼æ¥é¢„æµ‹ä»£ç†çš„å¤šæ¨¡æ€æœªæ¥è½¨è¿¹ã€‚ç„¶åï¼Œåœ¨æ¯ä¸ªè¿­ä»£kä¸­ï¼Œlevel-kè§£ç å™¨å°†æ¥è‡ªlevel-(k-1)è§£ç å™¨çš„é¢„æµ‹è½¨è¿¹ï¼Œä»¥åŠèƒŒæ™¯ä¿¡æ¯ä½œä¸ºè¾“å…¥ï¼Œæ¥é¢„æµ‹å½“å‰çº§åˆ«ä¸‹ä»£ç†çš„è½¨è¿¹ã€‚</p><p>æ­¤å¤–ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªå­¦ä¹ è¿‡ç¨‹ï¼Œé€šè¿‡è§„èŒƒåŒ–ä»£ç†çš„è½¨è¿¹æ¥é¿å…ä¸ä¸Šä¸€çº§å…¶ä»–ä»£ç†çš„è½¨è¿¹å‘ç”Ÿç¢°æ’ï¼ŒåŒæ—¶ä¹Ÿç¡®ä¿æ¥è¿‘äºäººç±»é©¾é©¶æ•°æ®ã€‚</p><p>æœ¬æ–‡è´¡çŒ®ï¼š</p><ol><li>æˆ‘ä»¬æå‡ºäº†GameFormerï¼Œè¿™æ˜¯ä¸€ä¸ªåŸºäºTransformerçš„äº¤äº’é¢„æµ‹å’Œè§„åˆ’æ¡†æ¶ï¼Œåˆ©ç”¨åˆ†å±‚æ¨ç†æ¥å»ºæ¨¡agentä¹‹é—´çš„äº¤äº’ã€‚</li><li>æˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªå­¦ä¹ è¿‡ç¨‹ï¼ŒåŸºäºlevel-kåšå¼ˆæ¥è®­ç»ƒè¯¥æ¡†æ¶ã€‚</li><li>åœ¨Waymoäº¤äº’é¢„æµ‹çš„benchmarkä¸­è·å¾—SOTA</li><li>æˆ‘ä»¬éªŒè¯äº†è¯¥æ¡†æ¶åœ¨å¼€ç¯é©¾é©¶åœºæ™¯å’Œé—­ç¯æ¨¡æ‹Ÿä¸­çš„è§„åˆ’æ€§èƒ½ï¼Œå¹¶ç ”ç©¶äº†åšå¼ˆè®ºè®¾ç½®çš„å½±å“ã€‚</li></ol><h2 id="methodology-game-former">Methodologyï¼ˆGame Formerï¼‰</h2><p>æå‡ºçš„æ¡†æ¶ä»ä»£ç†äº¤äº’çš„å±‚æ¬¡åšå¼ˆæ¨¡å‹ä¸­å¾—åˆ°å¯å‘ã€‚è¯¥æ¡†æ¶é€šè¿‡åŸºäºè½¬æ¢å™¨çš„ç¼–ç å™¨å°†ä»£ç†å’Œåœ°å›¾çš„å†å²çŠ¶æ€ç¼–ç ä¸ºèƒŒæ™¯ä¿¡æ¯ã€‚åŸºäºåˆå§‹æ¨¡æ€æŸ¥è¯¢ï¼Œ0çº§ä»£ç†çš„æœªæ¥è½¨è¿¹è¢«ç‹¬ç«‹è§£ç ã€‚åœ¨level-kï¼Œä¸€ä¸ªä»£ç†å“åº”level-(k-1)çš„æ‰€æœ‰å…¶ä»–ä»£ç†ã€‚0çº§è§£ç å™¨ä½¿ç”¨æ¨¡æ€åµŒå…¥å’Œä»£ç†å†å²ç¼–ç ä½œä¸ºæŸ¥è¯¢è¾“å…¥ï¼Œä»¥ç‹¬ç«‹è§£ç 0çº§ä»£ç†çš„æœªæ¥è½¨è¿¹å’Œåˆ†æ•°ã€‚kçº§è§£ç å™¨åŒ…å«ä¸€ä¸ªè‡ªæˆ‘å…³æ³¨æ¨¡å—ï¼Œä»¥æ¨¡æ‹Ÿåœ¨level-(k-1)çº§çš„æœªæ¥äº¤äº’ï¼Œå¹¶å°†è¯¥ä¿¡æ¯é™„åŠ åˆ°åœºæ™¯ä¸Šä¸‹æ–‡ç¼–ç ä¸­ã€‚<br><img src="https://picture.fanfer.fun/img/gameformer2.png" alt="Gameformer2"></p><p>GameFormeræ¶æ„ï¼ˆEncoder-Decoderï¼‰</p><p><img src="https://picture.fanfer.fun/img/gameformer3.png" alt="Gameformer3"></p><h2 id="experiments">Experiments</h2><p><strong>open-loop and closed-loop</strong></p><p>close-loopæ˜¯ä¸€ä¸ªåŠ¨ä½œè¿›è¡Œä¸€æ¬¡äº¤äº’ï¼Œå¾—åˆ°æ–°çš„çŠ¶æ€ã€‚</p><p>open-loopæ˜¯æŒ‡è§‚å¯Ÿç¬¬ä¸€ä¸ªçŠ¶æ€ï¼Œç„¶åè¿”å›ä¸€ç³»åˆ—åŠ¨ä½œï¼Œè¿™äº›éƒ½æ˜¯agentè‡ªå·±æƒ³çš„ã€‚</p><p>æ•°æ®é›†ï¼šWaymo Open Motion Dataset(åŒ…å«1200hçœŸå®é©¾é©¶æ•°æ®)<br>ç»™å®šæ™ºèƒ½ä½“è¿‡å» 1 ç§’åœ¨ç›¸åº”åœ°å›¾ä¸Šçš„è½¨è¿¹ï¼Œé¢„æµ‹æœ€å¤š 8 åæ™ºèƒ½ä½“æœªæ¥ 8 ç§’çš„ä½ç½®ã€‚<br>æµ‹è¯•é›†çš„çœŸå®æœªæ¥æ•°æ®éšè—ã€‚å› æ­¤ï¼Œæµ‹è¯•é›†ä»…åŒ…å« 1 ç§’çš„å†å²æ•°æ®ã€‚<br>éªŒè¯é›†åŒ…å«ç”¨äºæ¨¡å‹å¼€å‘çš„çœŸå®æœªæ¥æ•°æ®ã€‚<br>æ­¤å¤–ï¼Œæµ‹è¯•é›†å’ŒéªŒè¯é›†è¿˜æä¾›äº†è¦é¢„æµ‹çš„åœºæ™¯ä¸­æœ€å¤š 8 ä¸ªå¯¹è±¡è½¨è¿¹çš„åˆ—è¡¨ã€‚</p><p>æ‰€æœ‰æŒ‡æ ‡éƒ½æ˜¯é€šè¿‡é¦–å…ˆå°†æ‰€æœ‰å¯¹è±¡å­˜å‚¨åˆ°å¯¹è±¡ç±»å‹ä¸­æ¥è®¡ç®—çš„ã€‚ç„¶åæŒ‰ç±»å‹è®¡ç®—æŒ‡æ ‡ã€‚æ¯ç§å¯¹è±¡ç±»å‹çš„æŒ‡æ ‡ï¼ˆminiADEã€miniFDEã€Miss Rateã€å’Œ mAPï¼‰å‡åœ¨ 3ã€5 å’Œ 8 ç§’æ—¶é—´ç‚¹å¤„è®¡ç®—</p>]]></content>
      
      
      <categories>
          
          <category> è®ºæ–‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®ºæ–‡ </tag>
            
            <tag> ç¬”è®° </tag>
            
            <tag> iccv </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VoxelNet</title>
      <link href="/2023/07/21/VoxelNet/"/>
      <url>/2023/07/21/VoxelNet/</url>
      
        <content type="html"><![CDATA[<h2 id="abstract">Abstract</h2><p>æœ¬æ–‡æ¶ˆé™¤äº†å¯¹3Dç‚¹äº‘çš„æ‰‹åŠ¨ç‰¹å¾å·¥ç¨‹çš„éœ€è¦ï¼Œæå‡ºäº†VoxelNetï¼Œå°†ç‰¹å¾æå–å’Œbounding boxç»Ÿä¸€åˆ°å•ä¸ªé˜¶æ®µã€ç«¯åˆ°ç«¯çš„å¯è®­ç»ƒæ·±åº¦ç½‘ç»œä¸­ã€‚</p><p>VoxelNetå°†ç‚¹äº‘åˆ’åˆ†ä¸ºç­‰è·çš„3Dä½“ç´ ï¼Œé€šè¿‡å¼•å…¥æé€Ÿç‰¹å¾ç¼–ç ï¼ˆVFEï¼‰å±‚å°†æ¯ä¸ªä½“ç´ å†…çš„ä¸€ç»„ç‚¹è½¬åŒ–ä¸ºç»Ÿä¸€çš„ç‰¹å¾è¡¨ç¤ºã€‚</p><h2 id="introduction">Introduction</h2><p>é’ˆå¯¹ç°åœ¨å¯¹äº3Dç‚¹äº‘è¿˜éœ€è¦æ‰‹åŠ¨ç‰¹å¾å·¥ç¨‹çš„éœ€æ±‚ï¼Œæˆ‘ä»¬æå‡ºäº†VoxelNetï¼šè¿™æ˜¯ä¸€ä¸ªé€šç”¨çš„3Dæ£€æµ‹æ¡†æ¶ï¼Œå®ƒä»¥ç«¯åˆ°ç«¯çš„æ–¹å¼åŒæ—¶ä»ç‚¹äº‘ä¸­å­¦ä¹ æœ‰åŒºåˆ«çš„ç‰¹å¾è¡¨ç¤ºï¼Œå¹¶é¢„æµ‹ç²¾ç¡®çš„3Dè¾¹ç•Œæ¡†</p><p><strong>ä¸»è¦è´¡çŒ®ï¼š</strong></p><ol><li>æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„ç«¯åˆ°ç«¯å¯è®­ç»ƒçš„æ·±åº¦æ¶æ„ï¼Œç”¨äºåŸºäºç‚¹äº‘çš„ä¸‰ç»´æ£€æµ‹VoxelNetï¼Œç›´æ¥åœ¨ç¨€ç–çš„ä¸‰ç»´ç‚¹ä¸Šæ“ä½œï¼Œé¿å…äº†äººå·¥ç‰¹å¾å·¥ç¨‹å¼•å…¥çš„ä¿¡æ¯ç“¶é¢ˆã€‚</li><li>æˆ‘ä»¬æå‡ºäº†ä¸€ç§æœ‰æ•ˆçš„æ–¹æ³•æ¥å®ç°ä½“ç´ ç½‘ï¼Œå®ƒæ—¢å—ç›Šäºç¨€ç–ç‚¹ç»“æ„ï¼Œåˆå—ç›Šäºä½“ç´ ç½‘æ ¼ä¸Šçš„é«˜æ•ˆå¹¶è¡Œå¤„ç†ã€‚</li><li>æˆ‘ä»¬åœ¨KITTI benchmarkä¸Šè¿›è¡Œå®éªŒï¼Œç»“æœè¡¨æ˜ï¼Œåœ¨åŸºäºæ¿€å…‰é›·è¾¾çš„æ±½è½¦ã€è¡Œäººå’Œè‡ªè¡Œè½¦æ£€æµ‹åŸºå‡†ä¸­ï¼ŒVoxelNetäº§ç”Ÿäº†SOTAç»“æœ</li></ol><h2 id="methodology">Methodology</h2><p>åˆ†ä¸ºä¸‰ä¸ªåŠŸèƒ½æ¨¡å—ï¼šç‰¹å¾å­¦ä¹ ç½‘ç»œã€å·ç§¯ç¥ç»ç½‘ç»œã€åŒºåŸŸæå–ç½‘ç»œ</p><p><img src="https://picture.fanfer.fun/img/voxnet1.png" alt="Untitled"></p><p>ç‰¹å¾å­¦ä¹ ç½‘ç»œå°†åŸå§‹ç‚¹äº‘ä½œä¸ºè¾“å…¥ï¼Œå°†ç©ºé—´åˆ’åˆ†ä¸ºä½“ç´ ï¼Œå¹¶å°†æ¯ä¸ªä½“ç´ å†…çš„ç‚¹è½¬æ¢ä¸ºè¡¨å¾å½¢çŠ¶ä¿¡æ¯çš„çŸ¢é‡è¡¨ç¤ºã€‚è¿™ä¸ªç©ºé—´è¢«è¡¨ç¤ºä¸ºä¸€ä¸ªç¨€ç–çš„4Då¼ é‡ã€‚å·ç§¯ä¸­é—´å±‚å¤„ç†4Då¼ é‡ä»¥èšé›†ç©ºé—´ä¸Šä¸‹æ–‡ã€‚æœ€åï¼ŒRPNç”Ÿæˆ3Dæ£€æµ‹</p><aside>ğŸ’¡ RPNï¼šRegion Proposal NetworkåŒºåŸŸç”Ÿæˆç½‘ç»œï¼Œç”¨æ¥æå–å€™é€‰æ¡†</aside><h3 id="feature-learning-network">Feature Learning Network</h3><ol><li><p>åˆ’åˆ†ä½“ç´ ï¼Œå°†æ•´ä¸ªç©ºé—´åˆ’åˆ†æˆå¤§å°ç›¸åŒçš„Voxel</p></li><li><p>åˆ†ç»„ï¼Œå°†æ¿€å…‰é›·è¾¾ç‚¹åˆ†é…åˆ°ç›¸åº”çš„Voxelä¸­ï¼Œç”±äºé›·è¾¾çš„ç¨€ç–å’Œä¸å‡åŒ€é‡‡æ ·ï¼Œä¸åŒçš„ä½“ç´ åŒ…å«æ•°é‡å¯å˜çš„æ¿€å…‰é›·è¾¾ç‚¹ã€‚</p></li><li><p>éšæœºé‡‡æ ·ã€‚ä»åŒ…å«è¶…è¿‡Tä¸ªç‚¹çš„ä½“ç´ ä¸­éšæœºæŠ½å–å›ºå®šæ•°é‡Tçš„ç‚¹ã€‚è¿™ä¸ªç­–ç•¥æœ‰ä¸¤ä¸ªç›®çš„ï¼š(1)èŠ‚çœè®¡ç®—èµ„æº (2)å‡å°‘äº†ä½“ç´ ä¹‹é—´ç‚¹çš„æ•°é‡çš„ä¸å‡è¡¡ï¼Œå‡å°‘äº†é‡‡æ ·åå·®ï¼Œå¢åŠ äº†æ›´å¤šçš„å˜åŒ–ã€‚</p></li><li><p><strong>ä½“ç´ ç‰¹å¾ç¼–ç  ï¼ˆstacked Voxel feature encodingï¼‰</strong></p><p><img src="https://picture.fanfer.fun/img/voxnet2.png" alt="Untitled"></p><p><img src="https://picture.fanfer.fun/img/voxnet3.png" alt="Untitled"></p><p>ä¸Šå›¾ä¸­Voxelæœ‰3ä¸ªç‚¹äº‘æ•°æ®ã€‚ä½œè€…å…ˆç”¨ä¸€ä¸ªFCNå±‚ï¼ˆå°è±¡ä¸­FCNæŒ‡çš„æ˜¯å…¨å·ç§¯å±‚ï¼Œä½†è¿™é‡ŒæŒ‡çš„æ˜¯å…¨è¿æ¥å±‚ï¼‰æå–è¿™3ä¸ªç‚¹äº‘æ•°æ®çš„ç‰¹å¾ï¼Œè·å¾—3ä¸ªPoint-wise Featureã€‚</p><p>å› ä¸ºè¿™ä¸ªæ“ä½œæ˜¯<strong>é€ç‚¹è¿ç®—</strong>çš„ï¼Œå¹¶æ²¡æœ‰å¼•å…¥ç‚¹ä¸ç‚¹ä¹‹é—´çš„å…³ç³»ï¼Œä¹Ÿå°±æ˜¯local featureã€‚ä½œè€…åœ¨æ­¤åŸºç¡€ä¸Šå¼•å…¥Element-wise maxpoolï¼Œè·å¾—<strong>Locally Aggregated Featureã€‚<strong>Locally Aggregated Featureååº”äº†è¿™äº›ç‚¹çš„ä¸€ä¸ª</strong>å±€éƒ¨</strong>å…³ç³»ã€‚</p><p>ä½œè€…å°†<strong>Point-wise Feature</strong>å’Œ<strong>Locally Aggregated Feature</strong>è¿›è¡Œäº†ç®€å•çš„<strong>å †å èåˆ</strong>ï¼Œä½œä¸ºä¸‹ä¸€ä¸ªVFEå±‚çš„è¾“å…¥ã€‚</p><p>è¿™æ ·è¿ç»­å †å å‡ æ¬¡VFEå±‚åï¼Œå°±è·å¾—æ›´ä¸°å¯Œçš„ç‰¹å¾è¡¨ç¤ºã€‚æœ€åï¼Œä½¿ç”¨ä¸€ä¸ªElement-wise maxpoolè·å¾—æœ€åçš„ä¸€ä¸ªVoxel-wise Featureã€‚ä¹Ÿå°±æ˜¯ç¬¬ä¸€å¼ å›¾ç‰‡ä¸­çš„è¿™ä¸ªéƒ¨åˆ†</p><p><img src="https://picture.fanfer.fun/img/voxnet4.png" alt="Untitled"></p><p>ç”¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mi>F</mi><mi>E</mi><mo>âˆ’</mo><mi>i</mi><mo stretchy="false">(</mo><msub><mi>c</mi><mrow><mi>i</mi><mi>n</mi></mrow></msub><mo separator="true">,</mo><msub><mi>c</mi><mrow><mi>o</mi><mi>u</mi><mi>t</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">VFE-i(c_{in},c_{out})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">V</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">i</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">u</span><span class="mord mathdefault mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>è¡¨ç¤ºç¬¬iä¸ªVFEå±‚ï¼Œè¯¥å±‚å°†ç»´åº¦cinçš„è¾“å…¥ç‰¹å¾è½¬æ¢ä¸ºç»´åº¦coutçš„è¾“å‡ºç‰¹å¾ã€‚çº¿æ€§å±‚å­¦ä¹ ä¸€ä¸ªå¤§å°ä¸ºcin *(cout/2)çš„çŸ©é˜µï¼Œé€ç‚¹æ‹¼æ¥äº§ç”Ÿç»´æ•°ä¸ºcoutçš„è¾“å‡ºã€‚</p></li><li><p>Sparse Tensor Representationï¼šä»…ä»…å¤„ç†éç©ºä½“ç´ ï¼Œè·å¾—äº†ä½“ç´ ç‰¹å¾åˆ—è¡¨ï¼Œæ˜¯ä¸€ä¸ª4D çš„ç¨€ç–å¼ é‡ ç”±äºå¤§é‡çš„æ˜¯ç©ºä½“ç´ ï¼Œå› æ­¤å¤§å¤§å‡å°‘äº†å†…å­˜ä½¿ç”¨å’Œè®¡ç®—æˆæœ¬</p></li></ol><p><strong>è¡¥å……Mask</strong></p><p>ç”±äºä½“ç´ å…·æœ‰æ•°é‡å¯å˜çš„ç‚¹ï¼Œå› æ­¤é€šè¿‡maskçš„æ–¹å¼ï¼Œè¿›è¡Œå¤„ç†åå†äº¤ç»™gpuè¿ç®—ã€‚</p><p><img src="https://picture.fanfer.fun/img/voxnet5.png" alt="Untitled"></p><p>é¦–å…ˆåˆå§‹åŒ–ä¸€ä¸ªK<em>T</em>7çš„å¼ é‡æ¥å­˜å‚¨ä½“ç´ è¾“å…¥ç‰¹å¾ï¼ŒKæ˜¯éç©ºä½“ç´ çš„æœ€å¤§æ•°é‡ï¼ŒTæ˜¯æ¯ä¸ªä½“ç´ çš„æœ€å¤§çš„ç‚¹æ•°ï¼Œ7æ˜¯æ¯ä¸ªç‚¹çš„è¾“å…¥ç¼–ç çš„ç»´åº¦ã€‚</p><p>æ³¨æ„å†å®ŒæˆVFEçš„è¿æ¥åï¼Œå°†ç©ºç‚¹æ‰€å¯¹åº”çš„ç‰¹å¾é‡ç½®ä¸º0.</p><h3 id="convolutional-middle-layers">Convolutional Middle Layers</h3><p>ç‚¹äº‘æ•°æ®é€šè¿‡ç‰¹å¾å­¦ä¹ ç½‘ç»œåå¯ä»¥è¢«è¡¨ç¤ºæˆä¸€ä¸ª<strong>ç¨€ç–çš„4Då¼ é‡</strong>ï¼Œç»´åº¦è®°åšï¼ˆC,Dâ€²,Hâ€²,Wâ€²ï¼‰Â ã€‚å…¶ä¸­ï¼ŒÂ CÂ ä¸ºVoxel-wise Featureçš„å‘é‡ç»´åº¦ï¼ˆä¹Ÿå°±æ˜¯å›¾3ä¸­å‘é‡çš„é«˜åº¦ï¼‰ï¼ŒÂ Dâ€²,Hâ€²,Wâ€²Â ä¸ºç©ºé—´çš„æ·±åº¦ã€é«˜åº¦å’Œå®½åº¦ï¼ˆå•ä½ä¸ºVoxelæ•°é‡ï¼‰ã€‚</p><p>å› ä¸ºå¼ é‡æ˜¯4ç»´çš„ï¼Œä½œè€…å°±ç”¨3Då·ç§¯æ¥æ„å»ºè¿™ä¸ªä¸­é—´å·ç§¯å±‚ã€‚ç›®çš„æ˜¾ç„¶æ˜¯ä¸ºäº†æ‰©å¤§æ„Ÿå—é‡ï¼Œå¢åŠ æ›´å¤šçš„ä¿¡æ¯æè¿°ã€‚</p><h3 id="region-proposal-network">Region Proposal Network</h3><p><img src="https://picture.fanfer.fun/img/voxnet6.png" alt="Untitled"></p><p>RPNå±‚åœ¨2Dç‰©ä½“æ£€æµ‹ä¸­å±‚å‡ºä¸ç©·ï¼Œæ—©åœ¨Faster-RCNNä¸­å°±è¢«æå‡ºæ¥äº†ã€‚RPNå±‚ä¸»è¦ç”¨æ¥æ ¹æ®å­¦ä¹ åˆ°çš„ç‰¹å¾ï¼Œå¹¶ç»“åˆAnchorï¼Œåœ¨åŸå›¾ä¸­æ‰¾åˆ°ç‰©ä½“æ‰€åœ¨<strong>æ£€æµ‹æ¡†</strong>å’Œ<strong>å¯¹åº”çš„ç±»åˆ«</strong>ã€‚</p><p>ä¸€èˆ¬è€Œè¨€ï¼ŒRPNå±‚æœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼Œä¸€ä¸ªç”¨æ¥è¾“å‡º<strong>ç±»åˆ«çš„æ¦‚ç‡åˆ†å¸ƒ</strong>ï¼ˆé€šå¸¸å«åšScore Mapï¼‰ï¼Œä¸€ä¸ªç”¨æ¥è¾“å‡º<strong>Anchoråˆ°çœŸå®æ¡†çš„å˜åŒ–è¿‡ç¨‹</strong>ï¼ˆé€šå¸¸å«åš Regression Mapï¼‰</p><p>ä½œè€…æå‡ºçš„RPNå±‚çš„ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚è¯¥ç½‘ç»œä»¥ä¸­é—´å·ç§¯å±‚çš„è¾“å‡ºç‰¹å¾å›¾ä¸ºè¾“å…¥ï¼Œåˆ†åˆ«ç»è¿‡ä¸‰æ¬¡ä¸‹é‡‡æ ·ï¼ˆæ¯æ¬¡stride=2ï¼‰è·å¾—ä¸‰ä¸ªä¸åŒç»´åº¦çš„ç‰¹å¾å›¾ã€‚ä½œè€…å°†è¿™ä¸ªä¸‰ä¸ªç‰¹å¾å›¾ç¼©æ”¾è‡³åŒä¸€ç»´åº¦åè¿›è¡Œæ‹¼æ¥ï¼Œæœ‰ç‚¹FPNï¼ˆç‰¹å¾é‡‘å­—å¡”ç½‘ç»œï¼‰çš„æ„Ÿè§‰ã€‚æœ€åï¼Œæ‹¼æ¥çš„ç‰¹å¾è¢«æ˜ å°„æˆä¸¤ä¸ªè¾“å‡ºç‰¹å¾å›¾</p><h2 id="æŸå¤±å‡½æ•°">æŸå¤±å‡½æ•°</h2><p>ä½œè€…å¼•å…¥äº†<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi></mrow></msub></mrow><annotation encoding="application/x-tex">n_{pos}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">s</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>ä¸ªæ­£anchorå’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>N</mi><mrow><mi>n</mi><mi>e</mi><mi>g</mi></mrow></msub></mrow><annotation encoding="application/x-tex">N_{neg}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>ä¸ªè´Ÿanchorã€‚ä¸€ä¸ªgt-3D æ£€æµ‹æ¡†å¯ä»¥ç”¨ä¸€ä¸ª7ç»´å‘é‡è¡¨ç¤ºï¼Œåˆ†åˆ«æ˜¯<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>c</mi><mi>g</mi></msubsup><mo separator="true">,</mo><msubsup><mi>y</mi><mi>c</mi><mi>g</mi></msubsup><mo separator="true">,</mo><msubsup><mi>z</mi><mi>c</mi><mi>g</mi></msubsup><mo separator="true">,</mo><msup><mi>l</mi><mi>g</mi></msup><mo separator="true">,</mo><msup><mi>w</mi><mi>g</mi></msup><mo separator="true">,</mo><msup><mi>h</mi><mi>g</mi></msup><mo separator="true">,</mo><msup><mi>Î¸</mi><mi>g</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x_c^g,y_c^g,z_c^g,l^g,w^g,h^g,\theta^g)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4530000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">Î¸</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>.å‰ä¸‰é¡¹æ˜¯æ¡†çš„ä¸­å¿ƒåæ ‡ç‚¹ï¼Œç„¶åæ˜¯é•¿å®½é«˜ï¼Œæœ€åæ˜¯ç»•Zè½´çš„åèˆªè§’</p><p>å‡è®¾ä¸gt-bboxåŒ¹é…çš„positive anchorçš„å‚æ•°ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>c</mi><mi>a</mi></msubsup><mo separator="true">,</mo><msubsup><mi>y</mi><mi>c</mi><mi>a</mi></msubsup><mo separator="true">,</mo><msubsup><mi>z</mi><mi>c</mi><mi>a</mi></msubsup><mo separator="true">,</mo><msup><mi>l</mi><mi>a</mi></msup><mo separator="true">,</mo><msup><mi>w</mi><mi>a</mi></msup><mo separator="true">,</mo><msup><mi>h</mi><mi>a</mi></msup><mo separator="true">,</mo><msup><mi>Î¸</mi><mi>a</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x_c^a,y_c^a,z_c^a,l^a,w^a,h^a,\theta^a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4530000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">Î¸</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> ã€‚é‚£ä¹ˆRPNå±‚ä¸­çš„regressionåˆ†æ”¯è¦å­¦çš„ä¸œè¥¿ï¼Œå°±æ˜¯ä»positive anchoråˆ°gt-bboxçš„å˜åŒ–è¿‡ç¨‹å‚æ•°ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š</p><p><img src="https://picture.fanfer.fun/img/voxnet7.png" alt="Untitled"></p><p>é‚£ä¹ˆæŸå¤±å‡½æ•°çš„å®šä¹‰ä¸»è¦åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œåˆ†åˆ«ä¸ºï¼ˆ1ï¼‰åˆ†ç±»æŸå¤±ï¼ˆ3ï¼‰ä¸Šè¿°7ä¸ªå‚æ•°çš„å›å½’æŸå¤±ã€‚</p><p>å…¶ä¸­åˆ†ç±»æŸå¤±åŒ…æ‹¬Positive anchorå’ŒNegative anchorçš„æŸå¤±ã€‚</p><p>å…·ä½“å®šä¹‰å¦‚ä¸‹ï¼š<br><img src="https://picture.fanfer.fun/img/voxnet8.png" alt="Untitled"></p>]]></content>
      
      
      <categories>
          
          <category> è®ºæ–‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®ºæ–‡ </tag>
            
            <tag> cvpr </tag>
            
            <tag> ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BEVFusion</title>
      <link href="/2023/06/06/BEVFusion/"/>
      <url>/2023/06/06/BEVFusion/</url>
      
        <content type="html"><![CDATA[<h1 id="bevfusion-multi-task-multi-sensor-fusion-with-unified-bird-s-eye-view-representation">BEVFusion: Multi-Task Multi-Sensor Fusion with Unified Birdâ€™s-Eye View Representation</h1><p>Author: MIT HanSong<br>Code: <a href="https://github.com/ADLab-AutoDrive/BEVFusion">https://github.com/ADLab-AutoDrive/BEVFusion</a><br>Comment: BEV , attention<br>Completed: December 11, 2022<br>Key Words: Fusion, Object Detection<br>Score: â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸<br>Source: CVPR2022</p><h2 id="abstract">Abstract</h2><p>å°†å¤šä¼ æ„Ÿå™¨èåˆå¯¹äºå‡†ç¡®å¯é çš„è‡ªåŠ¨é©¾é©¶ç³»ç»Ÿè‡³å…³é‡è¦ã€‚æœ€è¿‘æå‡ºçš„æ–¹æ³•åŸºäº<strong>ç‚¹çº§ï¼ˆpoint-levelï¼‰èåˆ</strong>ï¼šä½¿ç”¨æ‘„åƒå¤´ç‰¹å¾å¢å¼ºæ¿€å…‰é›·è¾¾ç‚¹äº‘ã€‚ç„¶è€Œï¼Œæ‘„åƒå¤´åˆ°æ¿€å…‰é›·è¾¾çš„æŠ•å½±ä¸¢å¼ƒäº†æ‘„åƒå¤´ç‰¹å¾çš„è¯­ä¹‰å¯†åº¦ï¼ˆsemantic densityï¼‰ï¼Œé˜»ç¢äº†æ­¤ç±»æ–¹æ³•çš„æœ‰æ•ˆæ€§ï¼Œå°¤å…¶æ˜¯å¯¹äºé¢å‘è¯­ä¹‰çš„ä»»åŠ¡ï¼ˆå¦‚3Dåœºæ™¯åˆ†å‰²ï¼‰ã€‚</p><p>æœ¬æ–‡æå‡ºçš„BEVFusionæ˜¯ä¸€ç§å¤šä»»åŠ¡å¤šä¼ æ„Ÿå™¨èåˆæ¡†æ¶ï¼Œå…¶ç»Ÿä¸€BEVè¡¨å¾ç©ºé—´ä¸­çš„å¤šæ¨¡æ€ç‰¹å¾ï¼Œå¾ˆå¥½åœ°ä¿ç•™äº†å‡ ä½•å’Œè¯­ä¹‰ä¿¡æ¯ã€‚ä¸ºå®ç°è¿™ä¸€ç‚¹ï¼Œä¼˜åŒ–BEVæ± åŒ–ï¼Œè¯Šæ–­å¹¶è§£é™¤è§†å›¾è½¬æ¢ä¸­çš„å…³é”®æ•ˆç‡ç“¶é¢ˆï¼Œå°†å»¶è¿Ÿå‡å°‘äº†40å€ã€‚BEVFusionä»æ ¹æœ¬ä¸Šæ¥è¯´æ˜¯ä»»åŠ¡æ— å…³çš„ï¼Œæ— ç¼æ”¯æŒä¸åŒçš„3Dæ„ŸçŸ¥ä»»åŠ¡ï¼Œå‡ ä¹æ²¡æœ‰æ¶æ„çš„æ›´æ”¹ã€‚</p><p>åœ¨nuScenesæ•°æ®é›†çš„3Dç›®æ ‡æ£€æµ‹ä¸Šå®ç°1.3%çš„mAPå’ŒNDSæå‡ï¼Œåœ¨BEVåˆ†å‰²ä¸Šå®ç°äº†13.6%çš„mIoUæå‡ï¼Œè®¡ç®—æˆæœ¬é™ä½äº†1.9å€ã€‚</p><h2 id="introduction">Introduction</h2><p>ç”¨è¯­ä¹‰æ ‡æ³¨ã€CNNç‰¹å¾æˆ–2Då›¾åƒä¸­çš„è™šæ‹Ÿç‚¹ï¼ˆvirtual pointsï¼‰æ¥å¢å¼ºæ¿€å…‰é›·è¾¾ç‚¹äº‘ï¼Œç„¶ååº”ç”¨ç°æœ‰åŸºäºæ¿€å…‰é›·è¾¾çš„æ£€æµ‹å™¨é¢„æµ‹3Dè¾¹æ¡†ã€‚å°½ç®¡è¿™äº›ç‚¹çº§èåˆæ–¹æ³•åœ¨å¤§è§„æ¨¡æ£€æµ‹åŸºå‡†ä¸Šè¡¨ç°å‡ºäº†å“è¶Šçš„æ€§èƒ½ï¼Œä½†å‡ ä¹ä¸é€‚ç”¨äºé¢å‘è¯­ä¹‰çš„ä»»åŠ¡ï¼Œå¦‚BEVåœ°å›¾åˆ†å‰²ã€‚è¿™æ˜¯å› ä¸ºæ‘„åƒå¤´åˆ°æ¿€å…‰é›·è¾¾çš„æŠ•å½±åœ¨è¯­ä¹‰ä¸Šæ˜¯æœ‰æŸçš„ï¼Œè€ŒBEB Fusionå°±æ˜¯æƒ³é¿å…è¿™ä¸ªå‡ ä½•å’Œè¯­ä¹‰çš„æŸå¤±ï¼Œå»ºç«‹BEVç‰¹å¾çš„èåˆè¡¨å¾ï¼Œå®ç°3Dè¯­ä¹‰ä»»åŠ¡ã€‚</p><p>å¦‚å›¾æ‰€ç¤ºï¼šå¯¹äºå…¸å‹çš„32çº¿æ¿€å…‰é›·è¾¾æ‰«æï¼Œåªæœ‰5%çš„æ‘„åƒå¤´ç‰¹å¾ä¸æ¿€å…‰é›·è¾¾ç‚¹åŒ¹é…ï¼Œè€Œå…¶ä»–æ‰€æœ‰ç‰¹å¾éƒ½å°†è¢«åˆ é™¤ã€‚å¯¹äºæ›´ç¨€ç–çš„æ¿€å…‰é›·è¾¾ï¼ˆæˆ–æˆåƒé›·è¾¾ï¼‰ï¼Œè¿™ç§å¯†åº¦å·®å¼‚å°†å˜å¾—æ›´åŠ å‰§çƒˆã€‚</p><p><img src="https://picture.fanfer.fun/img/bevfusion1.png" alt="Untitled"></p><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†BEVFusion ä½¿ç”¨åŒä¸€ä¸ªBEVè§†å›¾æ¥è¡¨ç¤ºç©ºé—´ä¸­çš„å¤šæ¨¡æ€ç‰¹å¾ï¼ŒåŒæ—¶ä¿æŒäº†ç…§ç›¸æœºçš„è¯­ä¹‰å¯†åº¦å’Œæ¿€å…‰é›·è¾¾çš„ç©ºé—´ç‰¹å¾ï¼Œæ”¯æŒå¤§å¤šæ•°çš„3Dæ„ŸçŸ¥ä»»åŠ¡ï¼ŒåŒæ—¶å‘ç°è½¬åŒ–æ•ˆç‡çš„ç“¶é¢ˆä¸»è¦æ˜¯BEVæ± åŒ–æ“ä½œï¼Œå› æ­¤è®¾è®¡äº†å…·æœ‰é¢„è¿ç®—å’Œç¼©çŸ­é—´éš”çš„ä¸“ç”¨å†…æ ¸æ¥æ¶ˆé™¤ç“¶é¢ˆã€‚æœ€åä½¿ç”¨å…¨å·ç§¯BEVç¼–ç å™¨æ¥èåˆç»Ÿä¸€çš„BEVç‰¹å¾ï¼Œå¹¶æ·»åŠ ä»»åŠ¡ç‰¹å®šçš„æ£€æµ‹å¤´æ¥æ”¯æŒä¸åŒçš„ä»»åŠ¡ã€‚</p><h2 id="methodology">Methodology</h2><p><img src="https://picture.fanfer.fun/img/bevfusion2.png" alt="Untitled"></p><p>BEVFusionä»å¤šæ¨¡æ€è¾“å…¥ä¸­æå–ç‰¹å¾ï¼Œå¹¶é€šè¿‡è§†å›¾è½¬æ¢è½¬æ¢æˆBEVç©ºé—´ï¼Œå°†ç»Ÿä¸€çš„BEVç‰¹å¾å’Œå…¨å·ç§¯BEVç¼–ç å™¨èåˆåœ¨ä¸€èµ·ï¼Œå¹¶æ”¯æŒå…·æœ‰ç‰¹å®šä»»åŠ¡å¤´çš„ä¸åŒä»»åŠ¡ã€‚</p><blockquote><p><strong>BEVFusion Pipline:</strong></p><ol><li>å¯¹äºä¸åŒçš„æ¨¡æ€çš„æ•°æ®é‡‡ç”¨ä¸åŒçš„ç‰¹å¾æå–å™¨æå–ç‰¹å¾</li><li>å°†å¤šæ¨¡æ€çš„ç‰¹å¾è½¬åŒ–æˆåŒä¸€ä¸ªå…±äº«BEVç©ºé—´ä¸­ï¼ŒåŒæ—¶ä¿ç•™äº†ç©ºé—´å‡ ä½•ä¿¡æ¯å’Œä¸°å¯Œçš„è¯­ä¹‰ä¿¡æ¯</li><li>ä½¿ç”¨é¢„è®¡ç®—å’Œç¼©çŸ­é—´éš”æ¥æ¶ˆé™¤è§†å›¾è½¬æ¢è¿‡ç¨‹ä¸­çš„æ•ˆç‡ç“¶é¢ˆï¼ŒåŠ é€ŸBEVæ± åŒ–</li><li>å¯¹BEVç‰¹å¾ä½¿ç”¨åŸºäºå·ç§¯çš„ç¼–ç å™¨</li><li>é’ˆå¯¹ä¸åŒçš„ä»»åŠ¡ä½¿ç”¨ä¸åŒçš„æ£€æµ‹å¤´</li></ol></blockquote><h3 id="unified-represetation">Unified Represetation</h3><p>é‡‡ç”¨BEVä½œä¸ºèåˆçš„ç»Ÿä¸€è¡¨å¾ï¼Œè¯¥è§†å›¾å¯¹å‡ ä¹æ‰€æœ‰æ„ŸçŸ¥ä»»åŠ¡éƒ½å¾ˆå‹å¥½ï¼Œå› ä¸ºè¾“å‡ºç©ºé—´ä¹Ÿåœ¨BEVã€‚æ›´é‡è¦çš„æ˜¯ï¼Œåˆ°BEVçš„è½¬æ¢åŒæ—¶ä¿æŒäº†å‡ ä½•ç»“æ„ï¼ˆæ¥è‡ªæ¿€å…‰é›·è¾¾ç‰¹å¾ï¼‰å’Œè¯­ä¹‰å¯†åº¦ï¼ˆæ¥è‡ªæ‘„åƒå¤´ç‰¹å¾ï¼‰ã€‚ä¸€æ–¹é¢ï¼ŒLiDARåˆ°BEVæŠ•å½±å°†ç¨€ç–LiDARç‰¹å¾æ²¿é«˜åº¦ç»´åº¦ï¼ˆheight dimensionï¼‰å±•å¹³ï¼Œå› æ­¤ä¸ä¼šäº§ç”Ÿå‡ ä½•å¤±çœŸã€‚å¦ä¸€æ–¹é¢ï¼Œæ‘„åƒå¤´åˆ°BEVæŠ•å½±å°†æ¯ä¸ªæ‘„åƒå¤´ç‰¹å¾åƒç´ æŠ•å°„å›3Dç©ºé—´çš„ä¸€æ¡å…‰çº¿ä¸­ï¼ˆray castingï¼‰ï¼Œè¿™å¯ä»¥ç”Ÿæˆå¯†é›†çš„BEVç‰¹å¾å›¾ï¼Œå¹¶ä¿ç•™äº†æ‘„åƒå¤´çš„å…¨éƒ¨è¯­ä¹‰ä¿¡æ¯ã€‚</p><h3 id="camera-to-bev-transformation">Camera-to-BEV Transformation</h3><p>æ‘„åƒå¤´åˆ°BEVçš„å˜æ¢éå¸¸é‡è¦ï¼Œå› ä¸ºä¸æ¯ä¸ªæ‘„åƒå¤´å›¾åƒç‰¹å¾åƒç´ å…³è”çš„æ·±åº¦ï¼ˆdepthï¼‰æœ¬è´¨ä¸Šæ˜¯ä¸æ˜ç¡®çš„ã€‚æ ¹æ®LSSï¼Œæ˜ç¡®é¢„æµ‹æ¯ä¸ªåƒç´ çš„ç¦»æ•£æ·±åº¦åˆ†å¸ƒã€‚ç„¶åï¼Œæ²¿ç€æ‘„åƒå¤´å…‰çº¿å°†æ¯ä¸ªç‰¹å¾åƒç´ åˆ†æ•£æˆDä¸ªç¦»æ•£ç‚¹ï¼Œå¹¶æ ¹æ®ç›¸åº”çš„æ·±åº¦æ¦‚ç‡é‡ç¼©æ”¾ï¼ˆrescaleï¼‰ç›¸å…³ç‰¹å¾ã€‚è¿™å°†ç”Ÿæˆå¤§å°ä¸ºN<strong>H</strong>W*Dçš„æ‘„åƒå¤´ç‰¹å¾ç‚¹äº‘ï¼Œå…¶ä¸­Næ˜¯æ‘„åƒå¤´æ•°ï¼Œï¼ˆHï¼ŒWï¼‰æ˜¯æ‘„åƒå¤´ç‰¹å¾å›¾å¤§å°ã€‚æ­¤ç±»3Dç‰¹å¾ç‚¹äº‘æ²¿xã€yè½´é‡åŒ–ï¼Œæ­¥é•¿ä¸ºrï¼ˆä¾‹å¦‚ï¼Œ0.4mï¼‰ã€‚ç”¨BEVæ± åŒ–æ“ä½œæ¥èšåˆæ¯ä¸ªrÃ—r BEVç½‘æ ¼å†…çš„æ‰€æœ‰ç‰¹å¾ï¼Œå¹¶æ²¿zè½´å±•å¹³ç‰¹å¾</p><p>è™½ç„¶ç®€å•ï¼Œä½†BEVæ± åŒ–çš„æ•ˆç‡å’Œé€Ÿåº¦æƒŠäººåœ°ä½ï¼Œåœ¨RTX 3090 GPUä¸Šéœ€è¦500æ¯«ç§’ä»¥ä¸Šï¼ˆè€Œæ¨¡å‹çš„å…¶ä½™éƒ¨åˆ†è®¡ç®—åªéœ€è¦100æ¯«ç§’å·¦å³ï¼‰ã€‚è¿™æ˜¯å› ä¸ºæ‘„åƒå¤´ç‰¹å¾ç‚¹äº‘éå¸¸å¤§ï¼Œå³å…¸å‹çš„å·¥ä½œè´Ÿè½½ï¼Œæ¯å¸§å¯èƒ½ç”Ÿæˆçº¦200ä¸‡ä¸ªç‚¹ï¼Œæ¯”æ¿€å…‰é›·è¾¾ç‰¹å¾ç‚¹äº‘å¯†åº¦é«˜ä¸¤ä¸ªæ•°é‡çº§ã€‚ä¸ºäº†æ¶ˆé™¤è¿™ä¸€æ•ˆç‡ç“¶é¢ˆï¼Œå»ºè®®é€šè¿‡é¢„è®¡ç®—å’Œé—´æ­‡é™ä½æ¥ä¼˜åŒ–BEVæ± åŒ–è¿›ç¨‹ã€‚</p><p><img src="https://picture.fanfer.fun/img/bevfusion3.png" alt="Untitled"></p><p>å¦‚å›¾æ‰€ç¤ºï¼šæ‘„åƒæœºåˆ°BEVå˜æ¢ï¼ˆaï¼‰æ˜¯åœ¨ç»Ÿä¸€çš„BEVç©ºé—´è¿›è¡Œä¼ æ„Ÿå™¨èåˆçš„å…³é”®æ­¥éª¤ã€‚ç„¶è€Œï¼Œç°æœ‰çš„å®ç°é€Ÿåº¦éå¸¸æ…¢ï¼Œå•ä¸ªåœºæ™¯å¯èƒ½éœ€è¦2ç§’çš„æ—¶é—´ã€‚æ–‡ç« æå‡ºäº†æœ‰æ•ˆçš„BEVæ± åŒ–æ–¹æ³•ï¼ˆbï¼‰ï¼Œé€šè¿‡é¢„è®¡ç®—ä½¿é—´æ­‡é™ä½å’ŒåŠ å¿«ç½‘æ ¼å…³è”ï¼Œè§†å›¾è½¬æ¢æ¨¡å—ï¼ˆcï¼Œdï¼‰çš„æ‰§è¡Œé€Ÿåº¦æé«˜äº†40å€</p><h3 id="é¢„è®¡ç®—">é¢„è®¡ç®—</h3><p>BEVæ± åŒ–çš„ç¬¬ä¸€æ­¥æ˜¯å°†æ‘„åƒå¤´ç‰¹å¾ç‚¹äº‘çš„æ¯ä¸ªç‚¹ä¸BEVç½‘æ ¼ç›¸å…³è”ã€‚ä¸æ¿€å…‰é›·è¾¾ç‚¹äº‘ä¸åŒï¼Œæ‘„åƒå¤´ç‰¹å¾ç‚¹äº‘çš„åæ ‡æ˜¯å›ºå®šçš„ï¼ˆåªè¦æ‘„åƒå¤´å†…å‚å¤–å‚ä¿æŒä¸å˜ï¼Œé€šå¸¸åœ¨é€‚å½“æ ‡å®šåï¼‰ã€‚åŸºäºæ­¤ï¼Œé¢„è®¡ç®—æ¯ä¸ªç‚¹çš„3Dåæ ‡å’ŒBEVç½‘æ ¼ç´¢å¼•ã€‚è¿˜æœ‰ï¼Œæ ¹æ®ç½‘æ ¼ç´¢å¼•å¯¹æ‰€æœ‰ç‚¹è¿›è¡Œæ’åºï¼Œå¹¶è®°å½•æ¯ä¸ªç‚¹æ’åã€‚åœ¨æ¨ç†è¿‡ç¨‹ä¸­ï¼Œåªéœ€è¦æ ¹æ®é¢„è®¡ç®—çš„æ’åºå¯¹æ‰€æœ‰ç‰¹å¾ç‚¹é‡æ’åºã€‚è¿™ç§ç¼“å­˜æœºåˆ¶å¯ä»¥å°†ç½‘æ ¼å…³è”çš„å»¶è¿Ÿä»17mså‡å°‘åˆ°4msã€‚</p><h3 id="é—´æ­‡é™ä½">é—´æ­‡é™ä½</h3><p>ç½‘æ ¼å…³è”åï¼ŒåŒä¸€BEVç½‘æ ¼çš„æ‰€æœ‰ç‚¹å°†åœ¨å¼ é‡è¡¨å¾ä¸­è¿ç»­ã€‚BEVæ± åŒ–çš„ä¸‹ä¸€æ­¥æ˜¯é€šè¿‡ä¸€äº›å¯¹ç§°å‡½æ•°ï¼ˆä¾‹å¦‚ï¼Œå¹³å‡å€¼ã€æœ€å¤§å€¼å’Œæ±‚å’Œï¼‰èšåˆæ¯ä¸ªBEVç½‘æ ¼å†…çš„ç‰¹å¾ã€‚ç°æœ‰çš„å®ç°æ–¹æ³•é¦–å…ˆè®¡ç®—æ‰€æœ‰ç‚¹çš„å‰ç¼€å’Œï¼ˆprefix sumï¼‰ï¼Œç„¶åå‡å»ç´¢å¼•å‘ç”Ÿå˜åŒ–çš„è¾¹ç•Œå€¼ã€‚ç„¶è€Œï¼Œå‰ç¼€å’Œæ“ä½œï¼Œéœ€è¦åœ¨GPUè¿›è¡Œæ ‘ç¼©å‡ï¼ˆtree reductionï¼‰ï¼Œå¹¶ç”Ÿæˆè®¸å¤šæœªä½¿ç”¨çš„éƒ¨åˆ†å’Œï¼ˆå› ä¸ºåªéœ€è¦è¾¹ç•Œå€¼ï¼‰ï¼Œè¿™ä¸¤ç§æ“ä½œéƒ½æ˜¯ä½æ•ˆçš„ã€‚ä¸ºäº†åŠ é€Ÿç‰¹å¾èšåˆï¼Œæ–‡ç« é‡Œå®ç°ä¸€ä¸ªä¸“é—¨çš„GPUå†…æ ¸ï¼Œç›´æ¥åœ¨BEVç½‘æ ¼å¹¶è¡ŒåŒ–ï¼šä¸ºæ¯ä¸ªç½‘æ ¼åˆ†é…ä¸€ä¸ªGPUçº¿ç¨‹ï¼Œè¯¥çº¿ç¨‹è®¡ç®—å…¶é—´æ­‡å’Œï¼ˆinterval sumï¼‰å¹¶å°†ç»“æœå†™å›ã€‚è¯¥å†…æ ¸æ¶ˆé™¤è¾“å‡ºä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼ˆå› æ­¤ä¸éœ€è¦å¤šçº§æ ‘ç¼©å‡ï¼‰ï¼Œå¹¶é¿å…å°†éƒ¨åˆ†å’Œå†™å…¥DRAMï¼Œä»è€Œå°†ç‰¹å¾èšåˆçš„å»¶è¿Ÿä»500mså‡å°‘åˆ°2msã€‚</p><aside>ğŸ’¡ é€šè¿‡ä¼˜åŒ–çš„BEVæ± åŒ–ï¼Œæ‘„åƒå¤´åˆ°BEVçš„è½¬æ¢é€Ÿåº¦æé«˜äº†40å€ï¼šå»¶è¿Ÿä»500mså‡å°‘åˆ°12msï¼ˆä»…ä¸ºæ¨¡å‹ç«¯åˆ°ç«¯è¿è¡Œæ—¶é—´çš„10%ï¼‰ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ä¸åŒçš„åˆ†ç‰¹å¾è¾¨ç‡ä¹‹é—´å¾ˆå¥½åœ°æ‰©å±•ã€‚åœ¨å…±äº«BEVè¡¨å¾ä¸­ï¼Œè¿™æ˜¯ç»Ÿä¸€å¤šæ¨¡æ€æ„ŸçŸ¥ç‰¹å¾çš„å…³é”®ä¿ƒæˆå› ç´ ã€‚ä¸¤é¡¹å¹¶è¡ŒåŒ–å·¥ä½œä¹Ÿå‘ç°äº†çº¯æ‘„åƒå¤´3Dæ£€æµ‹çš„è¿™ä¸€æ•ˆç‡ç“¶é¢ˆã€‚å‡è®¾å‡åŒ€æ·±åº¦åˆ†å¸ƒï¼Œæˆ–æˆªæ–­æ¯ä¸ªBEVç½‘æ ¼å†…çš„ç‚¹ï¼Œå¯ä»¥è¿‘ä¼¼è§†å›¾transformerè®¡ç®—ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œè¯¥æŠ€æœ¯åœ¨æ²¡æœ‰ä»»ä½•è¿‘ä¼¼çš„æƒ…å†µä¸‹æ˜¯ç²¾ç¡®çš„ï¼Œä½†ä»ç„¶æ›´å¿«ã€‚</aside><h2 id="fully-convolutional-fusion">Fully-Convolutional Fusion</h2><p>å°†æ‰€æœ‰çš„æ„Ÿå®˜ç‰¹å¾è½¬æ¢ä¸ºå…±äº«çš„BEVè¡¨ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°å°†å®ƒä»¬ä¸å…ƒç´ æ“ä½œç¬¦(ä¾‹å¦‚æ‹¼æ¥)èåˆåœ¨ä¸€èµ·ã€‚å°½ç®¡åœ¨åŒä¸€ç©ºé—´ä¸­ï¼Œç”±äºè§†å›¾è½¬æ¢å™¨çš„æ·±åº¦ä¸å‡†ç¡®ï¼ŒLiDAR BEVç‰¹å¾å’Œç›¸æœºBEVç‰¹å¾ä»ç„¶ä¼šåœ¨ä¸€å®šç¨‹åº¦ä¸Šå‡ºç°ç©ºé—´é”™ä½ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬åº”ç”¨äº†ä¸€ä¸ªåŸºäºå·ç§¯çš„BEVç¼–ç å™¨(å¸¦æœ‰ä¸€äº›å‰©ä½™å—)æ¥è¡¥å¿è¿™ç§å±€éƒ¨å¤±è°ƒã€‚æˆ‘ä»¬çš„æ–¹æ³•å¯èƒ½ä»æ›´ç²¾ç¡®çš„æ·±åº¦ä¼°è®¡ä¸­å—ç›Š</p>]]></content>
      
      
      <categories>
          
          <category> è®ºæ–‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®ºæ–‡ </tag>
            
            <tag> cvpr </tag>
            
            <tag> ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°å­—å›¾åƒå¤„ç†</title>
      <link href="/2023/05/07/ImageTackle/"/>
      <url>/2023/05/07/ImageTackle/</url>
      
        <content type="html"><![CDATA[<h2 id="è¾¹ç¼˜æå–åŸºæœ¬åŸç†">è¾¹ç¼˜æå–åŸºæœ¬åŸç†</h2><p>â€‹å›¾åƒè¾¹ç¼˜æ˜¯å›¾åƒæœ€åŸºæœ¬çš„ç‰¹å¾ï¼Œæ‰€è°“è¾¹ç¼˜(Edge) æ˜¯æŒ‡å›¾åƒå±€éƒ¨ç‰¹æ€§çš„ä¸è¿ç»­æ€§ã€‚ç°åº¦æˆ–ç»“æ„ç­‰ä¿¡æ¯çš„çªå˜å¤„ç§°ä¹‹ä¸ºè¾¹ç¼˜ã€‚ä¾‹å¦‚ï¼Œç°åº¦çº§çš„çªå˜ã€é¢œè‰²çš„çªå˜,ã€çº¹ç†ç»“æ„çš„çªå˜ç­‰ã€‚è¾¹ç¼˜æ˜¯ä¸€ä¸ªåŒºåŸŸçš„ç»“æŸï¼Œä¹Ÿæ˜¯å¦ä¸€ä¸ªåŒºåŸŸçš„å¼€å§‹ï¼Œåˆ©ç”¨è¯¥ç‰¹å¾å¯ä»¥åˆ†å‰²å›¾åƒã€‚</p><p>â€‹å›¾åƒçš„è¾¹ç¼˜æœ‰æ–¹å‘å’Œå¹…åº¦ä¸¤ç§å±æ€§ã€‚è¾¹ç¼˜é€šå¸¸å¯ä»¥é€šè¿‡ä¸€é˜¶å¯¼æ•°æˆ–äºŒé˜¶å¯¼æ•°æ£€æµ‹å¾—åˆ°ã€‚ä¸€é˜¶å¯¼æ•°æ˜¯ä»¥æœ€å¤§å€¼ä½œä¸ºå¯¹åº”çš„è¾¹ç¼˜çš„ä½ç½®ï¼Œè€ŒäºŒé˜¶å¯¼æ•°åˆ™ä»¥è¿‡é›¶ç‚¹ä½œä¸ºå¯¹åº”è¾¹ç¼˜çš„ä½ç½®ã€‚</p><p>â€‹è¦å¾—åˆ°ä¸€å¹…å›¾åƒçš„æ¢¯åº¦ï¼Œåˆ™è¦æ±‚åœ¨å›¾åƒçš„æ¯ä¸ªåƒç´ ç‚¹ä½ç½®å¤„è®¡ç®—åå¯¼æ•°ã€‚æˆ‘ä»¬å¤„ç†çš„æ˜¯æ•°å­—é‡ï¼Œå› æ­¤è¦æ±‚å…³äºä¸€ç‚¹çš„é‚»åŸŸä¸Šçš„åå¯¼æ•°çš„æ•°å­—è¿‘ä¼¼ï¼Œå› æ­¤ä¸€å¹…å›¾åƒåœ¨(x,y)ä½ç½®å’Œx,yæ–¹å‘ä¸Šçš„æ¢¯åº¦å¤§å°è®¡ç®—å¦‚ä¸‹ï¼š</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><mi>x</mi></mrow></mfrac><mo>=</mo><munder><mo><mi>lim</mi><mo>â¡</mo></mo><mrow><mi>x</mi><mo>â†’</mo><mn>0</mn></mrow></munder><mfrac><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mi>Ïµ</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><mi>Ïµ</mi></mfrac></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(1.1)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\frac {\partial f(x,y) } {\partial x }=\lim_{x \to 0} \frac{f(x+\epsilon,y)-f(x,y)}{\epsilon}  \tag{1.1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.113em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathdefault">x</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.144108em;vertical-align:-0.717108em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-2.382892em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="mrel mtight">â†’</span><span class="mord mtight">0</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">lim</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.717108em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">Ïµ</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">Ïµ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="tag"><span class="strut" style="height:2.144108em;vertical-align:-0.717108em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1</span><span class="mord">.</span><span class="mord">1</span></span><span class="mord">)</span></span></span></span></span></span></p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><mi>y</mi></mrow></mfrac><mo>=</mo><munder><mo><mi>lim</mi><mo>â¡</mo></mo><mrow><mi>x</mi><mo>â†’</mo><mn>0</mn></mrow></munder><mfrac><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mi>Ïµ</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><mi>Ïµ</mi></mfrac></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(1.2)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\frac {\partial f(x,y) } {\partial y }=\lim_{x \to 0} \frac{f(x+\epsilon,y)-f(x,y)}{\epsilon} \tag{1.2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.30744em;vertical-align:-0.8804400000000001em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804400000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.144108em;vertical-align:-0.717108em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-2.382892em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="mrel mtight">â†’</span><span class="mord mtight">0</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">lim</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.717108em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">Ïµ</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">Ïµ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="tag"><span class="strut" style="height:2.30744em;vertical-align:-0.8804400000000001em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1</span><span class="mord">.</span><span class="mord">2</span></span><span class="mord">)</span></span></span></span></span></span></p><p>ï¼ˆ1ï¼‰ä¸€é˜¶å¯¼æ•°çš„è¾¹ç¼˜ç®—å­</p><p>é€šè¿‡æ¨¡æ¿ä½œä¸ºæ ¸ä¸å›¾åƒçš„æ¯ä¸ªåƒç´ ç‚¹åšå·ç§¯å’Œè¿ç®—ï¼Œç„¶åé€‰å–åˆé€‚çš„é˜ˆå€¼æ¥æå–å›¾åƒçš„è¾¹ç¼˜ã€‚å¸¸è§çš„æœ‰Robertsç®—å­ã€Sobelç®—å­å’ŒPrewittç®—å­ã€‚</p><p>ï¼ˆ2ï¼‰äºŒé˜¶å¯¼æ•°çš„è¾¹ç¼˜ç®—å­</p><p>ä¾æ®äºäºŒé˜¶å¯¼æ•°è¿‡é›¶ç‚¹ï¼Œå¸¸è§çš„æœ‰Laplacian ç®—å­ï¼Œæ­¤ç±»ç®—å­å¯¹å™ªå£°æ•æ„Ÿã€‚</p><p>ï¼ˆ3ï¼‰å…¶ä»–è¾¹ç¼˜ç®—å­</p><p>å‰é¢ä¸¤ç±»å‡æ˜¯é€šè¿‡å¾®åˆ†ç®—å­æ¥æ£€æµ‹å›¾åƒè¾¹ç¼˜ï¼Œè¿˜æœ‰ä¸€ç§å°±æ˜¯Cannyç®—å­ï¼Œå…¶æ˜¯åœ¨æ»¡è¶³ä¸€å®šçº¦æŸæ¡ä»¶ä¸‹æ¨å¯¼å‡ºæ¥çš„è¾¹ç¼˜æ£€æµ‹æœ€ä¼˜åŒ–ç®—å­ã€‚</p><p>å¯¹äºä¸åŒçš„æ»¤æ³¢å™¨æ¨¡æ¿å¾—åˆ°çš„æ¢¯åº¦æ˜¯ä¸åŒçš„ï¼Œè¿™ä¹Ÿå°±è¡ç”Ÿå‡ºå¾ˆå¤šç®—å­ï¼Œå¦‚Robertsã€Prewittã€Sobelå’ŒLaplacianç®—å­ç­‰ã€‚</p><h3 id="sobelç®—å­">Sobelç®—å­</h3><p>Sobelç®—å­æ˜¯ä¸€ç§ç”¨äºè¾¹ç¼˜æ£€æµ‹çš„ç¦»æ•£å¾®åˆ†ç®—å­ï¼Œå®ƒç»“åˆäº†é«˜æ–¯å¹³æ»‘å’Œå¾®åˆ†æ±‚å¯¼ã€‚è¯¥ç®—å­ç”¨äºè®¡ç®—å›¾åƒæ˜æš—ç¨‹åº¦è¿‘ä¼¼å€¼ï¼Œæ ¹æ®å›¾åƒè¾¹ç¼˜æ—è¾¹æ˜æš—ç¨‹åº¦æŠŠè¯¥åŒºåŸŸå†…è¶…è¿‡æŸä¸ªæ•°çš„ç‰¹å®šç‚¹è®°ä¸ºè¾¹ç¼˜ã€‚Sobelç®—å­åœ¨Prewittç®—å­çš„åŸºç¡€ä¸Šå¢åŠ äº†æƒé‡çš„æ¦‚å¿µï¼Œè®¤ä¸ºç›¸é‚»ç‚¹çš„è·ç¦»è¿œè¿‘å¯¹å½“å‰åƒç´ ç‚¹çš„å½±å“æ˜¯ä¸åŒçš„ï¼Œè·ç¦»è¶Šè¿‘çš„åƒç´ ç‚¹å¯¹åº”å½“å‰åƒç´ çš„å½±å“è¶Šå¤§ï¼Œä»è€Œå®ç°å›¾åƒé”åŒ–å¹¶çªå‡ºè¾¹ç¼˜è½®å»“ã€‚</p><p>Sobelç®—å­æ ¹æ®åƒç´ ç‚¹ä¸Šä¸‹ã€å·¦å³é‚»ç‚¹ç°åº¦åŠ æƒå·®ï¼Œåœ¨è¾¹ç¼˜å¤„è¾¾åˆ°æå€¼è¿™ä¸€ç°è±¡æ£€æµ‹è¾¹ç¼˜ã€‚å¯¹å™ªå£°å…·æœ‰å¹³æ»‘ä½œç”¨ï¼Œæä¾›è¾ƒä¸ºç²¾ç¡®çš„è¾¹ç¼˜æ–¹å‘ä¿¡æ¯ã€‚å› ä¸ºSobelç®—å­ç»“åˆäº†é«˜æ–¯å¹³æ»‘å’Œå¾®åˆ†æ±‚å¯¼ï¼ˆåˆ†åŒ–ï¼‰ï¼Œå› æ­¤ç»“æœä¼šå…·æœ‰æ›´å¤šçš„æŠ—å™ªæ€§ï¼Œå½“å¯¹ç²¾åº¦è¦æ±‚ä¸æ˜¯å¾ˆé«˜æ—¶ï¼ŒSobelç®—å­æ˜¯ä¸€ç§è¾ƒä¸ºå¸¸ç”¨çš„è¾¹ç¼˜æ£€æµ‹æ–¹æ³•ã€‚</p><p>Sobelç®—å­çš„è¾¹ç¼˜å®šä½æ›´å‡†ç¡®ï¼Œå¸¸ç”¨äºå™ªå£°è¾ƒå¤šã€ç°åº¦æ¸å˜çš„å›¾åƒã€‚å…¶ç®—æ³•æ¨¡æ¿å¦‚ä¸‹é¢çš„å…¬å¼æ‰€ç¤ºï¼Œå…¶ä¸­  è¡¨ç¤ºæ°´å¹³æ–¹å‘ï¼Œ è¡¨ç¤ºå‚ç›´æ–¹å‘ã€‚</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>d</mi><mi>x</mi></msub><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mn>2</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mspace width="1em"/><msub><mi>d</mi><mi>y</mi></msub><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mn>2</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mspace width="1em"/></mrow><annotation encoding="application/x-tex">d_x=\begin{bmatrix} -1 &amp; 0 &amp;1 \\ -2 &amp; 0 &amp; 2\\-1 &amp; 0 &amp;1 \end{bmatrix}\quad d_y=\begin{bmatrix} -1 &amp; -2 &amp;1 \\ 0 &amp; 0 &amp; 0\\1 &amp; 2 &amp;1 \end{bmatrix}\quad</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.6010299999999997em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0510099999999998em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â£</span></span></span><span style="top:-2.8099900000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â¢</span></span></span><span style="top:-4.05101em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â¡</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord">2</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0510099999999998em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â¦</span></span></span><span style="top:-2.8099900000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â¥</span></span></span><span style="top:-4.05101em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â¤</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.6010299999999997em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0510099999999998em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â£</span></span></span><span style="top:-2.8099900000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â¢</span></span></span><span style="top:-4.05101em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â¡</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord">2</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0510099999999998em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â¦</span></span></span><span style="top:-2.8099900000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â¥</span></span></span><span style="top:-4.05101em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â¤</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span></span></span></span></span></p><h3 id="robertsç®—å­">Robertsç®—å­</h3><p>Robertsç®—å­åˆç§°ä¸ºäº¤å‰å¾®åˆ†ç®—æ³•ï¼Œå®ƒæ˜¯åŸºäºäº¤å‰å·®åˆ†çš„æ¢¯åº¦ç®—æ³•ï¼Œé€šè¿‡å±€éƒ¨å·®åˆ†è®¡ç®—æ£€æµ‹è¾¹ç¼˜çº¿æ¡ã€‚å¸¸ç”¨æ¥å¤„ç†å…·æœ‰é™¡å³­çš„ä½å™ªå£°å›¾åƒï¼Œå½“å›¾åƒè¾¹ç¼˜æ¥è¿‘äºæ­£45åº¦æˆ–è´Ÿ45åº¦æ—¶ï¼Œè¯¥ç®—æ³•å¤„ç†æ•ˆæœæ›´ç†æƒ³ã€‚å…¶ç¼ºç‚¹æ˜¯å¯¹è¾¹ç¼˜çš„å®šä½ä¸å¤ªå‡†ç¡®ï¼Œæå–çš„è¾¹ç¼˜çº¿æ¡è¾ƒç²—ã€‚Robertsç®—å­çš„æ¨¡æ¿åˆ†ä¸ºæ°´å¹³æ–¹å‘å’Œå‚ç›´æ–¹å‘ï¼Œå¦‚ä¸‹å¼æ‰€ç¤ºï¼Œä»å…¶æ¨¡æ¿å¯ä»¥çœ‹å‡ºï¼ŒRobertsç®—å­èƒ½è¾ƒå¥½çš„å¢å¼ºæ­£è´Ÿ45åº¦çš„å›¾åƒè¾¹ç¼˜ã€‚</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>d</mi><mi>x</mi></msub><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mspace width="1em"/><msub><mi>d</mi><mi>y</mi></msub><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mspace width="1em"/></mrow><annotation encoding="application/x-tex">d_x=\begin{bmatrix} -1 &amp; 0 \\ 0 &amp; 1 \end{bmatrix}\quad d_y=\begin{bmatrix} 0 &amp; -1 \\ 1 &amp; 0 \end{bmatrix}\quad</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.40003em;vertical-align:-0.95003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord">1</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.40003em;vertical-align:-0.95003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord">1</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:1em;"></span></span></span></span></span></p><h3 id="prewittç®—å­">Prewittç®—å­</h3><p>Prewittç®—å­æ˜¯ä¸€ç§å›¾åƒè¾¹ç¼˜æ£€æµ‹çš„å¾®åˆ†ç®—å­ï¼Œå…¶åŸç†æ˜¯åˆ©ç”¨ç‰¹å®šåŒºåŸŸå†…åƒç´ ç°åº¦å€¼äº§ç”Ÿçš„å·®åˆ†å®ç°è¾¹ç¼˜æ£€æµ‹ã€‚ç”±äºPrewittç®—å­é‡‡ç”¨ 33 æ¨¡æ¿å¯¹åŒºåŸŸå†…çš„åƒç´ å€¼è¿›è¡Œè®¡ç®—ï¼Œè€ŒRobertç®—å­çš„æ¨¡æ¿ä¸º 22ï¼Œæ•…Prewittç®—å­çš„è¾¹ç¼˜æ£€æµ‹ç»“æœåœ¨æ°´å¹³æ–¹å‘å’Œå‚ç›´æ–¹å‘å‡æ¯”Robertç®—å­æ›´åŠ æ˜æ˜¾ã€‚Prewittç®—å­é€‚åˆç”¨æ¥è¯†åˆ«å™ªå£°è¾ƒå¤šã€ç°åº¦æ¸å˜çš„å›¾åƒï¼Œå…¶è®¡ç®—å…¬å¼å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>d</mi><mi>x</mi></msub><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mspace width="1em"/><msub><mi>d</mi><mi>y</mi></msub><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mspace width="1em"/></mrow><annotation encoding="application/x-tex">d_x=\begin{bmatrix} -1 &amp; 0 &amp;1 \\ -1 &amp; 0 &amp;1\\-1 &amp; 0 &amp;1 \end{bmatrix}\quad d_y=\begin{bmatrix} -1 &amp; -1 &amp;-1 \\ 0 &amp; 0 &amp; 0\\1 &amp; 1 &amp;1 \end{bmatrix}\quad</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.6010299999999997em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0510099999999998em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â£</span></span></span><span style="top:-2.8099900000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â¢</span></span></span><span style="top:-4.05101em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â¡</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord">1</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0510099999999998em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â¦</span></span></span><span style="top:-2.8099900000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â¥</span></span></span><span style="top:-4.05101em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â¤</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.6010299999999997em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0510099999999998em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â£</span></span></span><span style="top:-2.8099900000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â¢</span></span></span><span style="top:-4.05101em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â¡</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0510099999999998em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â¦</span></span></span><span style="top:-2.8099900000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â¥</span></span></span><span style="top:-4.05101em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â¤</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span></span></span></span></span></p><h3 id="marrç®—å­">Marrç®—å­</h3><p>ä¸€ç§åˆ©ç”¨å›¾åƒå¼ºåº¦äºŒé˜¶å¯¼æ•°çš„é›¶äº¤å‰ç‚¹æ¥æ±‚è¾¹ç¼˜ç‚¹çš„ç®—æ³•å¯¹å™ªå£°ååˆ†æ•æ„Ÿï¼Œæ‰€ä»¥åœ¨è¾¹ç¼˜å¢å¼ºå‰æ»¤é™¤å™ªå£°ã€‚è¿™æ˜¯ä¸€ç§æ ¹æ®äººç±»è§†è§‰ç‰¹æ€§æå‡ºäº†ä¸€ç§è¾¹ç¼˜æ£€æµ‹çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å°†é«˜æ–¯æ»¤æ³¢å’Œæ‹‰æ™®æ‹‰æ–¯æ£€æµ‹ç®—å­ç»“åˆåœ¨ä¸€èµ·è¿›è¡Œè¾¹ç¼˜æ£€æµ‹çš„æ–¹æ³•ã€‚Marrå’ŒHildrethè¯æ˜äº†è¾¹ç¼˜æ£€æµ‹ä¸­ç°åº¦å˜åŒ–å’Œå›¾åƒçš„å°ºå¯¸æ— å…³æ£€æµ‹ç®—å­å¯ä»¥ä¸ºä¸åŒå°ºåº¦ï¼›ç°åº¦å˜åŒ–æ¢¯åº¦åœ¨ä¸€é˜¶å¯¼æ•°çš„æå€¼ç‚¹ï¼Œæˆ–åœ¨äºŒé˜¶å¯¼æ•°ä¸ºé›¶çš„äº¤å‰ç‚¹ã€‚</p><p>åœ¨laplaceç®—å­ ä¸­ï¼Œæ»¡è¶³fæ˜¯æ ‡å‡†å·®çš„äºŒç»´é«˜æ–¯åˆ†å¸ƒå‡½æ•°ä¸º</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>e</mi><mrow><mo>âˆ’</mo><mfrac><mrow><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><msup><mi>y</mi><mn>2</mn></msup></mrow><mrow><mn>2</mn><msup><mi>Ïƒ</mi><mn>2</mn></msup></mrow></mfrac></mrow></msup></mrow><annotation encoding="application/x-tex">f(x,y)=e^{-\frac{x^2+y^2}{2\sigma^2 } }</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.3013099999999997em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.3013099999999997em;"><span style="top:-3.4534200000000004em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2112714285714286em;"><span style="top:-2.5061857142857145em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9384399999999999em;"><span style="top:-2.93844em;margin-right:0.1em;"><span class="pstrut" style="height:2.64444em;"></span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.4623857142857144em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.04844em;"><span style="top:-3.04844em;margin-right:0.1em;"><span class="pstrut" style="height:2.64444em;"></span><span class="mord mtight">2</span></span></span></span></span></span></span><span class="mbin mtight">+</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.04844em;"><span style="top:-3.04844em;margin-right:0.1em;"><span class="pstrut" style="height:2.64444em;"></span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.49381428571428565em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p>å¯¹ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x,y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span> æ±‚å¾®åˆ†å¾—ï¼š</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mo>â–½</mo><mn>2</mn></msup><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mtext>Â </mtext><msup><mi mathvariant="normal">âˆ‚</mi><mn>2</mn></msup><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>x</mi><mn>2</mn></msup></mrow></mfrac><mo>+</mo><mfrac><mrow><mtext>Â </mtext><msup><mi mathvariant="normal">âˆ‚</mi><mn>2</mn></msup><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>y</mi><mn>2</mn></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">\bigtriangledown ^2f(x,y)=\frac{\ {\partial^2}  f(x,y)}{\partial x^2} +\frac{\ {\partial^2}  f(x,y)}{\partial y^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord"><span class="mbin">â–½</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.177108em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.491108em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord"><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.371548em;vertical-align:-0.8804400000000001em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.491108em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord"><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804400000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mo>â–½</mo><mn>2</mn></msup><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">[</mo><mfrac><mrow><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><msup><mi>y</mi><mn>2</mn></msup><mo>âˆ’</mo><mn>2</mn><msup><mi>Ïƒ</mi><mn>2</mn></msup></mrow><msup><mi>Ïƒ</mi><mn>4</mn></msup></mfrac><mo fence="true">]</mo></mrow><msup><mi>e</mi><mrow><mo>âˆ’</mo><mfrac><mrow><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><msup><mi>y</mi><mn>2</mn></msup></mrow><mrow><mn>2</mn><msup><mi>Ïƒ</mi><mn>2</mn></msup></mrow></mfrac></mrow></msup></mrow><annotation encoding="application/x-tex">\bigtriangledown ^2f(x,y)=\left [ \frac{x^2+y^2-2\sigma ^2}{\sigma ^4}  \right ]  e^{-\frac{x^2+y^2}{2\sigma ^2} }</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord"><span class="mbin">â–½</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.441138em;vertical-align:-0.95003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.491108em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">2</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.3013099999999997em;"><span style="top:-3.4534200000000004em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2112714285714286em;"><span style="top:-2.5061857142857145em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9384399999999999em;"><span style="top:-2.93844em;margin-right:0.1em;"><span class="pstrut" style="height:2.64444em;"></span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.4623857142857144em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.04844em;"><span style="top:-3.04844em;margin-right:0.1em;"><span class="pstrut" style="height:2.64444em;"></span><span class="mord mtight">2</span></span></span></span></span></span></span><span class="mbin mtight">+</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.04844em;"><span style="top:-3.04844em;margin-right:0.1em;"><span class="pstrut" style="height:2.64444em;"></span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.49381428571428565em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p>å…¶ä¸­ä¸Šå¼è¢«ç§°ä¸ºé«˜æ–¯æ‹‰æ™®æ‹‰æ–¯(LoG)ï¼ŒLoGçš„é›¶ç‚¹å‡ºç°åœ¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><msup><mi>y</mi><mn>2</mn></msup><mo>=</mo><mn>2</mn><msup><mi>Ïƒ</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">x^2+y^2=2\sigma^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>å¤„ã€‚</p><h3 id="cannyè¾¹ç¼˜æ£€æµ‹">Cannyè¾¹ç¼˜æ£€æµ‹</h3><p>â€‹Cannyè¾¹ç¼˜æ£€æµ‹ç®—æ³•æ˜¯æ¯”è¾ƒå‡ºè‰²çš„ç®—æ³•ï¼Œå®ƒåŒ…å«ä»¥ä¸‹å››ä¸ªæ­¥éª¤ï¼š</p><p>1.<strong>é«˜æ–¯æ»¤æ³¢</strong></p><p>æ»¤æ³¢çš„ä¸»è¦ç›®çš„æ˜¯é™å™ªï¼Œä¸€èˆ¬çš„å›¾åƒå¤„ç†ç®—æ³•éƒ½éœ€è¦å…ˆè¿›è¡Œé™å™ªã€‚è€Œé«˜æ–¯æ»¤æ³¢ä¸»è¦ä½¿å›¾åƒå˜å¾—å¹³æ»‘ï¼ˆæ¨¡ç³Šï¼‰ï¼ŒåŒæ—¶ä¹Ÿæœ‰å¯èƒ½å¢å¤§äº†è¾¹ç¼˜çš„å®½åº¦ã€‚</p><p>é«˜æ–¯å‡½æ•°æ˜¯ä¸€ä¸ªç±»ä¼¼ä¸æ­£æ€åˆ†å¸ƒçš„ä¸­é—´å¤§ä¸¤è¾¹å°çš„å‡½æ•°ã€‚</p><p>å¯¹äºä¸€ä¸ªä½ç½®ï¼ˆm,nï¼‰çš„åƒç´ ç‚¹ï¼Œå…¶ç°åº¦å€¼ä¸ºf(m,n)ã€‚</p><p>é‚£ä¹ˆç»è¿‡é«˜æ–¯æ»¤æ³¢åçš„ç°åº¦å€¼å°†å˜ä¸ºï¼š</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>g</mi><mi>Ïƒ</mi></msub><mo stretchy="false">(</mo><mi>m</mi><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><msqrt><mrow><mn>2</mn><mi>Ï€</mi><msup><mi>Ïƒ</mi><mn>2</mn></msup></mrow></msqrt></mfrac><msup><mi>e</mi><mrow><mo>âˆ’</mo><mfrac><mrow><msup><mi>m</mi><mn>2</mn></msup><mo>+</mo><msup><mi>n</mi><mn>2</mn></msup></mrow><mrow><mn>2</mn><msup><mi>Ïƒ</mi><mn>2</mn></msup></mrow></mfrac></mrow></msup><mo>â‹…</mo><mi>f</mi><mo stretchy="false">(</mo><mi>m</mi><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">g_\sigma (m,n)=\frac{ 1}{\sqrt{2\pi \sigma ^2}} e^{-\frac{m^2+n^2}{2\sigma^2} }\cdot f(m,n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">Ïƒ</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.25144em;vertical-align:-0.93em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.154946em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9550540000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03588em;">Ï€</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.915054em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.08494599999999997em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.93em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.24644em;"><span style="top:-3.4534200000000004em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1328857142857145em;"><span style="top:-2.5061857142857145em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9384399999999999em;"><span style="top:-2.93844em;margin-right:0.1em;"><span class="pstrut" style="height:2.64444em;"></span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.04844em;"><span style="top:-3.04844em;margin-right:0.1em;"><span class="pstrut" style="height:2.64444em;"></span><span class="mord mtight">2</span></span></span></span></span></span></span><span class="mbin mtight">+</span><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.04844em;"><span style="top:-3.04844em;margin-right:0.1em;"><span class="pstrut" style="height:2.64444em;"></span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.49381428571428565em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span></p><p>â€‹ç®€å•è¯´å°±æ˜¯ç”¨ä¸€ä¸ªé«˜æ–¯çŸ©é˜µä¹˜ä»¥æ¯ä¸€ä¸ªåƒç´ ç‚¹åŠå…¶é‚»åŸŸï¼Œå–å…¶å¸¦æƒé‡çš„å¹³å‡å€¼ä½œä¸ºæœ€åçš„ç°åº¦å€¼ã€‚</p><p><strong>2. è®¡ç®—æ¢¯åº¦å€¼å’Œæ¢¯åº¦æ–¹å‘</strong></p><p>â€‹è¾¹ç¼˜æ˜¯ä»€ä¹ˆï¼Ÿè¾¹ç¼˜å°±æ˜¯ç°åº¦å€¼å˜åŒ–è¾ƒå¤§çš„çš„åƒç´ ç‚¹çš„é›†åˆã€‚ä¸€é“é»‘è¾¹ä¸€é“ç™½è¾¹ä¸­é—´å°±æ˜¯è¾¹ç¼˜ï¼Œå®ƒçš„ç°åº¦å€¼å˜åŒ–æ˜¯æœ€å¤§çš„ï¼Œåœ¨å›¾åƒä¸­ï¼Œç”¨æ¢¯åº¦æ¥è¡¨ç¤ºç°åº¦å€¼çš„å˜åŒ–ç¨‹åº¦å’Œæ–¹å‘ã€‚</p><p>â€‹å®ƒå¯ä»¥é€šè¿‡ç‚¹ä¹˜ä¸€ä¸ªsobelæˆ–å…¶å®ƒç®—å­å¾—åˆ°ä¸åŒæ–¹å‘çš„æ¢¯åº¦å€¼ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>g</mi><mi>x</mi></msub><mo stretchy="false">(</mo><mi>m</mi><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>g</mi><mi>y</mi></msub><mo stretchy="false">(</mo><mi>m</mi><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">g_x(m,n),g_y(m,n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>ã€‚</p><p>â€‹æ¢¯åº¦é€šè¿‡ä»¥ä¸‹å…¬å¼è®¡ç®—æ¢¯åº¦å€¼å’Œæ¢¯åº¦æ–¹å‘ï¼š</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo stretchy="false">(</mo><mi>m</mi><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><msqrt><mrow><msub><mi>g</mi><mi>x</mi></msub><mo stretchy="false">(</mo><mi>m</mi><mo separator="true">,</mo><mi>n</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><msub><mi>g</mi><mi>y</mi></msub><mo stretchy="false">(</mo><mi>m</mi><mo separator="true">,</mo><mi>n</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding="application/x-tex">G(m,n)=\sqrt{g_x(m,n)^2+g_y(m,n)^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">G</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.84em;vertical-align:-0.574179em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.265821em;"><span class="svg-align" style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.225821em;"><span class="pstrut" style="height:3.8em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.8800000000000001em;"><svg width='400em' height='1.8800000000000001em' viewBox='0 0 400000 1944' preserveAspectRatio='xMinYMin slice'><path d='M983 90l0 -0c4,-6.7,10,-10,18,-10 H400000v40H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5c53.7,-170.3,84.5,-266.8,92.5,-289.5zM1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.574179em;"><span></span></span></span></span></span></span></span></span></span></p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¸</mi><mo>=</mo><mi>a</mi><mi>r</mi><mi>c</mi><mi>t</mi><mi>a</mi><mi>n</mi><mfrac><mrow><msub><mi>g</mi><mi>y</mi></msub><mo stretchy="false">(</mo><mi>m</mi><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><mrow><msub><mi>g</mi><mi>x</mi></msub><mo stretchy="false">(</mo><mi>m</mi><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\theta=arctan\frac{g_y(m,n)}{g_x(m,n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">Î¸</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">c</span><span class="mord mathdefault">t</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><strong>3. è¿‡æ»¤éæœ€å¤§å€¼</strong></p><p>â€‹åœ¨é«˜æ–¯æ»¤æ³¢è¿‡ç¨‹ä¸­ï¼Œè¾¹ç¼˜æœ‰å¯èƒ½è¢«æ”¾å¤§äº†ã€‚è¿™ä¸ªæ­¥éª¤ä½¿ç”¨ä¸€ä¸ªè§„åˆ™æ¥è¿‡æ»¤ä¸æ˜¯è¾¹ç¼˜çš„ç‚¹ï¼Œä½¿è¾¹ç¼˜çš„å®½åº¦å°½å¯èƒ½ä¸º1ä¸ªåƒç´ ç‚¹ï¼šå¦‚æœä¸€ä¸ªåƒç´ ç‚¹å±äºè¾¹ç¼˜ï¼Œé‚£ä¹ˆè¿™ä¸ªåƒç´ ç‚¹åœ¨æ¢¯åº¦æ–¹å‘ä¸Šçš„æ¢¯åº¦å€¼æ˜¯æœ€å¤§çš„ã€‚å¦åˆ™ä¸æ˜¯è¾¹ç¼˜ï¼Œå°†ç°åº¦å€¼è®¾ä¸º0ã€‚</p><p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: equation at position 16: M_T(m,n)=\begin{Ì²eÌ²qÌ²uÌ²aÌ²tÌ²iÌ²oÌ²nÌ²}Ì²\left\{\beginâ€¦'>M_T(m,n)=\begin{equation}\left\{\begin{array}{lr}M(m,n) &amp; \textsf{if}\ M(m,n)&gt;T\\0 &amp; otherwise\\\end{array}\right.\end{equation}</p><p><strong>4. ä½¿ç”¨ä¸Šä¸‹é˜ˆå€¼æ¥æ£€æµ‹è¾¹ç¼˜</strong></p><p>â€‹ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½¿ç”¨ä¸€ä¸ªé˜ˆå€¼æ¥æ£€æµ‹è¾¹ç¼˜ï¼Œä½†æ˜¯è¿™æ ·åšæœªå…å¤ªæ­¦æ–­äº†ã€‚å¦‚æœèƒ½å¤Ÿä½¿ç”¨å¯å‘å¼çš„æ–¹æ³•ç¡®å®šä¸€ä¸ªä¸Šé˜€å€¼å’Œä¸‹é˜€å€¼ï¼Œä½äºä¸‹é˜€å€¼ä¹‹ä¸Šçš„éƒ½å¯ä»¥ä½œä¸ºè¾¹ç¼˜ï¼Œè¿™æ ·å°±å¯èƒ½æé«˜å‡†ç¡®åº¦ã€‚</p><h2 id="å„ç±»ç®—å­æ•ˆæœæ¯”è¾ƒ">å„ç±»ç®—å­æ•ˆæœæ¯”è¾ƒ</h2><p>ï¼ˆ1ï¼‰Roberts ç®—å­</p><p>â€‹Robertsç®—å­åˆ©ç”¨å±€éƒ¨å·®åˆ†ç®—å­å¯»æ‰¾è¾¹ç¼˜ï¼Œè¾¹ç¼˜å®šä½ç²¾åº¦è¾ƒé«˜ï¼Œä½†å®¹æ˜“ä¸¢å¤±ä¸€éƒ¨åˆ†è¾¹ç¼˜ï¼Œä¸å…·å¤‡æŠ‘åˆ¶å™ªå£°çš„èƒ½åŠ›ã€‚è¯¥ç®—å­å¯¹å…·æœ‰é™¡å³­è¾¹ç¼˜ä¸”å«å™ªå£°å°‘çš„å›¾åƒæ•ˆæœè¾ƒå¥½ï¼Œå°¤å…¶æ˜¯è¾¹ç¼˜æ­£è´Ÿ45åº¦è¾ƒå¤šçš„å›¾åƒï¼Œä½†å®šä½å‡†ç¡®ç‡è¾ƒå·®ï¼›</p><p>ï¼ˆ2ï¼‰Sobel ç®—å­</p><p>â€‹Sobelç®—å­è€ƒè™‘äº†ç»¼åˆå› ç´ ï¼Œå¯¹å™ªå£°è¾ƒå¤šçš„å›¾åƒå¤„ç†æ•ˆæœæ›´å¥½ï¼ŒSobel ç®—å­è¾¹ç¼˜å®šä½æ•ˆæœä¸é”™ï¼Œä½†æ£€æµ‹å‡ºçš„è¾¹ç¼˜å®¹æ˜“å‡ºç°å¤šåƒç´ å®½åº¦ã€‚</p><p>ï¼ˆ3ï¼‰ Prewitt ç®—å­</p><p>â€‹Prewittç®—å­å¯¹ç°åº¦æ¸å˜çš„å›¾åƒè¾¹ç¼˜æå–æ•ˆæœè¾ƒå¥½ï¼Œè€Œæ²¡æœ‰è€ƒè™‘ç›¸é‚»ç‚¹çš„è·ç¦»è¿œè¿‘å¯¹å½“å‰åƒç´ ç‚¹çš„å½±å“ï¼Œä¸Sobel ç®—å­ç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯åœ¨å¹³æ»‘éƒ¨åˆ†çš„æƒé‡å¤§å°æœ‰äº›å·®å¼‚ï¼›</p><p>ï¼ˆ4ï¼‰Marrç®—å­</p><p>â€‹Marr ç®—å­ä¸ä¾èµ–äºè¾¹ç¼˜æ–¹å‘çš„äºŒé˜¶å¾®åˆ†ç®—å­ï¼Œå¯¹å›¾åƒä¸­çš„é˜¶è·ƒå‹è¾¹ç¼˜ç‚¹å®šä½å‡†ç¡®ï¼Œè¯¥ç®—å­å¯¹å™ªå£°éå¸¸æ•æ„Ÿï¼Œå®ƒä½¿å™ªå£°æˆåˆ†å¾—åˆ°åŠ å¼ºï¼Œè¿™ä¸¤ä¸ªç‰¹æ€§ä½¿å¾—è¯¥ç®—å­å®¹æ˜“ä¸¢å¤±ä¸€éƒ¨åˆ†è¾¹ç¼˜çš„æ–¹å‘ä¿¡æ¯ï¼Œé€ æˆä¸€äº›ä¸è¿ç»­çš„æ£€æµ‹è¾¹ç¼˜ï¼ŒåŒæ—¶æŠ—å™ªå£°èƒ½åŠ›æ¯”è¾ƒå·®.</p><p>ï¼ˆ5ï¼‰Cannyè¾¹ç¼˜æ£€æµ‹</p><p>â€‹Cannyè¾¹ç¼˜æ£€æµ‹ç®—å­æ˜¯æ‰€æœ‰è¾¹ç¼˜æ£€æµ‹ç®—å­ä¸­æœ€ä¼˜ç§€çš„ï¼Œå…·æœ‰ä½é”™è¯¯ç‡ã€‚å·²å®šä½çš„è¾¹ç¼˜å°½å¯èƒ½çš„æ¥è¿‘çœŸå®è¾¹ç¼˜ï¼Œç”±æ£€æµ‹å­æ ‡è®°ä¸ºè¾¹ç¼˜çš„ä¸€ç‚¹å’ŒçœŸå®è¾¹ç¼˜çš„ä¸­å¿ƒä¹‹é—´çš„è·ç¦»æœ€å°ã€‚å¯¹äºæ²¡ä¸€ä¸ªçœŸå®çš„è¾¹ç¼˜ç‚¹ï¼Œæ£€æµ‹å­éƒ½åªè¿”å›ä¸€ä¸ªç‚¹ï¼Œæ„å‘³ç€çœŸå®è¾¹ç¼˜å‘¨å›´çš„å±€éƒ¨æœ€å¤§æ•°æœ€å°ã€‚</p><h2 id="å®ç°">å®ç°</h2><p>â€‹æœ¬æ¬¡å®éªŒè¿‡ç¨‹ä¸­ï¼Œé‡‡ç”¨çš„æ˜¯ç»å…¸çš„Model.jpg,åœ¨anaconda pythonç‰ˆæœ¬3.7 Jupyter-notebookä¸­è¿›è¡Œå®éªŒã€‚åœ¨è¯»å–å›¾ç‰‡åç»Ÿä¸€å¯¹å›¾åƒè¿›è¡Œäº†ç°åº¦åŒ–ï¼Œå¹¶è¿›è¡Œé«˜æ–¯æ»¤æ³¢å’Œé˜ˆå€¼å¤„ç†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#è¯»å–å›¾åƒ</span></span><br><span class="line">img = cv2.imread(<span class="string">&#x27;model.jpg&#x27;</span>)</span><br><span class="line">img_RGB = cv2.cvtColor(img, cv2.COLOR_BGR2RGB) </span><br><span class="line"><span class="comment">#ç°åº¦åŒ–å¤„ç†å›¾åƒ</span></span><br><span class="line">grayImage = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)</span><br><span class="line"><span class="comment">#é«˜æ–¯æ»¤æ³¢</span></span><br><span class="line">gaussianBlur = cv2.GaussianBlur(grayImage, (<span class="number">3</span>,<span class="number">3</span>), <span class="number">0</span>)</span><br><span class="line"><span class="comment">#é˜ˆå€¼å¤„ç†</span></span><br><span class="line">ret, binary = cv2.threshold(gaussianBlur, <span class="number">127</span>, <span class="number">255</span>, cv2.THRESH_BINARY)</span><br></pre></td></tr></table></figure><p>â€‹åœ¨å®éªŒè¿‡ç¨‹ä¸­ï¼Œä¾æ¬¡å°†å›¾åƒç»è¿‡è‡ªå®šä¹‰çš„å‡½æ•°è¿›è¡Œå¤„ç†æå–å›¾åƒè¾¹ç¼˜ã€‚</p><p>â€‹ä½¿ç”¨Sobelç®—å­è¿›è¡Œè¾¹ç¼˜æå–ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">usSobel</span>(<span class="params">grayImage</span>):</span><br><span class="line">    x = cv2.Sobel(grayImage, cv2.CV_16S, <span class="number">1</span>, <span class="number">0</span>)  <span class="comment"># å¯¹xæ±‚ä¸€é˜¶å¯¼</span></span><br><span class="line">    y = cv2.Sobel(grayImage, cv2.CV_16S, <span class="number">0</span>, <span class="number">1</span>)  <span class="comment"># å¯¹yæ±‚ä¸€é˜¶å¯¼</span></span><br><span class="line">    absX = cv2.convertScaleAbs(x)</span><br><span class="line">    absY = cv2.convertScaleAbs(y)</span><br><span class="line">    Sobel = cv2.addWeighted(absX, <span class="number">0.5</span>, absY, <span class="number">0.5</span>, <span class="number">0</span>) </span><br><span class="line">    ret, binary = cv2.threshold(Sobel, <span class="number">127</span>, <span class="number">255</span>, cv2.THRESH_BINARY)</span><br><span class="line">    plt.subplot(<span class="number">121</span>),plt.imshow(binary, cmap=plt.cm.gray ),plt.title(<span class="string">&#x27;äºŒå€¼å›¾&#x27;</span>), plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">    plt.subplot(<span class="number">122</span>),plt.imshow(Sobel, cmap=plt.cm.gray ),plt.title(<span class="string">&#x27;Sobelç®—å­&#x27;</span>), plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure><p>â€‹ä½¿ç”¨Robertsç®—å­è¿›è¡Œè¾¹ç¼˜æå–ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">useRoberts</span>(<span class="params">grayImage</span>):</span><br><span class="line">    <span class="comment"># Robertsç®—å­</span></span><br><span class="line">    kernelx = np.array([[-<span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>]], dtype=<span class="built_in">int</span>)</span><br><span class="line">    kernely = np.array([[<span class="number">0</span>, -<span class="number">1</span>], [<span class="number">1</span>, <span class="number">0</span>]], dtype=<span class="built_in">int</span>)</span><br><span class="line">    x = cv2.filter2D(grayImage, cv2.CV_16S, kernelx)</span><br><span class="line">    y = cv2.filter2D(grayImage, cv2.CV_16S, kernely)</span><br><span class="line">    <span class="comment"># è½¬uint8</span></span><br><span class="line">    absX = cv2.convertScaleAbs(x)</span><br><span class="line">    absY = cv2.convertScaleAbs(y)</span><br><span class="line">    Roberts = cv2.addWeighted(absX, <span class="number">0.5</span>, absY, <span class="number">0.5</span>, <span class="number">0</span>)</span><br><span class="line">    ret, binary = cv2.threshold(Roberts, <span class="number">127</span>, <span class="number">255</span>, cv2.THRESH_BINARY)</span><br><span class="line">    plt.subplot(<span class="number">121</span>),plt.imshow(binary, cmap=plt.cm.gray ),plt.title(<span class="string">&#x27;äºŒå€¼å›¾&#x27;</span>), plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">    plt.subplot(<span class="number">122</span>),plt.imshow(Roberts, cmap=plt.cm.gray ),plt.title(<span class="string">&#x27;Robertsç®—å­&#x27;</span>), plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure><p>â€‹ä½¿ç”¨Prewittç®—å­è¿›è¡Œè¾¹ç¼˜æå–ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">usePrewitt</span>(<span class="params">grayImage</span>):</span><br><span class="line">    <span class="comment"># Prewittç®—å­</span></span><br><span class="line">    kernelx = np.array([[<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>], [-<span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>]], dtype=<span class="built_in">int</span>)</span><br><span class="line">    kernely = np.array([[-<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>], [-<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>], [-<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>]], dtype=<span class="built_in">int</span>)</span><br><span class="line">    x = cv2.filter2D(grayImage, cv2.CV_16S, kernelx)</span><br><span class="line">    y = cv2.filter2D(grayImage, cv2.CV_16S, kernely)</span><br><span class="line">    absX = cv2.convertScaleAbs(x)</span><br><span class="line">    absY = cv2.convertScaleAbs(y)</span><br><span class="line">    Prewitt = cv2.addWeighted(absX, <span class="number">0.5</span>, absY, <span class="number">0.5</span>, <span class="number">0</span>)</span><br><span class="line">    ret, binary = cv2.threshold(Prewitt, <span class="number">127</span>, <span class="number">255</span>, cv2.THRESH_BINARY)</span><br><span class="line">    plt.subplot(<span class="number">121</span>),plt.imshow(binary, cmap=plt.cm.gray ),plt.title(<span class="string">&#x27;äºŒå€¼å›¾&#x27;</span>), plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">    plt.subplot(<span class="number">122</span>),plt.imshow(Prewitt, cmap=plt.cm.gray ),plt.title(<span class="string">&#x27;Prewittç®—å­&#x27;</span>), plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure><p>â€‹ä½¿ç”¨cannyç®—å­è¿›è¡Œè¾¹ç¼˜æå–ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">useCanny</span>(<span class="params">gaussianBlur</span>):</span><br><span class="line">    <span class="comment">#using system function</span></span><br><span class="line">    Canny = cv2.Canny(gaussianBlur, <span class="number">50</span>, <span class="number">150</span>)</span><br><span class="line">    ret, binary = cv2.threshold(Canny, <span class="number">127</span>, <span class="number">255</span>, cv2.THRESH_BINARY)</span><br><span class="line">    plt.subplot(<span class="number">121</span>),plt.imshow(binary, cmap=plt.cm.gray ),plt.title(<span class="string">&#x27;äºŒå€¼å›¾&#x27;</span>), plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">    plt.subplot(<span class="number">122</span>), plt.imshow(Canny, cmap=plt.cm.gray), plt.title(<span class="string">&#x27;Cannyç®—å­&#x27;</span>), plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br></pre></td></tr></table></figure><p>â€‹ä½¿ç”¨Marrè¿›è¡Œè¾¹ç¼˜æå–ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">useMarr</span>(<span class="params">binary</span>):</span><br><span class="line">    dst = cv2.Laplacian(binary, cv2.CV_16S, ksize = <span class="number">3</span>)</span><br><span class="line">    Laplacian = cv2.convertScaleAbs(dst)</span><br><span class="line">    ret, binary = cv2.threshold(Laplacian, <span class="number">127</span>, <span class="number">255</span>, cv2.THRESH_BINARY)</span><br><span class="line">    plt.subplot(<span class="number">121</span>),plt.imshow(binary, cmap=plt.cm.gray ),plt.title(<span class="string">&#x27;äºŒå€¼å›¾&#x27;</span>), plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">    plt.subplot(<span class="number">122</span>),plt.imshow(Laplacian, cmap=plt.cm.gray ),plt.title(<span class="string">&#x27;Laplacianç®—å­&#x27;</span>), plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br></pre></td></tr></table></figure><p>â€‹æœ€åè¾“å‡ºå›¾åƒï¼Œæ¯”è¾ƒç»“æœã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">plt.subplot(<span class="number">231</span>),plt.imshow(img_RGB),plt.title(<span class="string">&#x27;åŸå§‹å›¾åƒ&#x27;</span>), plt.axis(<span class="string">&#x27;off&#x27;</span>) <span class="comment">#åæ ‡è½´å…³é—­</span></span><br><span class="line">plt.subplot(<span class="number">232</span>),plt.imshow(binary, cmap=plt.cm.gray ),plt.title(<span class="string">&#x27;äºŒå€¼å›¾&#x27;</span>), plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">plt.subplot(<span class="number">233</span>),plt.imshow(Roberts, cmap=plt.cm.gray ),plt.title(<span class="string">&#x27;Robertsç®—å­&#x27;</span>), plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">plt.subplot(<span class="number">234</span>),plt.imshow(Prewitt, cmap=plt.cm.gray ),plt.title(<span class="string">&#x27;Prewittç®—å­&#x27;</span>), plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">plt.subplot(<span class="number">235</span>),plt.imshow(Sobel, cmap=plt.cm.gray ),plt.title(<span class="string">&#x27;Sobelç®—å­&#x27;</span>), plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">plt.subplot(<span class="number">236</span>),plt.imshow(Laplacian, cmap=plt.cm.gray ),plt.title(<span class="string">&#x27;Laplacianç®—å­&#x27;</span>), plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¬”è®° </tag>
            
            <tag> ç›¸æœº </tag>
            
            <tag> å›¾åƒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TransFusion</title>
      <link href="/2023/05/06/TransFusion/"/>
      <url>/2023/05/06/TransFusion/</url>
      
        <content type="html"><![CDATA[<p>Author: Bai, Xuyang; Hu, Zeyu; Zhu, Xinge; Huang, Qingqiu; Chen, Yilun; Fu, Hongbo; Tai, Chiew-Lan;<br>Code: <a href="https://github.com/XuyangBai/TransFusion">https://github.com/XuyangBai/TransFusion</a><br>Comment: soft calibration , attention<br>Completed: December 11, 2022<br>Key Words: Fusion, Object Detection<br>Link: arXiv:2203.11496<br>Score: â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸<br>Source: CVPR2022<br>Status: once</p><h2 id="abstract">Abstract</h2><p>é’ˆå¯¹ï¼šLidar-camera fusion ï¼ŒåŠ£è´¨å›¾åƒé²æ£’æ€§å·®è¿™ä¸ªé—®é¢˜ï¼Œè®¤ä¸ºæ˜¯ç”±å½“ä¸‹çš„hard-association (calibration)å¯¼è‡´çš„ã€‚</p><p>We propose TransFusion, a robust solution to LiDAR-camera fusion with a soft-association mechanism to handle inferior image conditions.</p><h2 id="introduction-related-work">Introduction&amp;Related work</h2><p>VoxelNet \ PointPillar ä»…ä»…ä½¿ç”¨Lidarä¿¡æ¯å°±å–å¾—äº†å¾ˆå¥½çš„æ•ˆæœã€‚ç”±äºç‚¹äº‘çš„ç¨€ç–æ€§ï¼Œè¦ä½¿ç”¨Fusion</p><p>èåˆçš„æ–¹æ³•ä¸€èˆ¬åˆ†æˆä¸‰ç§ï¼š1.result-levelï¼šPoinNetã€RoarNet 2.proposal-level:MV3D ã€AVOD</p><ol><li>point-levelï¼ˆæ›´å¥½çš„æ•ˆæœï¼‰ï¼šä¸€éƒ¨åˆ†å…ˆå°†ç‚¹äº‘æŠ•å°„åˆ°é¸Ÿç°å›¾ï¼ˆBEVï¼‰å¹³é¢ä¸Šï¼Œç„¶åå°†å›¾åƒç‰¹å¾ä¸BEVåƒç´ ç›¸èåˆ</li></ol><blockquote><p>PI-RCNN: An efficient multi-sensor 3d object detector with point-based attentive<br>cont-conv fusion module. AAAI, 2020.</p><p>3D-CVF: Generating joint camera and lidar features using cross-view spatial feature fusion for 3d object detection. ECCV, 2020</p></blockquote><p><strong>Contributions:</strong></p><ol><li>é‡‡ç”¨soft-association</li><li>ä½¿ç”¨äº†åŸºäºtransformerçš„èåˆæ–¹æ³•è¿›è¡Œç»†è…»åº¦èåˆæ¥è§£å†³3Dæ£€æµ‹é—®é¢˜ã€‚æœ‰å¾ˆå¥½çš„é²æ£’æ€§</li><li>æŸ¥è¯¢æ–¹æ³•ä¸Šçš„æ”¹è¿›</li><li>nuScenesçš„SOTAæ•ˆæœ</li></ol><h2 id="methodology">Methodology</h2><p><img src="https://img1.imgtp.com/2023/05/06/ewvQBfVs.png" alt="Untitled"></p><p>3D and 2D backbones to extract LiDAR BEV feature map and image feature map.æœ‰ä¸¤ä¸ªlayerç»„æˆ</p><p>ï¼ˆ1ï¼‰ç¬¬ä¸€å±‚ä½¿ç”¨ä¸€ç»„ç¨€ç–çš„object queryç”Ÿæˆåˆå§‹ 3D è¾¹ç•Œæ¡†ï¼Œä»¥<strong>input-dependent</strong>å’Œ<strong>category-aware</strong>çš„æ–¹å¼è¿›è¡Œåˆå§‹åŒ–ã€‚ ï¼ˆ2ï¼‰ç¬¬äºŒå±‚å°†ç¬¬ä¸€é˜¶æ®µçš„object queryï¼ˆå¸¦æœ‰åˆå§‹é¢„æµ‹ï¼‰ä¸å›¾åƒç‰¹å¾å¯†åˆ‡å…³è”å¹¶èåˆï¼Œäº§ç”Ÿä¸°å¯Œçš„çº¹ç†å’Œé¢œè‰²çº¿ç´¢ï¼Œä»¥è·å¾—æ›´å¥½çš„æ£€æµ‹ç»“æœã€‚å¼•å…¥äº†ç©ºé—´è°ƒåˆ¶äº¤å‰æ³¨æ„ (SMCA) æœºåˆ¶ä»¥æ¶‰åŠå±€éƒ¨è¯±å¯¼åå·®(locality inductive bias)å¹¶å¸®åŠ©ç½‘ç»œæ›´å¥½åœ°å…³æ³¨ç›¸å…³å›¾åƒåŒºåŸŸã€‚æˆ‘ä»¬è¿˜æå‡ºäº†ä¸€ç§å›¾åƒimage-guided query initializationç­–ç•¥ï¼Œä»¥æ¶‰åŠ LiDAR BEV ä¸Šçš„image guidanceã€‚è¯¥ç­–ç•¥æœ‰åŠ©äºç”Ÿæˆåœ¨ç¨€ç– LiDAR ç‚¹äº‘ä¸­éš¾ä»¥æ£€æµ‹åˆ°çš„object queryã€‚</p><h3 id="preliminary">Preliminary</h3><p>ç¬¬ä¸€å±‚è§£ç å™¨ï¼šä½¿ç”¨ä¸€ç»„ç¨€ç–çš„object queryä» LIDAR ç‚¹äº‘é¢„æµ‹åˆå§‹è¾¹ç•Œæ¡†</p><p>ä¸2Dä¸­çš„ input-dependent object queryä¸åŒï¼Œæˆ‘ä»¬ä½¿object queryinput-dependentå’Œcategory-awareï¼Œæ›´å¥½ä¸°å¯Œqueryçš„ä½ç½®å’Œç±»åˆ«ä¿¡æ¯ã€‚</p><p>object queryï¼šç”¨transformeræ¶æ„å­¦ä¹ ä¸€å°ç»„åµŒå…¥(embeddings)ï¼ˆå‘é‡é›†åˆï¼‰</p><p>åœ¨æˆ‘ä»¬çš„å·¥ä½œä¸­ï¼Œæ¯ä¸ªobject queryéƒ½åŒ…å«ä¸€ä¸ªæä¾›å¯¹è±¡å®šä½çš„query positionså’Œä¸€ä¸ªç¼–ç å®ä¾‹ä¿¡æ¯çš„query featureï¼Œä¾‹å¦‚æ¡†çš„å¤§å°ã€æ–¹å‘ç­‰ã€‚</p><h3 id="query-initialization">Query Initialization</h3><p>å¦‚æœèƒ½å¯¹object queries åˆè¾ƒå¥½çš„åˆå§‹åŒ–æ•ˆæœï¼Œå¯ä»¥å¼¥è¡¥1-layer å’Œ6-layersçš„æ•ˆæœå·®è·ã€‚ç»è¿‡æˆ‘ä»¬çš„è§‚å¯Ÿï¼Œæˆ‘ä»¬æå‡ºä¸€ä¸ª åŸºäº<strong>center-heatmap</strong> çš„ <strong>input-dependent</strong> çš„åˆå§‹åŒ–ç­–ç•¥ï¼Œä»…ä»…ä½¿ç”¨ä¸€å±‚layerå°±è·å¾—å¾ˆå¥½çš„æ•ˆæœã€‚</p><aside>ğŸ’¡ heatmapï¼šå³çƒ­åŠ›å›¾ï¼Œåœ¨ç›®æ ‡æ£€æµ‹çš„å›¾åƒå¤„ç†ä¸­ï¼Œé‡‡ç”¨äºŒç»´é«˜æ–¯æ ¸æ¥è¡¨ç¤ºå…³é”®ç‚¹ã€‚ä»¥boxçš„ä¸­å¿ƒç‚¹åæ ‡å–æ•´ä½œä¸ºé«˜æ–¯åœ†çš„åœ†å¿ƒï¼Œä»¥boxçš„å¤§å°ç¡®å®šé«˜æ–¯åœ†çš„åŠå¾„ï¼Œä»£å…¥é«˜æ–¯å…¬å¼ï¼Œå¡«å……é«˜æ–¯å‡½æ•°è®¡ç®—å€¼ï¼ˆ0-1ï¼‰ï¼Œåœ†å¿ƒçš„å€¼æœ€å¤§ï¼Œæ²¿åŠå¾„å‘å¤–é€’å‡ï¼Œåœ¨å›¾åƒä¸­ï¼Œä¸­å¿ƒç‚¹æœ€äº®ï¼Œæ²¿åŠå¾„å‘å¤–å˜æš—ã€‚çƒ­åŠ›å›¾ä¸­ï¼Œä¸æ˜¯ä¸­å¿ƒç‚¹çš„åœ°æ–¹å…¨éƒ¨è®¾ä¸º0ï¼Œå³é»‘è‰²åŒºåŸŸã€‚</aside><aside>ğŸ’¡ å…·ä½“æ¥è¯´ï¼Œç»™å®šä¸€ä¸ªdç»´LIDAR BEVç‰¹å¾å›¾ X*Y*Dï¼Œæˆ‘ä»¬é¦–å…ˆé¢„æµ‹ä¸€ä¸ªclass-specificçš„heatmap(X*Y*K)ï¼Œå…¶ä¸­ X Ã— Y æè¿°äº† BEV ç‰¹å¾å›¾çš„å¤§å°ï¼ŒK æ˜¯ç±»åˆ«çš„æ•°é‡ã€‚ç„¶åæˆ‘ä»¬å°†heatmapè§†ä¸º X Ã— Y Ã— K å¯¹è±¡å€™é€‰ï¼Œå¹¶é€‰æ‹©æ‰€æœ‰ç±»åˆ«çš„å‰ N ä¸ªå€™é€‰å¯¹è±¡ä½œä¸ºæˆ‘ä»¬çš„åˆå§‹object queryã€‚<p>ä¸ºäº†é¿å…ç©ºé—´ä¸Štoo closed queriesï¼Œæˆ‘ä»¬é€‰æ‹©å±€éƒ¨æœ€å¤§å…ƒç´ ä½œä¸ºæˆ‘ä»¬çš„object queryï¼Œå…¶å€¼å¤§äºæˆ–ç­‰äºå®ƒä»¬çš„8-connected neighborsã€‚å¦åˆ™ï¼Œéœ€è¦å¤§é‡çš„queryæ¥è¦†ç›–BEVå¹³é¢ã€‚æ‰€é€‰å€™é€‰è€…çš„positions å’Œfeaturesç”¨äºåˆå§‹åŒ– query positions and query featuresã€‚è¿™æ ·ï¼Œæˆ‘ä»¬çš„åˆå§‹object queryå°†å®šä½åœ¨æ½œåœ¨å¯¹è±¡ä¸­å¿ƒæˆ–é™„è¿‘ï¼Œä»è€Œæ— éœ€å¤šä¸ªè§£ç å™¨å±‚ æ¥å®Œå–„ä½ç½®ã€‚</p></aside><h2 id="category-aware">Category-aware</h2><p>BEV å¹³é¢ä¸Šçš„ç‰©ä½“éƒ½æ˜¯å…·æœ‰ç»å¯¹æ¯”ä¾‹çš„ï¼Œåœ¨åŒä¸€ç±»åˆ«ä¸­çš„æ¯”ä¾‹å·®å¼‚å¾ˆå°ã€‚å› æ­¤é€šè¿‡ç»™æ¯ä¸€ä¸ªç±»åˆ«embeddingçš„æ–¹å¼ä½¿å¾—object queries æ˜¯ category  aware çš„ã€‚</p><p>å…·ä½“åšæ³•æ˜¯ï¼Œé€šè¿‡å°†ç±»åˆ«çš„one-hotç¼–ç çº¿æ€§æŠ•å½±æˆ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mi>d</mi></msup></mrow><annotation encoding="application/x-tex">R^d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.849108em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span></span></span></span></span></span></span></span>å‘é‡ï¼Œç„¶ååˆ©ç”¨è¿™ä¸ªç¼–ç å’Œquery featureç›¸åŠ ï¼Œè¿™æ ·çš„category-awareå¸¦æ¥äº†ä¸¤ä¸ªå¥½å¤„ï¼š</p><ol><li>ä¸€æ–¹é¢åœ¨self-attentionæ¨¡å—å»ºç«‹object-object relations \ cross-attention å»ºç«‹object-context relations æ—¶æä¾›äº†side information</li><li>å¦ä¸€æ–¹é¢ï¼Œåœ¨é¢„æµ‹é˜¶æ®µï¼Œå®ƒå¯ä»¥æä¾›æœ‰ä»·å€¼çš„å…ˆéªŒçŸ¥è¯†ï¼Œä½¿å¾—ç½‘ç»œä¸“æ³¨äºç±»åˆ«å†…çš„å·®å¼‚ï¼Œä»è€Œæœ‰åˆ©äºå±æ€§é¢„æµ‹</li></ol><h2 id="transformer-decoder-and-ffn-å‰é¦ˆç¥ç»ç½‘ç»œ">Transformer Decoder and FFN(å‰é¦ˆç¥ç»ç½‘ç»œ)</h2><h3 id="transformer-decoder">Transformer Decoder</h3><p><strong>object query</strong>å’Œ<strong>feature maps</strong> (æ¥è‡ªç‚¹äº‘æˆ–å›¾åƒ) ä¹‹é—´çš„äº¤å‰æ³¨æ„åŠ›å°†ç›¸å…³ä¸Šä¸‹æ–‡èšé›†åˆ°å€™é€‰å¯¹è±¡ä¸Šï¼Œè€Œ<strong>object queryä¹‹é—´çš„self attention</strong>åˆ™å¯¼è‡´ä¸åŒå€™é€‰å¯¹è±¡ä¹‹é—´çš„æˆå¯¹å…³ç³»ã€‚</p><p>query positionsé€šè¿‡å¤šå±‚æ„ŸçŸ¥å™¨ (MLP) åµŒå…¥åˆ°d-dimensional positional encodingä¸­ï¼Œå¹¶ä¸query featuresæŒ‰element-wiselyï¼ˆlistå¯¹åº”å…ƒç´ ç›¸åŠ ï¼‰ç›¸åŠ ã€‚è¿™ä½¿ç½‘ç»œèƒ½å¤Ÿå…±åŒæ¨ç†ä¸Šä¸‹æ–‡å’Œä½ç½®ã€‚</p><h3 id="å‰é¦ˆç½‘ç»œ-feed-forward-network-ffn"><strong>å‰é¦ˆç½‘ç»œ feed-forward network(FFN)</strong></h3><p>å°†åŒ…å«ä¸°å¯Œå®ä¾‹ä¿¡æ¯çš„Â <strong>N</strong>ä¸ª<strong>object query</strong>ç‹¬ç«‹è§£ç ä¸º<strong>æ¡†</strong>å’Œ<strong>ç±»æ ‡ç­¾</strong>ã€‚<br>æ ¹æ®Center-Pointï¼Œæˆ‘ä»¬çš„FFNé¢„æµ‹ä»query positionçš„ä¸­å¿ƒåç§»é‡center offsetä¸ºÎ´xï¼ŒÎ´yï¼Œè¾¹ç•Œæ¡†é«˜åº¦ä¸ºzï¼Œå¤§å°lï¼Œwï¼Œhä¸ºlogï¼ˆlï¼‰ï¼Œlogï¼ˆwï¼‰ï¼Œlogï¼ˆhï¼‰ï¼Œåèˆªè§’yaw angle Î±ä¸ºsinï¼ˆÎ±ï¼‰ï¼Œcos(Î±)ï¼Œé€Ÿåº¦ï¼ˆå¦‚æœå¯ç”¨ï¼‰ä¸ºv_x,v_yã€‚</p><p>æˆ‘ä»¬è¿˜é¢„æµ‹äº† K ä¸ªè¯­ä¹‰ç±»çš„æ¯ç±»æ¦‚ç‡pâˆˆ[0,1]ã€‚æ¯ä¸ªå±æ€§ç”±å•ç‹¬çš„ä¸¤å±‚ 1Ã—1 å·ç§¯è®¡ç®—ã€‚é€šè¿‡å°†æ¯ä¸ªobject queryè§£ç ä¸ºé¢„æµ‹ï¼Œæˆ‘ä»¬å¾—åˆ°ä¸€ç»„é¢„æµ‹ ï¼Œå…¶ä¸­ï¼Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">b_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> æ˜¯ç¬¬iä¸ªqueryçš„é¢„æµ‹è¾¹ç•Œæ¡†ã€‚</p><p>æˆ‘ä»¬é‡‡ç”¨è¾…åŠ©è§£ç æœºåˆ¶ï¼Œåœ¨æ¯ä¸ªè§£ç å±‚ä¹‹åæ·»åŠ FFNå’Œç›‘ç£ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä»ç¬¬ä¸€ä¸ªè§£ç å™¨å±‚è·å¾—åˆå§‹è¾¹ç•Œæ¡†é¢„æµ‹ã€‚ æˆ‘ä»¬åˆ©ç”¨ LiDAR-camera fusion moduleä¸­çš„æ­¤ç±»åˆå§‹é¢„æµ‹æ¥é™åˆ¶äº¤å‰æ³¨æ„åŠ›.</p><h2 id="lidar-camera-fusion">LiDAR-Camera Fusion</h2><h3 id="image-feature-fetching">Image Feature Fetching.</h3><p><strong>point-levelèåˆæ–¹æ³•</strong>å¸¦æ¥æ”¹è¿›ï¼Œä½†èåˆè´¨é‡åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå—åˆ° LiDAR ç‚¹çš„ç¨€ç–æ€§çš„é™åˆ¶ã€‚å½“ä¸€ä¸ªç‰©ä½“åªåŒ…å«å°‘é‡çš„æ¿€å…‰é›·è¾¾ç‚¹æ—¶ï¼Œå®ƒåªèƒ½è·å–ç›¸åŒæ•°é‡çš„å›¾åƒç‰¹å¾ï¼Œæµªè´¹äº†é«˜åˆ†è¾¨ç‡å›¾åƒä¸°å¯Œçš„è¯­ä¹‰ä¿¡æ¯ã€‚</p><p>å› æ­¤æˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨hard association.ä¿ç•™äº†æ‰€æœ‰çš„å›¾åƒç‰¹å¾$$F_C âˆˆ R^{NvÃ—HÃ—WÃ—d}$$ä½œä¸ºmemory bankï¼Œåœ¨transformer è§£ç å™¨ä¸­ä½¿ç”¨äº¤å‰æ³¨æ„åŠ›ï¼Œä»¥sparse-to-denseå’Œè‡ªé€‚åº”æ–¹æ³•å®ç°ç‰¹å¾èåˆã€‚</p><h3 id="smca-for-image-feature-fusion">SMCA for Image Feature Fusion.</h3><p>Multi-head attentionæ˜¯ä¸€ç§æµè¡Œçš„åœ¨ä¸¤ç»„è¾“å…¥ä¹‹é—´è¿›è¡Œä¿¡æ¯äº¤æ¢å’Œå»ºç«‹è½¯å…³è”çš„æœºåˆ¶ï¼Œå®ƒå·²è¢«å¹¿æ³›ç”¨äºç‰¹å¾åŒ¹é…ä»»åŠ¡ã€‚ä¸ºäº†å‡è½»ç¡¬å…³è”ç­–ç•¥å¸¦æ¥çš„å¯¹ä¼ æ„Ÿå™¨æ ¡å‡†å’ŒåŠ£è´¨å›¾åƒç‰¹å¾çš„æ•æ„Ÿæ€§ï¼Œæˆ‘ä»¬åˆ©ç”¨äº¤å‰æ³¨æ„æœºåˆ¶åœ¨æ¿€å…‰é›·è¾¾å’Œå›¾åƒä¹‹é—´å»ºç«‹è½¯å…³è”ï¼Œä½¿ç½‘ç»œèƒ½å¤Ÿè‡ªé€‚åº”åœ°ç¡®å®šåº”è¯¥ä»å›¾åƒä¸­è·å–å“ªäº›ä¿¡æ¯ã€‚</p><aside>ğŸ’¡ é¦–å…ˆåœ¨ä½¿ç”¨å…ˆå‰çš„é¢„æµ‹ä»¥åŠæ ¡å‡†çŸ©é˜µå®šä½object queryï¼Œç„¶ååœ¨object queryå’Œç›¸åº”çš„å›¾åƒç‰¹å¾å›¾ä¹‹é—´æ‰§è¡Œäº¤å‰æ³¨æ„åŠ›cross attentionã€‚ä½†æ˜¯ï¼Œç”±äº LiDAR ç‰¹å¾å’Œå›¾åƒç‰¹å¾æ¥è‡ªå®Œå…¨ä¸åŒçš„ç©ºé—´åŸŸï¼Œæ‰€ä»¥object queryå¯èƒ½ä¼šå…³æ³¨ä¸è¦é¢„æµ‹çš„è¾¹ç•Œæ¡†æ— å…³çš„è§†è§‰åŒºåŸŸï¼Œå¯¼è‡´ç½‘ç»œéœ€è¦å¾ˆé•¿æ—¶é—´æ‰èƒ½å‡†ç¡®è¯†åˆ«å›¾åƒä¸Šçš„æ­£ç¡®åŒºåŸŸã€‚</aside><p>æˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ª<strong>ç©ºé—´è°ƒåˆ¶äº¤å‰æ³¨æ„åŠ› (SMCA)</strong>Â æ¨¡å— ï¼Œå®ƒé€šè¿‡å›´ç»•æ¯ä¸ª<strong>query</strong>çš„æŠ•å½± 2D ä¸­å¿ƒçš„ 2D åœ†å½¢<strong>é«˜æ–¯æ©ç Gaussian mask</strong>å¯¹<strong>äº¤å‰æ³¨æ„åŠ›</strong>è¿›è¡Œ<strong>åŠ æƒ</strong>ã€‚2DÂ <strong>Gaussian</strong>Â æƒé‡<strong>maskÂ M</strong>çš„ç”Ÿæˆæ–¹å¼ä¸Â <strong>CenterNet</strong>Â ç±»ä¼¼ã€‚</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><mtext>âˆ’</mtext><mfrac><mrow><mo stretchy="false">(</mo><mi>i</mi><mtext>âˆ’</mtext><mi>c</mi><mi>x</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mi>j</mi><mtext>âˆ’</mtext><mi>c</mi><mi>y</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><mrow><mi>Ïƒ</mi><msup><mi>r</mi><mn>2</mn></msup></mrow></mfrac><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">M_{ij} = exp(âˆ’\frac{(iâˆ’cx)^2+(jâˆ’cy)^2}{Ïƒr^2} )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.177108em;vertical-align:-0.686em;"></span><span class="mord mathdefault">e</span><span class="mord mathdefault">x</span><span class="mord mathdefault">p</span><span class="mopen">(</span><span class="mord">âˆ’</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.491108em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mord">âˆ’</span><span class="mord mathdefault">c</span><span class="mord mathdefault">x</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord">âˆ’</span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span></span></p><blockquote><p>(i, j) æ˜¯æƒé‡æ©ç  M çš„ç©ºé—´ç´¢å¼•</p><p>(cx, cy) æ˜¯é€šè¿‡å°†queryé¢„æµ‹æŠ•å½±åˆ°å›¾åƒå¹³é¢ä¸Šè®¡ç®—çš„ 2D ä¸­å¿ƒ</p><p>ræ˜¯ä¸‰ç»´è¾¹ç•Œæ¡†æŠ•å½±è§’çš„æœ€å°å¤–åˆ‡åœ†çš„åŠå¾„</p><p>Ïƒ æ˜¯è°ƒåˆ¶é«˜æ–¯åˆ†å¸ƒå¸¦å®½çš„è¶…å‚æ•°</p></blockquote><p>ç„¶åï¼Œè¿™ä¸ªweight mapä¸æ‰€æœ‰attention headsä¹‹é—´çš„cross-attention mapæŒ‰å…ƒç´ ç›¸ä¹˜ã€‚è¿™æ ·ï¼Œæ¯ä¸ªobject queryåªå…³æ³¨æŠ•å½±çš„ 2D æ¡†å‘¨å›´çš„ç›¸å…³åŒºåŸŸï¼Œè¿™æ ·ç½‘ç»œå°±å¯ä»¥æ›´å¥½æ›´å¿«åœ°æ ¹æ®è¾“å…¥çš„ LiDAR ç‰¹å¾å­¦ä¹ åœ¨å“ªé‡Œé€‰æ‹©å›¾åƒç‰¹å¾ã€‚æ³¨æ„åŠ›å›¾çš„å¯è§†åŒ–å¦‚å›¾ 3 æ‰€ç¤ºã€‚è¯¥ç½‘ç»œé€šå¸¸å€¾å‘äºå…³æ³¨é è¿‘å¯¹è±¡ä¸­å¿ƒçš„å‰æ™¯åƒç´ è€Œå¿½ç•¥ä¸ç›¸å…³çš„åƒç´ ï¼Œä¸ºå¯¹è±¡åˆ†ç±»å’Œè¾¹ç•Œæ¡†å›å½’æä¾›æœ‰ä»·å€¼çš„è¯­ä¹‰ä¿¡æ¯ã€‚ åœ¨ SMCA ä¹‹åï¼Œæˆ‘ä»¬ä½¿ç”¨å¦ä¸€ä¸ª FFNï¼ˆä¸Šé¢ï¼‰ ä½¿ç”¨åŒ…å« LiDAR å’Œå›¾åƒä¿¡æ¯çš„object queryæ¥ç”Ÿæˆæœ€ç»ˆçš„è¾¹ç•Œæ¡†é¢„æµ‹ã€‚</p><p><img src="https://img1.imgtp.com/2023/05/06/5IKRezV8.png" alt="Untitled"></p><p>å›¾3Â ç¬¬ä¸€è¡Œæ˜¾ç¤ºè¾“å…¥å›¾åƒå’ŒæŠ•å½±åœ¨å›¾åƒä¸Šçš„<strong>object query</strong>çš„é¢„æµ‹ï¼Œç¬¬äºŒè¡Œæ˜¾ç¤ºäº¤å‰æ³¨æ„åŠ›å›¾ã€‚æˆ‘ä»¬çš„èåˆç­–ç•¥èƒ½å¤Ÿ<strong>åŠ¨æ€</strong>é€‰æ‹©ç›¸å…³çš„å›¾åƒåƒç´ ï¼Œå¹¶ä¸”ä¸å— LiDAR ç‚¹æ•°çš„é™åˆ¶ã€‚</p><h2 id="label-assignment-and-losses">Label Assignment and Losses</h2><p>ä½¿ç”¨Hungarian Algorithmï¼ˆåŒˆç‰™åˆ©ç®—æ³•ï¼‰è®¡ç®—åŒ¹é…æˆæœ¬ã€‚å…¶ä¸­åŒ¹é…æˆæœ¬ç”±åˆ†ç±»ã€å›å½’ã€å’ŒIoUæˆæœ¬çš„åŠ æƒå’Œå®šä¹‰ã€‚</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mrow><mi>m</mi><mi>a</mi><mi>t</mi><mi>c</mi><mi>h</mi></mrow></msub><mo>=</mo><msub><mi>Î»</mi><mn>1</mn></msub><msub><mi>L</mi><mrow><mi>c</mi><mi>l</mi><mi>s</mi></mrow></msub><mo stretchy="false">(</mo><mi>p</mi><mo separator="true">,</mo><mover accent="true"><mi>p</mi><mo>^</mo></mover><mo stretchy="false">)</mo><mo>+</mo><msub><mi>Î»</mi><mn>2</mn></msub><msub><mi>L</mi><mrow><mi>r</mi><mi>e</mi><mi>g</mi></mrow></msub><mo stretchy="false">(</mo><mi>b</mi><mo separator="true">,</mo><mover accent="true"><mi>b</mi><mo>^</mo></mover><mo stretchy="false">)</mo><mo>+</mo><msub><mi>Î»</mi><mn>3</mn></msub><msub><mi>L</mi><mrow><mi>i</mi><mi>o</mi><mi>u</mi></mrow></msub><mo stretchy="false">(</mo><mi>b</mi><mo separator="true">,</mo><mover accent="true"><mi>b</mi><mo>^</mo></mover><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">C_{match}=\lambda_1L_{cls}(p,\hat{p})+\lambda_2L_{reg}(b,\hat{b})+\lambda_3L_{iou}(b,\hat{b})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight">h</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">Î»</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mord mathdefault mtight">s</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">p</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.2439879999999999em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">Î»</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9578799999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">b</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.2078799999999998em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">Î»</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">u</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9578799999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">b</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><p>å…¶ä¸­ï¼ŒLclsæ˜¯äºŒå…ƒäº¤å‰ç†µæŸå¤±ï¼ŒLregæ˜¯é¢„æµ‹çš„BEVä¸­å¿ƒå’Œground truthä¸­å¿ƒä¹‹é—´çš„L1æŸå¤±ï¼ˆéƒ½åœ¨[0ï¼Œ1]ä¸­å½’ä¸€åŒ–ï¼‰ï¼ŒLiouæ˜¯é¢„æµ‹çš„æ–¹æ¡†å’Œground truth boxesä¹‹é—´çš„IoUæŸå¤±ã€‚</p><p>è€ƒè™‘åˆ°æ‰€æœ‰çš„åŒ¹é…å¯¹ï¼Œæˆ‘ä»¬ä¸ºåˆ†ç±»è®¡ç®—focal lossã€‚ç”¨L1 loss ä»…é’ˆå¯¹positive pairs è®¡ç®—è¾¹ç•Œç›’å›å½’ã€‚å¯¹äºheatmap prediction,æˆ‘ä»¬é‡‡ç”¨ penalty reduced focal loss(Center Pointé‡‡ç”¨çš„æ–¹æ³•)</p><p>å¯¹äºä¸¤ä¸ªè§£ç å±‚é‡‡ç”¨ä¸€æ ·çš„æ ‡ç­¾åˆ†é…ç­–ç•¥å’ŒæŸå¤±å…¬å¼ã€‚</p><h2 id="image-guided-query-initialization">image-guided query initialization</h2><p>ä¸ºäº†è¿›ä¸€æ­¥åˆ©ç”¨é«˜åˆ†è¾¨ç‡å›¾åƒæ£€æµ‹å°ç‰©ä½“çš„èƒ½åŠ›å¹¶ä½¿æˆ‘ä»¬çš„ç®—æ³•å¯¹ç¨€ç–çš„ LiDAR ç‚¹äº‘æ›´åŠ é²æ£’ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§Image-Guided Query Initializationç­–ç•¥ï¼Œè¯¥ç­–ç•¥åˆ©ç”¨Â <strong>LiDAR</strong>Â å’Œ<strong>camera</strong>ä¿¡æ¯æ¥é€‰æ‹©<strong>object query</strong>ã€‚</p><p><img src="https://img1.imgtp.com/2023/05/06/ZeUbu1wt.png" alt="Untitled"></p><p>æˆ‘ä»¬é¦–å…ˆæ²¿å‚ç›´ç»´åº¦æµ“ç¼©å›¾åƒç‰¹å¾ï¼Œç„¶ååˆ©ç”¨LiDAR BEVç‰¹å¾çš„äº¤å‰æ³¨æ„å°†è¿™äº›ç‰¹å¾æŠ•å°„åˆ°BEVå¹³é¢ä¸Šã€‚æ¯å¹…å›¾åƒéƒ½ç”±ä¸€ä¸ªå•ç‹¬çš„å¤šå¤´å…³æ³¨å±‚å¤„ç†ï¼Œå®ƒæ•æ‰åˆ°å›¾åƒåˆ—å’ŒBEVä½ç½®ä¹‹é—´çš„å…³ç³»ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è®ºæ–‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®ºæ–‡ </tag>
            
            <tag> cvpr </tag>
            
            <tag> ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Data Fusion</title>
      <link href="/2023/05/06/Data-Fusion/"/>
      <url>/2023/05/06/Data-Fusion/</url>
      
        <content type="html"><![CDATA[<h2 id="åŸºæœ¬æ¦‚å¿µ">åŸºæœ¬æ¦‚å¿µ</h2><p>1.1 å¤šä¼ æ„Ÿå™¨ä¿¡æ¯èåˆæ˜¯ç”¨äºåŒ…å«å¤„äºä¸åŒä½ç½®çš„å¤šä¸ªæˆ–å¤šç§ä¼ æ„Ÿå™¨çš„ä¿¡æ¯å¤„ç†æŠ€æœ¯</p><p>1.2 æ ¹æ®èåˆå±‚æ¬¡å¯ä»¥åˆ†ä¸ºï¼šæ•°æ®çº§ã€ç‰¹å¾çº§ã€å†³ç­–çº§</p><ul><li><p>ç‰¹å¾çº§èåˆ</p><p>å…ˆä»å„ä¸ªä¼ æ„Ÿå™¨æä¾›çš„åŸå§‹æ•°æ®ä¸­æå–ä»£è¡¨æ€§ç‰¹å¾ï¼Œå†æŠŠè¿™äº›ç‰¹å¾èåˆæˆå•ä¸€ç‰¹å¾å‘é‡ï¼›å…¶ä¸­é€‰æ‹©åˆé€‚çš„ç‰¹å¾è¿›è¡Œèåˆæ˜¯å…³é”®ï¼›ç‰¹å¾ä¿¡æ¯åŒ…æ‹¬è¾¹ç¼˜ã€æ–¹å‘ã€é€Ÿåº¦ã€å½¢çŠ¶</p><ul><li><p>å¯ä»¥åˆ’åˆ†ä¸ºç›®æ ‡çŠ¶æ€èåˆå’Œç›®æ ‡ç‰¹æ€§èåˆ</p><ul><li>ç›®æ ‡çŠ¶æ€èåˆï¼šä¸»è¦åº”ç”¨äºå¤šä¼ æ„Ÿå™¨çš„ç›®æ ‡è·Ÿè¸ªé¢†åŸŸï¼›èåˆç³»ç»Ÿé¦–å…ˆå¯¹ä¼ æ„Ÿå™¨æ•°æ®è¿›è¡Œé¢„å¤„ç†ä»¥å®Œæˆæ•°æ®é…å‡†ï¼Œåœ¨æ•°æ®é…å‡†ä¹‹åï¼Œèåˆå¤„ç†ä¸»è¦å®ç°å‚æ•°å…³è”å’ŒçŠ¶æ€ä¼°è®¡ã€‚</li><li>ç›®æ ‡ç‰¹æ€§èåˆï¼šå°±æ˜¯ç‰¹å¾å±‚è”åˆè¯†åˆ«ï¼Œå®ƒçš„å®è´¨å°±æ˜¯æ¨¡å¼è¯†åˆ«é—®é¢˜ï¼›åœ¨èåˆå‰å¿…é¡»å…ˆå¯¹ç‰¹å¾è¿›è¡Œå…³è”å¤„ç†ï¼Œå†å¯¹ç‰¹å¾çŸ¢é‡åˆ†ç±»æˆæœ‰æ„ä¹‰çš„ç»„åˆ</li></ul>  <aside>  ğŸ“Œ æˆ‘æ„Ÿè§‰æ„æ€å°±æ˜¯ä¸€ä¸ªæ˜¯å…ˆæŠŠæ•°æ®é…é½ï¼Œç„¶åä¸€èµ·æ”¾è¿›å»ï¼Œä¸€ä¸ªæ˜¯è¦æŠŠæ•°æ®å…³è”æˆä¸€ä¸ªå¤§çš„ç‰¹å¾å‘é‡  </aside></li></ul></li><li><p>å†³ç­–çº§èåˆ</p><ul><li>å±äºé«˜å±‚æ¬¡çº§èåˆï¼Œæ˜¯å¯¹æ•°æ®é«˜å±‚æ¬¡çº§çš„æŠ½è±¡ï¼Œè¾“å‡ºæ˜¯ä¸€ä¸ªè”åˆå†³ç­–ç»“æœï¼Œåœ¨ç†è®ºä¸Šè¿™ä¸ªè”åˆå†³ç­–åº”æ¯”ä»»ä½•å•ä¼ æ„Ÿå™¨å†³ç­–æ›´ç²¾ç¡®æˆ–æ›´æ˜ç¡®ï¼›</li><li>å†³ç­–å±‚èåˆåœ¨ä¿¡æ¯å¤„ç†æ–¹é¢å…·æœ‰å¾ˆé«˜çš„çµæ´»æ€§ï¼Œç³»ç»Ÿå¯¹ä¿¡æ¯ä¼ è¾“å¸¦å®½è¦æ±‚å¾ˆä½ï¼Œèƒ½æœ‰æ•ˆåœ°èåˆåæ˜ ç¯å¢ƒæˆ–ç›®æ ‡å„ä¸ªä¾§é¢çš„ä¸åŒç±»å‹ä¿¡æ¯ï¼Œè€Œä¸”å¯ä»¥å¤„ç†éåŒæ­¥ä¿¡æ¯ï¼›</li><li>ç”±äºç¯å¢ƒå’Œç›®æ ‡çš„æ—¶å˜åŠ¨æ€ç‰¹æ€§ã€å…ˆéªŒçŸ¥è¯†è·å–çš„å›°éš¾ã€çŸ¥è¯†åº“çš„å·¨é‡ç‰¹æ€§ã€é¢å‘å¯¹è±¡çš„ç³»ç»Ÿè®¾è®¡è¦æ±‚ç­‰ï¼Œå†³ç­–å±‚èåˆç†è®ºä¸æŠ€æœ¯çš„å‘å±•ä»å—åˆ°ä¸€å®šçš„é™åˆ¶ï¼›</li></ul></li></ul><h2 id="ä¿¡æ¯èåˆç›¸å…³æ¡ä»¶">ä¿¡æ¯èåˆç›¸å…³æ¡ä»¶</h2><ul><li><p>2.1 èåˆçš„å…ˆå†³æ¡ä»¶</p><ul><li>è¿åŠ¨è¡¥å¿</li></ul><p>è‡ªèº«çš„è¿åŠ¨è¡¥å¿å’Œæ¥è‡ªäºå…¶ä»–ç›®æ ‡çš„è¿åŠ¨è¡¥å¿ã€‚ç®€å•è¯´å°±æ˜¯é‡‡é›†ä¸€åœˆçš„æ—¶é—´å‘¨æœŸå†…ï¼Œæ— äººè½¦è‡ªèº«ä¼šæœ‰ä¸€å®šçš„ä½ç§»ï¼ŒåŒæ—¶å…¶ä»–è¿åŠ¨ç‰©ä½“ä¹Ÿä¼šç”±äºè‡ªèº«è¿åŠ¨äº§ç”Ÿç›¸å¯¹ä½ç§»</p><ul><li>æ—¶é—´åŒæ­¥</li></ul><p>é€šè¿‡ç»Ÿä¸€çš„ä¸»æœºç»™å„ä¸ªä¼ æ„Ÿå™¨æä¾›åŸºå‡†æ—¶é—´ï¼Œå„ä¼ æ„Ÿå™¨æ ¹æ®å·²ç»æ ¡å‡†çš„æ—¶é—´å„è‡ªç‹¬ç«‹é‡‡é›†æ•°æ®å¹¶åŠ ä¸Šæ—¶é—´æˆ³ï¼Œä»¥åšåˆ°æ‰€æœ‰çš„ä¼ æ„Ÿå™¨æ—¶é—´æˆ³åŒæ­¥ï¼Œä½†é‚£æ—¶ç”±äºå„ä¸ªä¼ æ„Ÿå™¨å„è‡ªé‡‡é›†å‘¨æœŸç›¸äº’ç‹¬ç«‹ï¼Œæ— æ³•ä¿è¯åŒä¸€æ—¶åˆ»é‡‡é›†åˆ°ç›¸åŒçš„ä¿¡æ¯</p><ul><li>ç©ºé—´åŒæ­¥</li></ul><p>å°†ä¸åŒä¼ æ„Ÿå™¨åæ ‡ç³»ä¸‹çš„æµ‹é‡å€¼è½¬åŒ–åˆ°åŒä¸€ä¸ªåæ ‡ç³»ä¸­ã€‚ï¼ˆä¼ æ„Ÿå™¨æ ‡å®šï¼‰</p></li><li><p>2.2 å¤šä¼ æ„Ÿå™¨èåˆçš„åŸºæœ¬æ€è·¯</p><p>æ‘„åƒå¤´ä¸æ¿€å…‰é›·è¾¾æ•°æ®èåˆçš„åŸºæœ¬æ€è·¯</p><ul><li><p>éšœç¢ç‰©çš„æ£€æµ‹å¯ä»¥ä½¿ç”¨æ¿€å…‰é›·è¾¾è¿›è¡Œç‰©ä½“èšç±»ï¼Œä½†æ˜¯å¯¹äºè¾ƒè¿œç‰©ä½“è¿‡äºç¨€ç–çš„æ¿€å…‰çº¿æ•°èšç±»çš„æ•ˆæœè¾ƒå·®ï¼Œå› æ­¤åˆ©ç”¨è§†è§‰å›¾åƒä¿¡æ¯è¿›è¡Œç›®æ ‡æ£€æµ‹ï¼Œè¿›è€Œè·å–éšœç¢ç‰©çš„ä½ç½®ï¼ŒåŒæ—¶è§†è§‰è¿˜å¯ä»¥ç»™å‡ºéšœç¢ç‰©ç±»åˆ«ä¿¡æ¯ï¼›</p></li><li><p>èåˆçš„å…³é”®æ˜¯éœ€è¦å°†æ‘„åƒå¤´å’Œæ¿€å…‰é›·è¾¾è¿›è¡Œè”åˆæ ‡å®šï¼Œè·å–ä¸¤è€…åæ ‡ç³»çš„ç©ºé—´è½¬æ¢å…³ç³»ï¼›å¯ä»¥é€šè¿‡æ ‡å®šçš„æ–¹å¼ï¼ŒæŠŠæ¿€å…‰é›·è¾¾æŠ•å°„åˆ°å›¾åƒçš„åæ ‡ç³»ä¸­ï¼Œå»ºç«‹å›¾åƒçš„åƒç´ ç‚¹ï¼Œå’Œæ¿€å…‰é›·è¾¾æŠ•å½±åçš„ç‚¹ä¹‹é—´åšåŒ¹é…ï¼Œç„¶åé€šè¿‡æŸç§ä¼˜åŒ–æ–¹ç¨‹ï¼Œæ¥è§£å†³åŒ¹é…é—®é¢˜ï¼›</p>  <aside>  ğŸ“Œ è¿™é‡Œåº”è¯¥å°±æ˜¯å’Œè€å¸ˆæåˆ°çš„å°† æ¿€å…‰é›·è¾¾ å’Œ æ‘„åƒå¤´ çš„åƒç´ ç‚¹ æ—¶ç©ºé…å‡†  </aside></li><li><p>æ¿€å…‰é›·è¾¾å¯ä»¥å¾—åˆ°ç›®æ ‡çš„3D æ•°æ®ï¼ˆx, y , z)ï¼Œé€šè¿‡æ ‡å®šå‚æ•°ï¼Œä»¥åŠç›¸æœºæœ¬èº«çš„å†…å‚ï¼Œå¯ä»¥æŠŠæ¿€å…‰é›·è¾¾çš„3Dç‚¹æŠ•å°„åˆ°å›¾åƒä¸Šï¼Œå›¾åƒä¸Šçš„æŸäº›åƒç´ å°±ä¼šè·å¾—æ¿€å…‰é›·è¾¾çš„æ·±åº¦ä¿¡æ¯ï¼Œç„¶åä¾¿å¯ä»¥åšåŸºäºå›¾åƒçš„åˆ†å‰²æˆ–è€…æ·±åº¦å­¦ä¹ æ¨¡å‹</p></li></ul></li></ul><h2 id="ç›¸å…³è®ºæ–‡">ç›¸å…³è®ºæ–‡</h2><ul><li><p>[ ]  ä»ä¼ªæ ‡å®šå¯¹è±¡ä¸­å»ºç«‹è™šæ‹Ÿç‚¹å¯¹åº”å…³ç³»å®ç°æ¿€å…‰é›·è¾¾-ç›¸æœºç³»ç»Ÿçš„å¤–éƒ¨æ ‡å®š</p></li><li><p>[ ]  èåˆ3D-2Då’Œ3D-3Dç‚¹å¯¹åº”å…³ç³»çš„æ¿€å…‰é›·è¾¾-ç›¸æœºç³»ç»Ÿå‡ ä½•æ ‡å®š</p></li><li><p>[ ]  åŸºäºLambertianæ¨¡å‹çš„æ ‡å‡†å¼•å¯¼æ·±åº¦è¡¥å…¨ æ¿€å…‰é›·è¾¾-ç›¸æœºç³»ç»Ÿ</p></li><li><p>[ ]  ä¸€ç§åŸºäºç°åº¦åŠ æƒçª—å£çš„çº¢å¤–ä¸å¯è§å…‰å›¾åƒé…å‡†ç®—æ³•</p></li></ul><aside>âœï¸ å‰ä¸¤ç¯‡è®ºæ–‡éƒ½æ˜¯åœ¨è®²LiDSAR-Camera Calibrationï¼Œé‡ç‚¹åœ¨äºæå‡ºäº†ä»€ä¹ˆæ ·çš„æ–¹æ³•è§£å†³æ¿€å…‰é›·è¾¾å’Œæ‘„åƒæœº åƒç´ ç‚¹ä¹‹é—´çš„æ—¶ç©ºé…å‡†é—®é¢˜ã€‚ç¬¬ä¸‰ç¯‡å…³äºæ¿€å…‰é›·è¾¾å’Œæ‘„åƒæœºçš„æ·±åº¦è¡¥å…¨çš„å†…å®¹ï¼Œå±äºç«‹ä½“è®¡ç®—æœºè§†è§‰é¢†åŸŸã€‚æœ€åä¸€ç¯‡ä»…å…³äºå›¾åƒé…å‡†ç®—æ³•ï¼Œå±äºå›¾åƒèåˆçš„é¢†åŸŸã€‚</aside><h2 id="åè¯è§£é‡Š">åè¯è§£é‡Š</h2><h3 id="lidar-camera-calibration">LiDAR-camera Calibration</h3><p>æ¿€å…‰é›·è¾¾å’Œæ‘„åƒå¤´è”åˆæ ‡å®šï¼š</p><p>æ ‡å®šå°±æ˜¯æ‰¾åˆ°é›·è¾¾åˆ°ç›¸æœºçš„ç©ºé—´è½¬æ¢å…³ç³»ï¼Œåœ¨ä¸åŒçš„åæ ‡ç³»ä¹‹é—´è½¬æ¢éœ€è¦æ—‹è½¬çŸ©é˜µ R å’Œå¹³ç§»çŸ©é˜µ Tï¼Œä¸ºåç»­çš„é›·è¾¾å’Œç›¸æœºæ•°æ®èåˆåšå‡†å¤‡</p><p>é€šå¸¸ï¼Œæ ‡å®šæ¿€å…‰å’Œç›¸æœºä¹‹é—´çš„å¤–å‚æ•°æœ‰ä¸¤ç±»æ–¹æ³•ï¼šä¸€ç±»æ˜¯åˆ©ç”¨ 3D-3D çš„çº¦æŸï¼Œå³åˆ©ç”¨æ¿€å…‰æµ‹é‡çš„ä¸‰ç»´æ¿€å…‰ç‚¹ (3D) å’Œç›¸æœºæµ‹é‡çš„æ ‡å®šæ¿ä¸‰ç»´åæ ‡ (3D) ä¸¤è€…æ¥æ„å»ºçº¦æŸï¼›å¦ä¸€ç±»æ˜¯åˆ©ç”¨ 3D-2D çš„çº¦æŸï¼Œå³åˆ©ç”¨æ¿€å…‰æµ‹é‡çš„ä¸‰ç»´æ¿€å…‰ç‚¹ (3D) å’Œå›¾åƒäºŒç»´ç‰¹å¾ï¼ˆ2Dã€ç‚¹ç‰¹å¾ã€çº¿æ®µç‰¹å¾ï¼‰æ¥æ„å»ºçº¦æŸã€‚</p><h3 id="image-registration">Image Registration</h3><p>å›¾åƒé…å‡†ï¼š</p><p>å›¾åƒé…å‡†ç›®çš„åœ¨äº<strong>æ¯”è¾ƒæˆ–èåˆé’ˆå¯¹åŒä¸€å¯¹è±¡åœ¨ä¸åŒæ¡ä»¶ä¸‹è·å–çš„å›¾åƒ</strong>ï¼Œä¾‹å¦‚å›¾åƒä¼šæ¥è‡ªä¸åŒçš„é‡‡é›†è®¾å¤‡ï¼Œå–è‡ªä¸åŒçš„æ—¶é—´ï¼Œä¸åŒçš„æ‹æ‘„è§†è§’ç­‰ç­‰ï¼Œæœ‰æ—¶ä¹Ÿéœ€è¦ç”¨åˆ°é’ˆå¯¹ä¸åŒå¯¹è±¡çš„å›¾åƒé…å‡†é—®é¢˜ã€‚</p><p>å…·ä½“åœ°è¯´ï¼Œå¯¹äºä¸€ç»„å›¾åƒæ•°æ®é›†ä¸­çš„ä¸¤å¹…å›¾åƒï¼Œé€šè¿‡å¯»æ‰¾ä¸€ç§ç©ºé—´å˜æ¢æŠŠä¸€å¹…å›¾åƒï¼ˆæµ®åŠ¨å›¾åƒï¼Œmoving imageï¼‰æ˜ å°„åˆ°å¦ä¸€å¹…å›¾åƒï¼ˆå‚è€ƒå›¾åƒï¼Œfixed imageï¼‰ä¸Šï¼Œä½¿å¾—ä¸¤å›¾ä¸­å¯¹åº”äºç©ºé—´åŒä¸€ä½ç½®çš„ç‚¹ä¸€ä¸€å¯¹åº”èµ·æ¥ï¼Œä»è€Œè¾¾åˆ°ä¿¡æ¯èåˆçš„ç›®çš„ã€‚</p><p>å›¾åƒé…å‡†å¸¸ä¸ºå›¾åƒèåˆçš„ä¸€ä¸ªé¢„å¤„ç†æ­¥éª¤ã€‚ç»è¿‡ç²¾ç¡®å›¾åƒé…å‡†çš„å›¾åƒå¯¹ï¼Œé€šå¸¸å¯è·å¾—æ›´å¥½çš„èåˆæ•ˆæœã€‚</p><h3 id="depth-completion">Depth Completion</h3><p>æ·±åº¦è¡¥å…¨ï¼š</p><p>æ·±åº¦è¡¥å…¨ä»»åŠ¡çš„ç›®æ ‡æ˜¯ä»ç¨€ç–å’Œä¸è§„åˆ™ç‚¹äº‘ç”Ÿæˆå¯†é›†çš„æ·±åº¦é¢„æµ‹ï¼Œç„¶åå°†é¢„æµ‹çš„æ·±åº¦ä¿¡æ¯æ˜ å°„åˆ°2Då¹³é¢ã€‚</p><h3 id="lidar-camera-system">LiDAR-Camera System</h3><p>åŸºäºå…‰æŸæµ‹é‡çš„è·ç¦»ï¼ŒLiDARé€šè¿‡ç”Ÿæˆç¨€ç–çš„ç‚¹äº‘æ¥æ£€æµ‹å‘¨å›´çš„ç¯å¢ƒã€‚å•çœ¼ç›¸æœºåœ¨å…¶è§†åœºï¼ˆFOVï¼‰å†…æ•è·2Då¯†é›†çš„RGBä¿¡æ¯ã€‚é€šè¿‡èåˆLiDARæ•°æ®å’Œå›¾åƒï¼ŒLiDAR-ç›¸æœºç³»ç»Ÿå¯ä»¥å¤„ç†é«˜çº§æ„ŸçŸ¥è§†è§‰ä»»åŠ¡ï¼Œå¦‚3Dç‰©ä½“æ£€æµ‹ã€‚</p><p>ç„¶è€Œï¼ŒLiDAR-ç›¸æœºç³»ç»Ÿçš„ä¼ æ„Ÿå™¨èåˆéœ€è¦ç›¸æœºå’ŒLiDARåæ ‡ç³»çš„åˆšæ€§è½¬æ¢ã€‚è¿™ç§åˆšæ€§è½¬æ¢è¢«å®šä¹‰ä¸ºLiDAR-ç›¸æœºç³»ç»Ÿçš„å¤–åœ¨å‚æ•°ã€‚å®ƒå¯ä»¥ç”±ä¸€ä¸ªæ—‹è½¬çŸ©é˜µRå’Œä¸€ä¸ªå¹³ç§»çŸ¢é‡Tè¡¨ç¤ºã€‚Rå’ŒTæ˜¯LiDAR-ç›¸æœºç³»ç»Ÿçš„å¤–åœ¨å‚æ•°ã€‚å¤–éƒ¨æ ‡å®šçš„ç›®çš„æ˜¯ä¼°è®¡å®ƒä»¬ã€‚</p><h3 id="pose-estimation">Pose Estimation</h3><h3 id="pnp-é—®é¢˜-epnp-ç®—æ³•">PnP é—®é¢˜ ã€EPnP ç®—æ³•</h3><p>PnP(Perspective-n-Point)æ˜¯æ±‚è§£3Dåˆ°2Dç‚¹å¯¹è¿åŠ¨çš„æ–¹æ³•ï¼Œç›®çš„æ˜¯æ±‚è§£ç›¸æœºåæ ‡ç³»ç›¸å¯¹ä¸–ç•Œåæ ‡ç³»çš„ä½å§¿ã€‚å®ƒæè¿°äº†å·²çŸ¥nä¸ª3Dç‚¹çš„åæ ‡(ç›¸å¯¹ä¸–ç•Œåæ ‡ç³»)ä»¥åŠè¿™äº›ç‚¹çš„åƒç´ åæ ‡æ—¶ï¼Œå¦‚ä½•ä¼°è®¡ç›¸æœºçš„ä½å§¿(å³æ±‚è§£ä¸–ç•Œåæ ‡ç³»åˆ°ç›¸æœºåæ ‡ç³»çš„æ—‹è½¬çŸ©é˜µRå’Œå¹³ç§»å‘é‡t)ã€‚</p><h2 id="å®éªŒè¦æ±‚">å®éªŒè¦æ±‚</h2><p><strong>ç›®çš„è¦æ±‚ï¼š</strong></p><ol><li>åŸ¹å…»å­¦ç”Ÿçš„è°ƒæŸ¥ç ”ç©¶ã€æ”¶é›†ä¿¡æ¯ã€æŸ¥æ‰¾æ–‡çŒ®çš„èƒ½åŠ›</li><li>æ£€éªŒã€å·©å›ºã€æå‡å­¦ç”Ÿå¯¹è®¡ç®—æœºè§†è§‰ã€æ·±åº¦å­¦ä¹ çš„åŸºæœ¬çŸ¥è¯†ã€åŸºæœ¬ç†è®ºä¸åŸºæœ¬æŠ€èƒ½çš„æŒæ¡ç¨‹åº¦ï¼›</li><li>ç†Ÿæ‚‰ç›¸æœºä¸æ¿€å…‰é›·è¾¾ç›¸å…³çš„è½¯ç¡¬ä»¶çš„ä½¿ç”¨</li></ol><p>è¦æ±‚å­¦ç”Ÿç‹¬ç«‹è§‚å¯Ÿã€åˆ†æã€åˆ¤æ–­ã€æå‡ºç§‘å­¦é—®é¢˜ï¼Œç”¨å‘æ•£æ€ç»´å’Œé›†ä¸­æ€ç»´ï¼Œæ„æ€å¤šç§è§£å†³æ–¹æ¡ˆå¹¶ç»§è€Œä¼˜é€‰å†³ç­–ï¼Œè§£å†³é—®é¢˜ï¼Œæ•´ç†åŠ å·¥ï¼Œå½¢æˆè®ºæ–‡</p><p>**ä¸»è¦å†…å®¹ï¼š**é’ˆå¯¹æ— äººè‰‡åœ¨æ°´é¢ç¯å¢ƒä¸‹çš„ç›®æ ‡æ£€æµ‹ä»»åŠ¡ã€‚</p><ol><li>ç†Ÿæ‚‰ç›¸æœºä»¥åŠæ¿€å…‰é›·è¾¾çš„ç¡¬ä»¶çŸ¥è¯†ï¼Œåœ¨å¼€å‘æ¿ä¸Šå®ç°å¯¹ç›¸æœºä¸æ¿€å…‰é›·è¾¾çš„è°ƒç”¨</li><li>å®Œæˆç›¸æœºä¸æ¿€å…‰é›·è¾¾çš„æ ‡å®šï¼Œå®ç°ç©ºé—´å¯¹é½</li><li>æ ¹æ®æ°´é¢ç¯å¢ƒå•ä¸€ã€ç‰¹å¾ä¿¡æ¯å¼±çš„ç‰¹ç‚¹è®¾è®¡æ°´é¢3Dç›®æ ‡æ£€æµ‹æ¨¡å‹ï¼Œç»†åŒ–æ¿€å…‰é›·è¾¾ä¸ç›¸æœºçš„ä½ç½®é…å‡†ï¼Œå¹¶åŸºäºå¯¹æ¿€å…‰é›·è¾¾ä¸ç›¸æœºç‰¹å¾å±‚èåˆï¼Œå®ç°æ°´é¢ç›®æ ‡3Dæ£€æµ‹ã€‚å¹¶åœ¨å…¬å¼€æ•°æ®é›†ä¸Šå¯¹ç½‘ç»œè¿›è¡Œé¢„è®­ç»ƒã€‚</li><li>æ”¶é›†çœŸå®æ°´é¢ç‚¹äº‘ä¸å›¾åƒæ•°æ®ï¼Œå°†é¢„è®­ç»ƒæ¨¡å‹è¿ç§»åˆ°æ°´é¢åœºæ™¯å¹¶æµ‹è¯•ã€‚è¿›ä¸€æ­¥åŸºäºå¡å°”æ›¼æ»¤æ³¢æ–¹æ³•ï¼Œé€šè¿‡æ¿€å…‰é›·è¾¾ä¸ç‚¹äº‘çš„å†³ç­–èåˆè¿›æå‡ç›®æ ‡æ£€æµ‹çš„å‡†ç¡®ç‡ã€‚</li><li>æµ‹è¯•ä¸æ¨¡å‹è°ƒæ•´ï¼Œå¯¹ç»“æœè¿›è¡Œåˆ†æä¸æ€»ç»“ï¼Œå®Œæˆè®ºæ–‡æ”¥å†™</li></ol><p><strong>é¢„æœŸç›®æ ‡ï¼š</strong></p><ol><li>å®ç°ç®—æ³•çš„è®¾è®¡ï¼Œå®ç°åŒç›®ç›¸æœºä¸æ¿€å…‰é›·è¾¾çš„ä¼˜åŠ¿äº’è¡¥ï¼Œåœ¨ç‰¹å¾çº§ä¸å†³ç­–çº§å®ç°æ¿€å…‰é›·è¾¾ä¸ç›¸æœºçš„èåˆï¼Œèƒ½å‡†ç¡®åœ°å¯¹æ°´é¢ä¸åŒå°ºå¯¸çš„ç›®æ ‡è¿›è¡Œæ£€æµ‹ï¼Œå¹¶å¾—åˆ°ç›®æ ‡èˆ¹åªçš„ç›¸å¯¹ä½ç½®ã€‚</li><li>ç®—æ³•åœ¨ä¸€å®šç¨‹åº¦ä¸Šé€‚åº”æ°´é¢ç¯å¢ƒçš„ç‰¹æ®Šæ€§ï¼Œåœ¨é¢ ç°¸æƒ…å†µä¸‹ä¹Ÿæœ‰ä¸€å®šæ•ˆæœã€‚</li><li>ç®—æ³•é€Ÿç‡åŸºæœ¬æ»¡è¶³æ— äººè‰‡å®æ—¶è¿ä½œéœ€æ±‚ã€‚</li></ol><p><strong>å‚è€ƒèµ„æ–™ï¼š</strong></p><p>[1] Y. LiÂ <em>et al</em>., â€œDeepFusion: Lidar-Camera Deep Fusion for Multi-Modal 3D Object Detection,â€Â <em>2022 IEEE/CVF Conference on Computer Vision and Pattern Recognition (CVPR)</em>,2022, pp. 17161-17170, doi: 10.1109/CVPR52688.2022.01667.</p><p>[2] Pei An <em>et al</em>., â€œGeometric calibration for LiDAR-camera system fusing 3D-2D and 3D-3D point correspondences,â€ Opt. ExpressÂ 28, 2122-2141 (2020)</p><p>[3] Pei An <em>et al</em>., â€œLiDAR-camera system extrinsic calibration by establishing virtual point correspondences from pseudo calibration objects,â€ Opt. ExpressÂ 28, 18261-18282 (2020)</p><h2 id="ä¸åŒçš„èåˆç­–ç•¥">ä¸åŒçš„èåˆç­–ç•¥</h2><p><strong>ç‰©ä½“æ£€æµ‹çš„ç­–ç•¥åˆ†ä¸ºï¼šå†³ç­–å±‚èåˆï¼Œå†³ç­–+ç‰¹å¾å±‚èåˆï¼Œä»¥åŠç‰¹å¾å±‚èåˆ</strong>ã€‚åœ¨å†³ç­–å±‚èåˆä¸­ï¼Œå›¾åƒå’Œç‚¹äº‘åˆ†åˆ«å¾—åˆ°ç‰©ä½“æ£€æµ‹ç»“æœï¼ˆBoundingBoxï¼‰ï¼Œè½¬æ¢åˆ°ç»Ÿä¸€åæ ‡ç³»åå†è¿›è¡Œåˆå¹¶ã€‚è¿™ç§ç­–ç•¥ä¸­ç”¨åˆ°çš„å¤§éƒ½æ˜¯ä¸€äº›ä¼ ç»Ÿçš„æ–¹æ³•ï¼Œæ¯”å¦‚IoUè®¡ç®—ï¼Œå¡å°”æ›¼æ»¤æ³¢ç­‰ï¼Œä¸æ·±åº¦å­¦ä¹ å…³ç³»ä¸å¤§ã€‚ä¸‹é¢é‡ç‚¹æ¥è®²è®²åä¸¤ç§èåˆç­–ç•¥ã€‚</p><h3 id="2-1-å†³ç­–-ç‰¹å¾å±‚èåˆ"><strong>2.1 å†³ç­–+ç‰¹å¾å±‚èåˆ</strong></h3><p>è¿™ç§ç­–ç•¥çš„ä¸»è¦æ€è·¯æ˜¯å°†<strong>å…ˆé€šè¿‡ä¸€ç§æ•°æ®ç”Ÿæˆç‰©ä½“çš„å€™é€‰æ¡†ï¼ˆProposalï¼‰</strong>ã€‚å¦‚æœé‡‡ç”¨å›¾åƒæ•°æ®ï¼Œé‚£ä¹ˆç”Ÿæˆçš„å°±æ˜¯2Då€™é€‰æ¡†ï¼Œå¦‚æœé‡‡ç”¨ç‚¹äº‘æ•°æ®ï¼Œé‚£ä¹ˆç”Ÿæˆçš„å°±æ˜¯3Då€™é€‰æ¡†ã€‚<strong>ç„¶åå°†å€™é€‰æ¡†ä¸å¦å¤–ä¸€ç§æ•°æ®ç›¸ç»“åˆæ¥ç”Ÿæˆæœ€ç»ˆçš„ç‰©ä½“æ£€æµ‹ç»“æœ</strong>ï¼ˆä¹Ÿå¯ä»¥å†é‡å¤åˆ©ç”¨ç”Ÿæˆå€™é€‰æ¡†çš„æ•°æ®ï¼‰ã€‚è¿™ä¸ªç»“åˆçš„è¿‡ç¨‹å°±æ˜¯å°†å€™é€‰æ¡†å’Œæ•°æ®ç»Ÿä¸€åˆ°ç›¸åŒçš„åæ ‡ç³»ä¸‹ï¼Œå¯ä»¥æ˜¯3Dç‚¹äº‘åæ ‡ï¼ˆæ¯”å¦‚F-PointNetï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯2Då›¾åƒåæ ‡ï¼ˆæ¯”å¦‚IPODï¼‰ã€‚</p><p><strong>F-PointNet[2]ç”±å›¾åƒæ•°æ®ç”Ÿæˆ2Dç‰©ä½“å€™é€‰æ¡†ï¼Œç„¶åå°†è¿™äº›å€™é€‰æ¡†æŠ•å½±åˆ°3Dç©ºé—´</strong>ã€‚æ¯ä¸ª2Då€™é€‰æ¡†åœ¨3Dç©ºé—´å¯¹åº”ä¸€ä¸ªè§†æ¤ä½“ï¼ˆFrustumï¼‰ï¼Œå¹¶å°†è½åˆ°è§†æ¤ä½“ä¸­æ‰€æœ‰ç‚¹åˆå¹¶èµ·æ¥ä½œä¸ºè¯¥å€™é€‰æ¡†çš„ç‰¹å¾ã€‚è§†æ¤ä½“ä¸­çš„ç‚¹å¯èƒ½æ¥è‡ªå‰æ™¯çš„é®æŒ¡ç‰©ä½“æˆ–è€…èƒŒæ™¯ç‰©ä½“ï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œ3Då®ä¾‹åˆ†å‰²æ¥å»é™¤è¿™äº›å¹²æ‰°ï¼Œåªä¿ç•™ç‰©ä½“ä¸Šçš„ç‚¹ï¼Œç”¨æ¥è¿›è¡Œåç»­çš„ç‰©ä½“æ¡†ä¼°è®¡ï¼ˆç±»ä¼¼PointNetä¸­çš„å¤„ç†æ–¹å¼ï¼‰ã€‚è¿™ç§åŸºäºè§†æ¤çš„æ–¹æ³•ï¼Œå…¶ç¼ºç‚¹åœ¨äºæ¯ä¸ªè§†æ¤ä¸­åªèƒ½å¤„ç†ä¸€ä¸ªè¦æ£€æµ‹çš„ç‰©ä½“ï¼Œè¿™å¯¹äºæ‹¥æŒ¤çš„åœºæ™¯å’Œå°ç›®æ ‡ï¼ˆæ¯”å¦‚è¡Œäººï¼‰æ¥è¯´æ˜¯ä¸èƒ½æ»¡è¶³è¦æ±‚çš„ã€‚</p><p><img src="https://pic4.zhimg.com/80/v2-90fb34ae1106462e0a6025020cb8fe73_720w.webp" alt="https://pic4.zhimg.com/80/v2-90fb34ae1106462e0a6025020cb8fe73_720w.webp"></p><p>F-PointNetç½‘ç»œç»“æ„å›¾</p><p>é’ˆå¯¹è§†æ¤çš„ä¸Šè¿°é—®é¢˜ï¼Œ<strong>IPOD[3]æå‡ºé‡‡ç”¨2Dè¯­ä¹‰åˆ†å‰²æ¥æ›¿æ¢2Dç‰©ä½“æ£€æµ‹</strong>ã€‚é¦–å…ˆï¼Œå›¾åƒä¸Šçš„è¯­ä¹‰åˆ†å‰²ç»“æœè¢«ç”¨æ¥å»é™¤ç‚¹äº‘ä¸­çš„èƒŒæ™¯ç‚¹ï¼Œè¿™æ˜¯é€šè¿‡å°†<strong>ç‚¹äº‘æŠ•å½±åˆ°2Då›¾åƒç©ºé—´</strong>æ¥å®Œæˆçš„ã€‚æ¥ä¸‹æ¥ï¼Œåœ¨æ¯ä¸ªå‰æ™¯ç‚¹å¤„ç”Ÿæˆå€™é€‰ç‰©ä½“æ¡†ï¼Œå¹¶é‡‡ç”¨NMSå»é™¤é‡å çš„å€™é€‰æ¡†ï¼Œæœ€åæ¯å¸§ç‚¹äº‘å¤§çº¦ä¿ç•™500ä¸ªå€™é€‰æ¡†ã€‚åŒæ—¶ï¼ŒPointNet++ç½‘æ ¼è¢«ç”¨æ¥è¿›è¡Œç‚¹ç‰¹å¾æå–ã€‚æœ‰äº†å€™é€‰æ¡†å’Œç‚¹ç‰¹å¾ï¼Œæœ€åä¸€æ­¥é‡‡ç”¨ä¸€ä¸ªå°è§„æ¨¡çš„PointNet++æ¥é¢„æµ‹ç±»åˆ«å’Œå‡†ç¡®çš„ç‰©ä½“æ¡†ï¼ˆå½“ç„¶è¿™é‡Œä¹Ÿå¯ä»¥ç”¨åˆ«çš„ç½‘ç»œï¼Œæ¯”å¦‚MLPï¼‰ã€‚IPODåœ¨è¯­ä¹‰åˆ†å‰²çš„åŸºç¡€ä¸Šç”Ÿæˆäº†ç¨ å¯†çš„å€™é€‰ç‰©ä½“æ¡†ï¼Œå› æ­¤åœ¨å«æœ‰å¤§é‡ç‰©ä½“å’Œäº’ç›¸é®æŒ¡çš„åœºæ™¯ä¸­æ•ˆæœæ¯”è¾ƒå¥½ã€‚</p><p><img src="https://pic3.zhimg.com/80/v2-6b0a3c68cd36530e8c55c93147bd5bee_720w.webp" alt="https://pic3.zhimg.com/80/v2-6b0a3c68cd36530e8c55c93147bd5bee_720w.webp"></p><p>IPODç½‘ç»œç»“æ„å›¾</p><p>ä¸Šé¢ä¸¤ä¸ªæ–¹æ³•åˆ†åˆ«é€šè¿‡2Då›¾åƒä¸Šçš„ç‰©ä½“æ£€æµ‹å’Œè¯­ä¹‰åˆ†å‰²ç»“æœæ¥ç”Ÿæˆå€™é€‰æ¡†ï¼Œç„¶ååªåœ¨ç‚¹äº‘æ•°æ®ä¸Šè¿›è¡Œåç»­çš„å¤„ç†ã€‚<strong>SIFRNet[4]æå‡ºåœ¨è§†æ¤ä½“ä¸Šèåˆç‚¹äº‘å’Œå›¾åƒç‰¹å¾</strong>ï¼Œä»¥å¢å¼ºè§†æ¤ä½“æ‰€åŒ…å«çš„ä¿¡æ¯é‡ï¼Œç”¨æ¥è¿›ä¸€æ­¥æé«˜ç‰©ä½“æ¡†é¢„æµ‹çš„è´¨é‡ã€‚</p><p><img src="https://pic1.zhimg.com/80/v2-45b55a9b33b0645add1187ce290e83d4_720w.webp" alt="https://pic1.zhimg.com/80/v2-45b55a9b33b0645add1187ce290e83d4_720w.webp"></p><p>SIFRNetç½‘ç»œç»“æ„å›¾</p><p>è¿‘å¹´æ¥ï¼Œéšç€3Dç‰©ä½“æ£€æµ‹æŠ€æœ¯çš„å¿«é€Ÿå‘å±•ï¼Œ<strong>ç‰©ä½“å€™é€‰æ¡†çš„é€‰å–ä¹Ÿä»é€æ¸ä»2Då‘3Dè½¬å˜</strong>ã€‚**MV3D[5]**æ˜¯åŸºäº3Då€™é€‰æ¡†çš„ä»£è¡¨æ€§å·¥ä½œã€‚é¦–å…ˆï¼Œ<strong>å®ƒå°†3Dç‚¹äº‘æ˜ å°„åˆ°BEVè§†å›¾ï¼Œå¹¶åŸºäºæ­¤è§†å›¾ç”Ÿæˆ3Dç‰©ä½“å€™é€‰æ¡†</strong>ã€‚ç„¶åï¼Œå°†è¿™äº›3Då€™é€‰æ¡†æ˜ å°„åˆ°ç‚¹äº‘çš„å‰è§†å›¾ä»¥åŠå›¾åƒè§†å›¾ï¼Œå¹¶å°†ç›¸åº”çš„ç‰¹å¾è¿›è¡Œèåˆã€‚ç‰¹å¾èåˆæ˜¯ä»¥å€™é€‰æ¡†ä¸ºåŸºç¡€ï¼Œå¹¶é€šè¿‡ROI poolingæ¥å®Œæˆçš„ã€‚</p><p><img src="https://pic4.zhimg.com/80/v2-6c0177ef8bfd90bd77368d4ddb01cdf3_720w.webp" alt="https://pic4.zhimg.com/80/v2-6c0177ef8bfd90bd77368d4ddb01cdf3_720w.webp"></p><p>MV3Dç½‘ç»œç»“æ„å›¾</p><p>**AVOD[6]**çš„æ€è·¯ä¹Ÿæ˜¯åœ¨3Då€™é€‰æ¡†çš„åŸºç¡€ä¸Šèåˆå›¾åƒå’Œç‚¹äº‘ç‰¹å¾ã€‚<strong>ä½†æ˜¯åŸå§‹å€™é€‰æ¡†çš„ç”Ÿæˆå¹¶ä¸æ˜¯é€šè¿‡ç‚¹äº‘å¤„ç†å¾—åˆ°ï¼Œè€Œæ˜¯é€šè¿‡å…ˆéªŒçŸ¥è¯†åœ¨BEVè§†å›¾ä¸‹å‡åŒ€é‡‡æ ·ç”Ÿæˆçš„</strong>ï¼ˆé—´éš”0.5ç±³ï¼Œå¤§å°ä¸ºå„ä¸ªç‰©ä½“ç±»çš„å‡å€¼ï¼‰ã€‚ç‚¹äº‘æ•°æ®ç”¨æ¥è¾…åŠ©å»é™¤ç©ºçš„å€™é€‰æ¡†ï¼Œè¿™æ ·æœ€ç»ˆæ¯å¸§æ•°æ®ä¼šäº§ç”Ÿ8ä¸‡åˆ°10ä¸‡ä¸ªå€™é€‰æ¡†ã€‚è¿™äº›å€™é€‰æ¡†é€šè¿‡èåˆçš„å›¾åƒå’Œç‚¹äº‘ç‰¹å¾è¿›è¡Œè¿›ä¸€æ­¥ç­›é€‰åï¼Œä½œä¸ºæœ€ç»ˆçš„å€™é€‰å†é€å…¥ç¬¬äºŒé˜¶æ®µçš„æ£€æµ‹å™¨ã€‚<strong>å› æ­¤ï¼Œä¹Ÿå¯ä»¥è®¤ä¸ºAVODçš„å€™é€‰æ¡†æ˜¯åŒæ—¶åœ¨å›¾åƒå’Œç‚¹äº‘ä¸Šå¾—åˆ°çš„</strong>ã€‚</p><p><img src="https://pic4.zhimg.com/80/v2-06bd200bf426fc4b5fe3b6a4a8e37ba7_720w.webp" alt="https://pic4.zhimg.com/80/v2-06bd200bf426fc4b5fe3b6a4a8e37ba7_720w.webp"></p><p>AVODç½‘ç»œç»“æ„å›¾</p><h3 id="2-2-ç‰¹å¾å±‚èåˆ"><strong>2.2 ç‰¹å¾å±‚èåˆ</strong></h3><p>å†³ç­–+ç‰¹å¾å±‚èåˆçš„ç‰¹ç‚¹æ˜¯ä»¥ç‰©ä½“å€™é€‰æ¡†ä¸ºä¸­å¿ƒæ¥èåˆä¸åŒçš„ç‰¹å¾ï¼Œèåˆçš„è¿‡ç¨‹ä¸­ä¸€èˆ¬ä¼šç”¨åˆ°ROI poolingï¼ˆæ¯”å¦‚åŒçº¿æ€§æ’å€¼ï¼‰ï¼Œè€Œè¿™ä¸ªæ“ä½œä¼šå¯¼è‡´ç©ºé—´ç»†èŠ‚ç‰¹å¾çš„ä¸¢å¤±ã€‚**å¦å¤–ä¸€ç§æ€è·¯æ˜¯ç‰¹å¾å±‚èåˆï¼Œä¹Ÿå°±æ˜¯ç›´æ¥èåˆå¤šç§ç‰¹å¾ã€‚**æ¯”å¦‚è¯´å°†ç‚¹äº‘æ˜ å°„åˆ°å›¾åƒç©ºé—´ï¼Œä½œä¸ºå¸¦æœ‰æ·±åº¦ä¿¡æ¯çš„é¢å¤–é€šé“ä¸å›¾åƒçš„RGBé€šé“è¿›è¡Œåˆå¹¶ã€‚è¿™ç§æ€è·¯ç®€å•ç›´æ¥ï¼Œå¯¹äº2Dç‰©ä½“æ£€æµ‹æ¥è¯´æ•ˆæœä¸é”™ã€‚ä½†æ˜¯èåˆçš„è¿‡ç¨‹ä¸¢å¤±äº†å¾ˆå¤š3Dç©ºé—´ä¿¡æ¯ï¼Œå› æ­¤å¯¹äº3Dç‰©ä½“æ£€æµ‹æ¥è¯´æ•ˆæœå¹¶ä¸å¥½ã€‚ç”±äº3Dç‰©ä½“æ£€æµ‹é¢†åŸŸçš„è¿…é€Ÿå‘å±•ï¼Œ<strong>ç‰¹å¾å±‚èåˆä¹Ÿæ›´å€¾å‘äºåœ¨3Dåæ ‡ä¸‹å®Œæˆï¼Œè¿™æ ·å¯ä»¥ä¸º3Dç‰©ä½“æ£€æµ‹æä¾›æ›´å¤šä¿¡æ¯</strong>ã€‚</p><p>**ContFuse[7]é‡‡ç”¨è¿ç»­å·ç§¯ï¼ˆContinuous Convolutionï¼‰æ¥èåˆç‚¹äº‘å’Œå›¾åƒç‰¹å¾ã€‚èåˆè¿‡ç¨‹åœ¨BEVè§†å›¾ä¸‹å®Œæˆã€‚**å¯¹äºBEVä¸Šçš„ä¸€ä¸ªåƒç´ ï¼ˆç½‘æ ¼ï¼‰ï¼Œé¦–å…ˆåœ¨ç‚¹äº‘æ•°æ®ä¸­æ‰¾åˆ°å…¶Kä¸ªæœ€é‚»è¿‘çš„ç‚¹ï¼Œç„¶åå°†è¿™äº›3Dç©ºé—´ä¸­çš„ç‚¹æ˜ å°„åˆ°å›¾åƒç©ºé—´ï¼Œä»¥æ­¤å¾—åˆ°æ¯ä¸ªç‚¹çš„å›¾åƒç‰¹å¾ã€‚åŒæ—¶ï¼Œæ¯ä¸ªç‚¹çš„å‡ ä½•ç‰¹å¾åˆ™æ˜¯è¯¥ç‚¹åˆ°ç›¸åº”BEVåƒç´ çš„XYåç§»é‡ã€‚å°†å›¾åƒç‰¹å¾å’Œå‡ ä½•ç‰¹å¾åˆå¹¶ä½œä¸ºç‚¹ç‰¹å¾ï¼Œç„¶åæŒ‰ç…§è¿ç»­å·ç§¯çš„åšæ³•å¯¹å…¶è¿›è¡ŒåŠ æƒæ±‚å’Œï¼ˆæƒé‡ä¾èµ–äºXYåç§»é‡ï¼‰ï¼Œä»¥å¾—åˆ°ç›¸åº”BEVåƒç´ å¤„çš„ç‰¹å¾å€¼ã€‚å¯¹BEVçš„æ¯ä¸ªåƒç´ è¿›è¡Œç±»ä¼¼å¤„ç†ï¼Œå°±å¾—åˆ°äº†ä¸€ä¸ªBEVç‰¹å¾å›¾ã€‚è¿™æ ·å°±å®Œæˆäº†å›¾åƒç‰¹å¾åˆ°BEVè§†å›¾çš„è½¬æ¢ï¼Œä¹‹åå°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„ä¸æ¥è‡ªç‚¹äº‘çš„BEVç‰¹å¾è¿›è¡Œèåˆã€‚ContFuseä¸­åœ¨å¤šä¸ªç©ºé—´åˆ†è¾¨ç‡ä¸‹è¿›è¡Œäº†ä¸Šè¿°çš„ç‰¹å¾èåˆï¼Œä»¥æé«˜å¯¹ä¸åŒå¤§å°ç‰©ä½“çš„æ£€æµ‹èƒ½åŠ›ã€‚</p><p><img src="https://pic1.zhimg.com/80/v2-3947a9429eb1c72edf07a8ef296c1ac0_720w.webp" alt="https://pic1.zhimg.com/80/v2-3947a9429eb1c72edf07a8ef296c1ac0_720w.webp"></p><p>åˆ©ç”¨è¿ç»­å·ç§¯å°†å›¾åƒç‰¹å¾æŠ•å½±åˆ°BEVè§†å›¾</p><p>**PointPainting[8]**æŠŠç‚¹äº‘æŠ•å½±åˆ°å›¾åƒè¯­ä¹‰åˆ†å‰²çš„ç»“æœä¸­ï¼Œè¿™ä¸IPODä¸­çš„åšæ³•ç±»ä¼¼ã€‚ä½†æ˜¯ï¼Œ**PointPaintingæ²¡æœ‰åˆ©ç”¨è¯­ä¹‰åˆ†å‰²çš„ç»“æœæ¥åˆ†ç¦»å‰æ™¯ç‚¹ï¼Œè€Œæ˜¯ç›´æ¥å°†è¯­ä¹‰åˆ†å‰²çš„ä¿¡æ¯é™„åŠ åˆ°ç‚¹äº‘ä¸Šã€‚**è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œèåˆä¹‹åçš„æ•°æ®è¿˜æ˜¯ç‚¹äº‘ï¼ˆä½†æ˜¯å…·æœ‰æ›´ä¸ºä¸°å¯Œçš„è¯­ä¹‰ä¿¡æ¯ï¼‰ï¼Œå¯ä»¥é‡‡ç”¨ä»»ä½•ç‚¹äº‘ç‰©ä½“æ£€æµ‹ç½‘ç»œæ¥å¤„ç†ï¼Œæ¯”å¦‚PointRCNNï¼ŒVoxelNetï¼ŒPointPillarç­‰ç­‰ã€‚</p><p><img src="https://pic4.zhimg.com/80/v2-6df5b45a9eda063e9db991b0ae8290a7_720w.webp" alt="https://pic4.zhimg.com/80/v2-6df5b45a9eda063e9db991b0ae8290a7_720w.webp"></p><p>PointPaintingçš„èåˆæµç¨‹å›¾</p><p>PointPaintingä¸­é™„åŠ ç»™ç‚¹äº‘çš„æ˜¯2Då›¾åƒçš„è¯­ä¹‰ä¿¡æ¯ï¼Œè¿™å·²ç»æ˜¯é«˜åº¦æŠ½è±¡ä¹‹åçš„ä¿¡æ¯ï¼Œè€ŒåŸå§‹çš„å›¾åƒç‰¹å¾åˆ™è¢«ä¸¢å¼ƒäº†ã€‚ä»èåˆçš„è§’åº¦æ¥çœ‹ï¼Œåº•å±‚ç‰¹å¾çš„èåˆå¯ä»¥æ›´å¤§ç¨‹åº¦çš„ä¿ç•™ä¿¡æ¯ï¼Œåˆ©ç”¨ä¸åŒç‰¹å¾ä¹‹é—´çš„äº’è¡¥æ€§ï¼Œç†è®ºä¸Šè¯´ä¹Ÿå°±æ›´æœ‰å¯èƒ½æå‡èåˆçš„æ•ˆæœã€‚**MVX-Net[9]**åˆ©ç”¨ä¸€ä¸ªå®ç°è®­ç»ƒå¥½çš„2Då·ç§¯ç½‘ç»œæ¥æå–å›¾åƒç‰¹å¾ï¼Œç„¶åé€šè¿‡ç‚¹äº‘å’Œå›¾åƒä¹‹é—´çš„æ˜ å°„å…³ç³»å°†å›¾åƒç‰¹å¾é™„åŠ åˆ°æ¯ä¸ªç‚¹ä¸Šã€‚ä¹‹åå†é‡‡ç”¨VoxelNetæ¥å¤„ç†èåˆåçš„ç‚¹ç‰¹å¾ã€‚é™¤äº†è¿™ç§ç‚¹èåˆç­–ç•¥ï¼ŒMVX-Netè¿˜æå‡ºäº†åœ¨voxelå±‚æ¬¡ä¸Šèåˆï¼Œå…¶ä¸»è¦çš„ä¸åŒå°±åœ¨äºå°†voxelè€Œä¸æ˜¯pointæŠ•å½±åˆ°å›¾åƒç©ºé—´ï¼Œå› æ­¤å›¾åƒç‰¹å¾æ˜¯è¢«é™„åŠ åœ¨voxelä¹‹ä¸Šã€‚ä»å®éªŒç»“æœæ¥çœ‹ï¼Œpointèåˆæ¯”voxelèåˆç»“æœç•¥å¥½ï¼Œè¿™ä¹Ÿè¿›ä¸€æ­¥è¯´æ˜äº†è¾ƒä½çš„èåˆå±‚æ¬¡å¯èƒ½ä¼šå¸¦æ¥æ›´å¥½çš„æ•ˆæœã€‚</p><p><img src="https://pic1.zhimg.com/80/v2-0c67ac7786073e73df84c03c29804144_720w.webp" alt="https://pic1.zhimg.com/80/v2-0c67ac7786073e73df84c03c29804144_720w.webp"></p><p>MVX-Netä¸­çš„Pointèåˆæ–¹æ³•</p><p>**è¯­ä¹‰åˆ†å‰²ä»»åŠ¡ä¸­çš„èåˆä¸€èˆ¬éƒ½æ˜¯åœ¨ç‰¹å¾å±‚ä¸Šè¿›è¡Œï¼Œä¹‹å‰ä»‹ç»çš„ç‰¹å¾èåˆæ–¹æ³•ç†è®ºä¸Šæ¥è¯´å¯ä»¥ç”¨æ¥è¿›è¡Œè¯­ä¹‰åˆ†å‰²ã€‚**æ¯”å¦‚è¯´ï¼ŒContFuseåœ¨BEVç½‘æ ¼ä¸Šèåˆäº†å›¾åƒå’Œç‚¹äº‘ç‰¹å¾ï¼Œè¿™ä¸ªç‰¹å¾å°±å¯ä»¥ç”¨æ¥è¿›è¡Œç½‘æ ¼çº§åˆ«çš„è¯­ä¹‰åˆ†å‰²ï¼Œè€ŒPointPaintingå°†å›¾åƒç‰¹å¾é™„åŠ åˆ°ç‚¹äº‘ä¸Šï¼Œåç»­å¯ä»¥é‡‡ç”¨ä»»ä½•åŸºäºç‚¹äº‘è¯­ä¹‰åˆ†å‰²çš„ç®—æ³•æ¥å¯¹æ¯ä¸ªç‚¹è¿›è¡Œè¯­ä¹‰åˆ†ç±»ï¼Œç”šè‡³ä¹Ÿå¯ä»¥è¿›è¡Œå®ä¾‹åˆ†å‰²å’Œå…¨æ™¯åˆ†å‰²ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¬”è®° </tag>
            
            <tag> ç›¸æœº </tag>
            
            <tag> æ¿€å…‰é›·è¾¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Image Gallery</title>
      <link href="/2023/05/06/Image-Gallery/"/>
      <url>/2023/05/06/Image-Gallery/</url>
      
        <content type="html"><![CDATA[<div class="gallery-group-main">  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://i.loli.net/2019/11/10/T7Mu8Aod3egmC4Q.png' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">å£ç´™</div>  <p>æ”¶è—çš„ä¸€äº›å£çº¸</p>  <a href='/Gallery/wallpaper'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://i.loli.net/2019/12/25/8t97aVlp4hgyBGu.jpg' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">æ¼«å¨</div>  <p>å…³äºæ¼«å¨çš„å›¾ç‰‡</p>  <a href='/Gallery/marvel'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://i.loli.net/2019/12/25/hOqbQ3BIwa6KWpo.jpg' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">OH MY GIRL</div>  <p>å…³äºOH MY GIRLçš„å›¾ç‰‡</p>  <a href='/Gallery/ohmygirl'></a>  </figcaption>  </figure>  </div>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2023/05/05/hello-world/"/>
      <url>/2023/05/05/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to Fanferâ€™s Blog(<a href="https://fanfer.fun">https://fanfer.fun</a>)! This is your very first post.</p><h2 id="quick-start">Quick Start</h2><h3 id="create-a-new-post">Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="run-server">Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="generate-static-files">Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="deploy-to-remote-sites">Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p><h2 id="basic-usage">basic usage</h2><h3 id="å›¾åºŠæ›´æ–°">å›¾åºŠæ›´æ–°</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="comment"># å°†æ›´æ”¹æäº¤</span></span><br><span class="line">$ git add .</span><br><span class="line">$ git commit -m <span class="string">&quot;æ›´æ–°å›¾ç‰‡&quot;</span></span><br><span class="line">$ <span class="comment"># æ¨é€è‡³githubä»“åº“</span></span><br><span class="line">$ git push</span><br></pre></td></tr></table></figure><h3 id="éƒ¨ç½²æ›´æ–°">éƒ¨ç½²æ›´æ–°</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean; hexo generate; hexo deploy </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¬”è®° </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
